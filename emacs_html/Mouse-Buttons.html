<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Mouse Buttons (GNU Emacs Manual)</title>

<meta name="description" content="Mouse Buttons (GNU Emacs Manual)">
<meta name="keywords" content="Mouse Buttons (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Key-Bindings.html" rel="up" title="Key Bindings">
<link href="Disabling.html" rel="next" title="Disabling">
<link href="Named-ASCII-Chars.html" rel="prev" title="Named ASCII Chars">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Mouse-Buttons">
<div class="nav-panel">
<p>
Next: <a href="Disabling.html" accesskey="n" rel="next">Disabling Commands</a>, Previous: <a href="Named-ASCII-Chars.html" accesskey="p" rel="prev">Named <abbr class="acronym">ASCII</abbr> Control Characters</a>, Up: <a href="Key-Bindings.html" accesskey="u" rel="up">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Rebinding-Mouse-Buttons"><span>37.3.10 Rebinding Mouse Buttons<a class="copiable-link" href="#Rebinding-Mouse-Buttons"> &para;</a></span></h4>
<a class="index-entry-id" id="index-mouse-button-events"></a>
<a class="index-entry-id" id="index-rebinding-mouse-buttons"></a>
<a class="index-entry-id" id="index-click-events"></a>
<a class="index-entry-id" id="index-drag-events"></a>
<a class="index-entry-id" id="index-down-events"></a>
<a class="index-entry-id" id="index-button_002ddown-events"></a>

<p>Emacs uses Lisp symbols to designate mouse buttons, too.  The ordinary
mouse events in Emacs are <em class="dfn">click</em> events; these happen when you
press a button and release it without moving the mouse.  You can also
get <em class="dfn">drag</em> events, when you move the mouse while holding the button
down.  Drag events happen when you finally let go of the button.
</p>
<p>The symbols for basic click events are <code class="code">mouse-1</code> for the leftmost
button, <code class="code">mouse-2</code> for the next, and so on.  Here is how you can
redefine the second mouse button to split the current window:
</p>
<div class="example">
<pre class="example-preformatted">(keymap-global-set &quot;&lt;mouse-2&gt;&quot; 'split-window-below)
</pre></div>

<p>The symbols for drag events are similar, but have the prefix
&lsquo;<samp class="samp">drag-</samp>&rsquo; before the word &lsquo;<samp class="samp">mouse</samp>&rsquo;.  For example, dragging the
first button generates a <code class="code">drag-mouse-1</code> event.
</p>
<p>You can also define bindings for events that occur when a mouse button
is pressed down.  These events start with &lsquo;<samp class="samp">down-</samp>&rsquo; instead of
&lsquo;<samp class="samp">drag-</samp>&rsquo;.  Such events are generated only if they have key bindings.
When you get a button-down event, a corresponding click or drag event
will always follow.
</p>
<a class="index-entry-id" id="index-double-clicks"></a>
<a class="index-entry-id" id="index-triple-clicks"></a>
<p>If you wish, you can distinguish single, double, and triple clicks.  A
double click means clicking a mouse button twice in approximately the
same place.  The first click generates an ordinary click event.  The
second click, if it comes soon enough, generates a double-click event
instead.  The event type for a double-click event starts with
&lsquo;<samp class="samp">double-</samp>&rsquo;: for example, <code class="code">double-mouse-3</code>.
</p>
<p>This means that you can give a special meaning to the second click at
the same place, but it must act on the assumption that the ordinary
single click definition has run when the first click was received.
</p>
<p>This constrains what you can do with double clicks, but user interface
designers say that this constraint ought to be followed in any case.  A
double click should do something similar to the single click, only
more so.  The command for the double-click event should perform the
extra work for the double click.
</p>
<p>If a double-click event has no binding, it changes to the
corresponding single-click event.  Thus, if you don&rsquo;t define a
particular double click specially, it executes the single-click command
twice.
</p>
<p>Emacs also supports triple-click events whose names start with
&lsquo;<samp class="samp">triple-</samp>&rsquo;.  Emacs does not distinguish quadruple clicks as event
types; clicks beyond the third generate additional triple-click events.
However, the full number of clicks is recorded in the event list, so
if you know Emacs Lisp you can distinguish if you really want to
(see <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Click-Events.html#Click-Events">Click Events</a> in <cite class="cite">The Emacs Lisp Reference Manual</cite>).
We don&rsquo;t recommend distinct meanings for more than three clicks, but
sometimes it is useful for subsequent clicks to cycle through the same
set of three meanings, so that four clicks are equivalent to one
click, five are equivalent to two, and six are equivalent to three.
</p>
<p>Emacs also records multiple presses in drag and button-down events.
For example, when you press a button twice, then move the mouse while
holding the button, Emacs gets a &lsquo;<samp class="samp">double-drag-</samp>&rsquo; event.  And at the
moment when you press it down for the second time, Emacs gets a
&lsquo;<samp class="samp">double-down-</samp>&rsquo; event (which is ignored, like all button-down
events, if it has no binding).
</p>
<a class="index-entry-id" id="index-double_002dclick_002dtime"></a>
<p>The variable <code class="code">double-click-time</code> specifies how much time can
elapse between clicks and still allow them to be grouped as a multiple
click.  Its value is in units of milliseconds.  If the value is
<code class="code">nil</code>, double clicks are not detected at all.  If the value is
<code class="code">t</code>, then there is no time limit.  The default is 500.
</p>
<a class="index-entry-id" id="index-double_002dclick_002dfuzz"></a>
<p>The variable <code class="code">double-click-fuzz</code> specifies how much the mouse
can move between clicks and still allow them to be grouped as a multiple
click.  Its value is in units of pixels on windowed displays and in
units of 1/8 of a character cell on text-mode terminals; the default is
3.
</p>
<p>The symbols for mouse events also indicate the status of the modifier
keys, with the usual prefixes &lsquo;<samp class="samp">C-</samp>&rsquo;, &lsquo;<samp class="samp">M-</samp>&rsquo;, &lsquo;<samp class="samp">H-</samp>&rsquo;,
&lsquo;<samp class="samp">s-</samp>&rsquo;, &lsquo;<samp class="samp">A-</samp>&rsquo;, and &lsquo;<samp class="samp">S-</samp>&rsquo;.  These always precede &lsquo;<samp class="samp">double-</samp>&rsquo;
or &lsquo;<samp class="samp">triple-</samp>&rsquo;, which always precede &lsquo;<samp class="samp">drag-</samp>&rsquo; or &lsquo;<samp class="samp">down-</samp>&rsquo;.
</p>
<p>A frame includes areas that don&rsquo;t show text from the buffer, such as
the mode line and the scroll bar.  You can tell whether a mouse button
comes from a special area of the screen by means of dummy prefix
keys.  For example, if you click the mouse in the mode line, you get
the prefix key <code class="code">mode-line</code> before the ordinary mouse-button symbol.
Thus, here is how to define the command for clicking the first button in
a mode line to run <code class="code">scroll-up-command</code>:
</p>
<div class="example">
<pre class="example-preformatted">(keymap-global-set &quot;&lt;mode-line&gt; &lt;mouse-1&gt;&quot; 'scroll-up-command)
</pre></div>

<p>Here is the complete list of these dummy prefix keys and their
meanings:
</p>
<dl class="table">
<dt><code class="code">mode-line</code></dt>
<dd><p>The mouse was in the mode line of a window.
</p></dd>
<dt><code class="code">vertical-line</code></dt>
<dd><p>The mouse was in the vertical line separating side-by-side windows.  (If
you use scroll bars, they appear in place of these vertical lines.)
</p></dd>
<dt><code class="code">vertical-scroll-bar</code></dt>
<dd><p>The mouse was in a vertical scroll bar.  (This is the only kind of
scroll bar Emacs currently supports.)
</p></dd>
<dt><code class="code">menu-bar</code></dt>
<dd><p>The mouse was in the menu bar.
</p></dd>
<dt><code class="code">tab-bar</code></dt>
<dd><p>The mouse was in a tab bar.
</p></dd>
<dt><code class="code">tab-line</code></dt>
<dd><p>The mouse was in a tab line.
</p></dd>
<dt><code class="code">header-line</code></dt>
<dd><p>The mouse was in a header line.
</p></dd>
</dl>

<p>You can put more than one mouse button in a key sequence, but it isn&rsquo;t
usual to do so.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Disabling.html">Disabling Commands</a>, Previous: <a href="Named-ASCII-Chars.html">Named <abbr class="acronym">ASCII</abbr> Control Characters</a>, Up: <a href="Key-Bindings.html">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
