<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Repeat Isearch (GNU Emacs Manual)</title>

<meta name="description" content="Repeat Isearch (GNU Emacs Manual)">
<meta name="keywords" content="Repeat Isearch (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Incremental-Search.html" rel="up" title="Incremental Search">
<link href="Isearch-Yank.html" rel="next" title="Isearch Yank">
<link href="Basic-Isearch.html" rel="prev" title="Basic Isearch">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Repeat-Isearch">
<div class="nav-panel">
<p>
Next: <a href="Isearch-Yank.html" accesskey="n" rel="next">Isearch Yanking</a>, Previous: <a href="Basic-Isearch.html" accesskey="p" rel="prev">Basics of Incremental Search</a>, Up: <a href="Incremental-Search.html" accesskey="u" rel="up">Incremental Search</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Repeating-Incremental-Search"><span>16.1.2 Repeating Incremental Search<a class="copiable-link" href="#Repeating-Incremental-Search"> &para;</a></span></h4>

<a class="index-entry-id" id="index-C_002ds-_0028Incremental-Search_0029"></a>
<a class="index-entry-id" id="index-C_002dr-_0028Incremental-Search_0029"></a>
<a class="index-entry-id" id="index-isearch_002drepeat_002dforward"></a>
<a class="index-entry-id" id="index-isearch_002drepeat_002dbackward"></a>
<p>Suppose you search forward for &lsquo;<samp class="samp">FOO</samp>&rsquo; and find a match, but not
the one you expected to find: the &lsquo;<samp class="samp">FOO</samp>&rsquo; you were aiming for
occurs later in the buffer.  In this event, type another <kbd class="kbd">C-s</kbd>
(<code class="code">isearch-repeat-forward</code>) to move to the next occurrence of the
search string, or <kbd class="kbd">C-r</kbd> (<code class="code">isearch-repeat-backward</code>) to move
to the previous occurrence.  You can repeat these commands any number
of times.  Alternatively, you can supply a numeric prefix argument of
<var class="var">n</var> to <kbd class="kbd">C-s</kbd> and <kbd class="kbd">C-r</kbd> to find the <var class="var">n</var>th next or
previous occurrence.  If you overshoot, you can cancel some <kbd class="kbd">C-s</kbd>
commands with <kbd class="key">DEL</kbd>.  Similarly, each <kbd class="kbd">C-r</kbd>
(<code class="code">isearch-repeat-backward</code>) in a backward incremental search
repeats the backward search.
</p>
<a class="index-entry-id" id="index-lazy-search-highlighting"></a>
<p>If you pause for a little while during incremental search, Emacs
highlights all the other possible matches for the search string that
are present on the screen.  This helps you anticipate where you can
get to by typing <kbd class="kbd">C-s</kbd> or <kbd class="kbd">C-r</kbd> to repeat the search.  The
other matches are highlighted differently from the current match,
using the customizable face <code class="code">lazy-highlight</code> (see <a class="pxref" href="Faces.html">Text Faces</a>).  If
you don&rsquo;t like this feature, you can disable it by setting
<code class="code">isearch-lazy-highlight</code> to <code class="code">nil</code>.  For other customizations
related to highlighting matches, see <a class="ref" href="Search-Customizations.html">Tailoring Search to Your Needs</a>.
</p>
<p>After exiting a search, you can search for the same string again by
typing just <kbd class="kbd">C-s C-s</kbd>.  The first <kbd class="kbd">C-s</kbd> is the key that
invokes incremental search, and the second <kbd class="kbd">C-s</kbd> means to search
again for the last search string.  Similarly, <kbd class="kbd">C-r C-r</kbd> searches
backward for the last search string.  In determining the last search
string, it doesn&rsquo;t matter whether that string was searched for with
<kbd class="kbd">C-s</kbd> or <kbd class="kbd">C-r</kbd>.
</p>
<p>If you are searching forward but you realize you were looking for
something before the starting point, type <kbd class="kbd">C-r</kbd> to switch to a
backward search, leaving the search string unchanged.  Similarly,
<kbd class="kbd">C-s</kbd> in a backward search switches to a forward search.
</p>
<a class="index-entry-id" id="index-search_002c-changing-direction"></a>
<a class="index-entry-id" id="index-isearch_002drepeat_002don_002ddirection_002dchange"></a>
<p>When you change the direction of a search, the first command you
type will, by default, remain on the same match, and the cursor will
move to the other end of the match.  To move to another match
immediately, customize the variable
<code class="code">isearch-repeat-on-direction-change</code> to <code class="code">t</code>.
</p>
<a class="index-entry-id" id="index-search_002c-wrapping-around"></a>
<a class="index-entry-id" id="index-search_002c-overwrapped"></a>
<a class="index-entry-id" id="index-wrapped-search"></a>
<a class="index-entry-id" id="index-overwrapped-search"></a>
<p>If a search is failing and you ask to repeat it by typing another
<kbd class="kbd">C-s</kbd>, it starts again from the beginning of the buffer.
Repeating a failing reverse search with <kbd class="kbd">C-r</kbd> starts again from
the end.  This is called <em class="dfn">wrapping around</em>, and &lsquo;<samp class="samp">Wrapped</samp>&rsquo;
appears in the search prompt once this has happened.  If you keep on
going past the original starting point of the search, it changes to
&lsquo;<samp class="samp">Overwrapped</samp>&rsquo;, which means that you are revisiting matches that
you have already seen.
</p>
<a class="index-entry-id" id="index-isearch_002dwrap_002dpause"></a>
<p>You can control what happens when there are no more matches by
customizing the <code class="code">isearch-wrap-pause</code> user option.  If it is
<code class="code">t</code> (the default), signal an error.  (Repeating the search will
wrap around.)  If <code class="code">no</code>, issue a <code class="code">ding</code> and wrap immediately
after reaching the last match.  If <code class="code">no-ding</code>, wrap immediately,
but don&rsquo;t <code class="code">ding</code>.  With the values <code class="code">no</code> and <code class="code">no-ding</code>
the search will try to wrap around also on typing a character.
Finally, if <code class="code">nil</code>, never wrap, but just stop at the last match.
</p>
<a class="index-entry-id" id="index-search-ring"></a>
<a class="index-entry-id" id="index-isearch_002dring_002dadvance"></a>
<a class="index-entry-id" id="index-isearch_002dring_002dretreat"></a>
<a class="index-entry-id" id="index-M_002dn-_0028Incremental-search_0029"></a>
<a class="index-entry-id" id="index-M_002dp-_0028Incremental-search_0029"></a>
<a class="index-entry-id" id="index-search_002dring_002dmax"></a>
<p>To reuse earlier search strings, use the <em class="dfn">search ring</em>.  The
commands <kbd class="kbd">M-p</kbd> (<code class="code">isearch-ring-retreat</code>) and <kbd class="kbd">M-n</kbd>
(<code class="code">isearch-ring-advance</code>) move through the ring to pick a search
string to reuse.  These commands leave the selected search ring
element in the minibuffer, where you can edit it.  Type
<kbd class="kbd">C-s</kbd>/<kbd class="kbd">C-r</kbd> or <kbd class="key">RET</kbd> to accept the string and start
searching for it.  The number of most recently used search strings
saved in the search ring is specified by the variable
<code class="code">search-ring-max</code>, 16 by default.
</p>
<a class="index-entry-id" id="index-incremental-search_002c-edit-search-string"></a>
<a class="index-entry-id" id="index-interactively-edit-search-string"></a>
<a class="index-entry-id" id="index-isearch_002dedit_002dstring"></a>
<a class="index-entry-id" id="index-M_002de-_0028Incremental-search_0029"></a>
<a class="index-entry-id" id="index-mouse_002d1-in-the-minibuffer-_0028Incremental-Search_0029"></a>
<p>To edit the current search string in the minibuffer without
replacing it with items from the search ring, type <kbd class="kbd">M-e</kbd>
(<code class="code">isearch-edit-string</code>) or click <kbd class="kbd">mouse-1</kbd> in the minibuffer.
Type <kbd class="key">RET</kbd>, <kbd class="kbd">C-s</kbd> or <kbd class="kbd">C-r</kbd> to finish editing the string
and search for it.  Type <kbd class="kbd">C-f</kbd> or <kbd class="kbd"><kbd class="key">RIGHT</kbd></kbd> to add to the
search string characters following point from the buffer from which
you started the search.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Isearch-Yank.html">Isearch Yanking</a>, Previous: <a href="Basic-Isearch.html">Basics of Incremental Search</a>, Up: <a href="Incremental-Search.html">Incremental Search</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
