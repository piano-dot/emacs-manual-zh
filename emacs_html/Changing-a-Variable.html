<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Changing a Variable (GNU Emacs Manual)</title>

<meta name="description" content="Changing a Variable (GNU Emacs Manual)">
<meta name="keywords" content="Changing a Variable (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Easy-Customization.html" rel="up" title="Easy Customization">
<link href="Saving-Customizations.html" rel="next" title="Saving Customizations">
<link href="Browsing-Custom.html" rel="prev" title="Browsing Custom">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Changing-a-Variable">
<div class="nav-panel">
<p>
Next: <a href="Saving-Customizations.html" accesskey="n" rel="next">Saving Customizations</a>, Previous: <a href="Browsing-Custom.html" accesskey="p" rel="prev">Browsing and Searching for Settings</a>, Up: <a href="Easy-Customization.html" accesskey="u" rel="up">Easy Customization Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Changing-a-Variable-1"><span>37.1.3 Changing a Variable<a class="copiable-link" href="#Changing-a-Variable-1"> &para;</a></span></h4>

<p>Here is an example of what a variable, or user option, looks like in
the customization buffer:
</p>
<div class="example smallexample">
<pre class="example-preformatted">[Hide] Kill Ring Max: Integer (positive or zero): 120
   [State]: STANDARD.
   Maximum length of kill ring before oldest elements are thrown away.
</pre></div>

<p>The first line shows that the variable is named
<code class="code">kill-ring-max</code>, formatted as &lsquo;<samp class="samp">Kill Ring Max</samp>&rsquo; for easier
viewing, and also shows its expected type: a positive integer or zero.
The default value is &lsquo;<samp class="samp">120</samp>&rsquo;.  The button labeled &lsquo;<samp class="samp">[Hide]</samp>&rsquo;,
if activated, hides the variable&rsquo;s value and state; this is useful to
avoid cluttering up the customization buffer with very long values
(for this reason, variables that have very long values may start out
hidden).  If you use the &lsquo;<samp class="samp">[Hide]</samp>&rsquo; button, it changes to
&lsquo;<samp class="samp">[Show Value]</samp>&rsquo;, which you can activate to reveal the value and
state.  On a graphical display, the &lsquo;<samp class="samp">[Hide]</samp>&rsquo; and &lsquo;<samp class="samp">[Show
Value]</samp>&rsquo; buttons are replaced with graphical triangles pointing
downwards and rightwards respectively.
</p>
<p>The line after the variable name indicates the <em class="dfn">customization
state</em> of the variable: in this example, &lsquo;<samp class="samp">STANDARD</samp>&rsquo; means you
have not changed the variable, so its value is the default one.  The
&lsquo;<samp class="samp">[State]</samp>&rsquo; button gives a menu of operations for customizing the
variable.
</p>
<p>Below the customization state is the documentation for the variable.
This is the same documentation that would be shown by the <kbd class="kbd">C-h v</kbd>
command (see <a class="pxref" href="Examining.html">Examining and Setting Variables</a>).  If the documentation is more than one
line long, only one line may be shown.  If so, that line ends with a
&lsquo;<samp class="samp">[More]</samp>&rsquo; button; activate this to see the full documentation.
</p>
<a class="index-entry-id" id="index-user-options_002c-changing"></a>
<a class="index-entry-id" id="index-customizing-variables"></a>
<a class="index-entry-id" id="index-variables_002c-changing"></a>
<p>To enter a new value for &lsquo;<samp class="samp">Kill Ring Max</samp>&rsquo;, just move point to
the value and edit it.  For example, type <kbd class="kbd">M-d</kbd> to delete the
&lsquo;<samp class="samp">60</samp>&rsquo; and type in another number.  As you begin to alter the text,
the &lsquo;<samp class="samp">[State]</samp>&rsquo; line will change:
</p>
<div class="example smallexample">
<pre class="example-preformatted">[State]: EDITED, shown value does not take effect until you
         set or save it.
</pre></div>

<p>Editing the value does not make it take effect right away.  To do
that, you must <em class="dfn">set</em> the variable by activating the &lsquo;<samp class="samp">[State]</samp>&rsquo;
button and choosing &lsquo;<samp class="samp">Set for Current Session</samp>&rsquo;.  Then the
variable&rsquo;s state becomes:
</p>
<div class="example smallexample">
<pre class="example-preformatted">[State]: SET for current session only.
</pre></div>

<p>You don&rsquo;t have to worry about specifying a value that is not valid;
the &lsquo;<samp class="samp">Set for Current Session</samp>&rsquo; operation checks for validity and
will not install an unacceptable value.
</p>
<a class="index-entry-id" id="index-M_002dTAB-_0028customization-buffer_0029"></a>
<a class="index-entry-id" id="index-C_002dM_002di-_0028customization-buffer_0029"></a>
<a class="index-entry-id" id="index-widget_002dcomplete"></a>
<p>While editing certain kinds of values, such as file names, directory
names, and Emacs command names, you can perform completion with
<kbd class="kbd">C-M-i</kbd> (<code class="code">widget-complete</code>), or the equivalent keys
<kbd class="kbd">M-<kbd class="key">TAB</kbd></kbd> or <kbd class="kbd"><kbd class="key">ESC</kbd> <kbd class="key">TAB</kbd></kbd>.  This behaves much
like minibuffer completion (see <a class="pxref" href="Completion.html">Completion</a>).
</p>
<p>Typing <kbd class="kbd"><kbd class="key">RET</kbd></kbd> on an editable value field moves point
forward to the next field or button, like <kbd class="kbd"><kbd class="key">TAB</kbd></kbd>.  You can
thus type <kbd class="kbd"><kbd class="key">RET</kbd></kbd> when you are finished editing a field, to
move on to the next button or field.  To insert a newline within an
editable field, use <kbd class="kbd">C-o</kbd> or <kbd class="kbd">C-q C-j</kbd>.
</p>
<p>For some variables, there is only a fixed set of legitimate values,
and you are not allowed to edit the value directly.  Instead, a
&lsquo;<samp class="samp">[Value Menu]</samp>&rsquo; button appears before the value; activating this
button presents a choice of values.  For a boolean &ldquo;on or off&rdquo;
value, the button says &lsquo;<samp class="samp">[Toggle]</samp>&rsquo;, and flips the value.  After
using the &lsquo;<samp class="samp">[Value Menu]</samp>&rsquo; or &lsquo;<samp class="samp">[Toggle]</samp>&rsquo; button, you must
again set the variable to make the chosen value take effect.
</p>
<p>Some variables have values with complex structure.  For example, the
value of <code class="code">minibuffer-frame-alist</code> is an association list.  Here
is how it appears in the customization buffer:
</p>
<div class="example smallexample">
<pre class="example-preformatted">[Hide] Minibuffer Frame Alist:
[INS] [DEL] Parameter: width
            Value: 80
[INS] [DEL] Parameter: height
            Value: 2
[INS]
   [ State ]: STANDARD.
   Alist of parameters for the initial minibuffer frame. [Hide]
   <span class="r">[...more lines of documentation...]</span>
</pre></div>

<p>In this case, each association in the list consists of two items, one
labeled &lsquo;<samp class="samp">Parameter</samp>&rsquo; and one labeled &lsquo;<samp class="samp">Value</samp>&rsquo;; both are
editable fields.  You can delete an association from the list with the
&lsquo;<samp class="samp">[DEL]</samp>&rsquo; button next to it.  To add an association, use the
&lsquo;<samp class="samp">[INS]</samp>&rsquo; button at the position where you want to insert it; the
very last &lsquo;<samp class="samp">[INS]</samp>&rsquo; button inserts at the end of the list.
</p>
<a class="index-entry-id" id="index-saving-a-setting"></a>
<a class="index-entry-id" id="index-settings_002c-how-to-save"></a>
<p>When you set a variable, the new value takes effect only in the
current Emacs session.  To <em class="dfn">save</em> the value for future sessions,
use the &lsquo;<samp class="samp">[State]</samp>&rsquo; button and select the &lsquo;<samp class="samp">Save for Future
Sessions</samp>&rsquo; operation.  See <a class="xref" href="Saving-Customizations.html">Saving Customizations</a>.
</p>
<p>You can also restore the variable to its standard value by using the
&lsquo;<samp class="samp">[State]</samp>&rsquo; button and selecting the &lsquo;<samp class="samp">Erase Customization</samp>&rsquo;
operation.  There are actually four reset operations:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">Undo Edits</samp>&rsquo;</dt>
<dd><p>If you have modified but not yet set the variable, this restores the
text in the customization buffer to match the actual value.
</p>
</dd>
<dt>&lsquo;<samp class="samp">Revert This Session's Customizations</samp>&rsquo;</dt>
<dd><p>This restores the value of the variable to the last saved value, if
there was one.  Otherwise it restores the standard value.  It updates
the text accordingly.
</p>
</dd>
<dt>&lsquo;<samp class="samp">Erase Customization</samp>&rsquo;</dt>
<dd><p>This sets the variable to its standard value.  Any saved value that
you have is also eliminated.
</p>
</dd>
<dt>&lsquo;<samp class="samp">Set to Backup Value</samp>&rsquo;</dt>
<dd><p>This sets the variable to a previous value that was set in the
customization buffer in this session.  If you customize a variable
and then reset it, which discards the customized value,
you can get the discarded value back again with this operation.
</p></dd>
</dl>

<a class="index-entry-id" id="index-comments-on-customized-settings"></a>
<p>Sometimes it is useful to record a comment about a specific
customization.  Use the &lsquo;<samp class="samp">Add Comment</samp>&rsquo; item from the
&lsquo;<samp class="samp">[State]</samp>&rsquo; menu to create a field for entering the comment.
</p>
<p>Near the top of the customization buffer are two lines of buttons:
</p>
<div class="example smallexample">
<pre class="example-preformatted"> Operate on all settings in this buffer:
 [Revert...] [Apply] [Apply and Save]
</pre></div>

<p>The &lsquo;<samp class="samp">[Revert...]</samp>&rsquo; button drops a menu with the first 3 reset
operations described above.  The &lsquo;<samp class="samp">[Apply]</samp>&rsquo; button applies the
settings for the current session.  The &lsquo;<samp class="samp">[Apply and Save]</samp>&rsquo; button
applies the settings and saves them for future sessions; this button
does not appear if Emacs was started with the <samp class="option">-q</samp> or
<samp class="option">-Q</samp> option (see <a class="pxref" href="Initial-Options.html">Initial Options</a>).
</p>
<a class="index-entry-id" id="index-C_002dc-C_002dc-_0028customization-buffer_0029"></a>
<a class="index-entry-id" id="index-C_002dx-C_002dc-_0028customization-buffer_0029"></a>
<a class="index-entry-id" id="index-Custom_002dset"></a>
<a class="index-entry-id" id="index-Custom_002dsave"></a>
<p>The command <kbd class="kbd">C-c C-c</kbd> (<code class="code">Custom-set</code>) is equivalent to using
the &lsquo;<samp class="samp">[Set for Current Session]</samp>&rsquo; button.  The command <kbd class="kbd">C-x
C-s</kbd> (<code class="code">Custom-save</code>) is like using the &lsquo;<samp class="samp">[Save for Future
Sessions]</samp>&rsquo; button.
</p>
<a class="index-entry-id" id="index-custom_002dbuffer_002ddone_002dkill"></a>
<p>The &lsquo;<samp class="samp">[Exit]</samp>&rsquo; button switches out of the customization buffer,
and buries the buffer at the bottom of the buffer list.  To make it
kill the customization buffer instead, change the variable
<code class="code">custom-buffer-done-kill</code> to <code class="code">t</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Saving-Customizations.html">Saving Customizations</a>, Previous: <a href="Browsing-Custom.html">Browsing and Searching for Settings</a>, Up: <a href="Easy-Customization.html">Easy Customization Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
