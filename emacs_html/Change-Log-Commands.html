<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Change Log Commands (GNU Emacs Manual)</title>

<meta name="description" content="Change Log Commands (GNU Emacs Manual)">
<meta name="keywords" content="Change Log Commands (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Change-Log.html" rel="up" title="Change Log">
<link href="Format-of-ChangeLog.html" rel="next" title="Format of ChangeLog">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Change-Log-Commands">
<div class="nav-panel">
<p>
Next: <a href="Format-of-ChangeLog.html" accesskey="n" rel="next">Format of ChangeLog</a>, Up: <a href="Change-Log.html" accesskey="u" rel="up">Change Logs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Change-Log-Commands-1"><span>29.3.1 Change Log Commands<a class="copiable-link" href="#Change-Log-Commands-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-C_002dx-4-a"></a>
<a class="index-entry-id" id="index-add_002dchange_002dlog_002dentry_002dother_002dwindow"></a>
<p>The Emacs command <kbd class="kbd">C-x 4 a</kbd> adds a new entry to the change log
file for the file you are editing
(<code class="code">add-change-log-entry-other-window</code>).  If that file is actually
a backup file, it makes an entry appropriate for the file&rsquo;s
parent&mdash;that is useful for making log entries for functions that
have been deleted in the current version.
</p>
<p><kbd class="kbd">C-x 4 a</kbd> visits the change log file and creates a new entry
unless the most recent entry is for today&rsquo;s date and your name.  It
also creates a new item for the current file.  For many languages, it
can even guess the name of the function or other object that was
changed.
</p>
<p>To find the change log file, Emacs searches up the directory tree from
the file you are editing.  By default, it stops if it finds a
directory that seems to be the root of a version-control repository.
To change this, customize <code class="code">change-log-directory-files</code>.
</p>
<a class="index-entry-id" id="index-add_002dlog_002dkeep_002dchanges_002dtogether"></a>
<p>When the variable <code class="code">add-log-keep-changes-together</code> is
non-<code class="code">nil</code>, <kbd class="kbd">C-x 4 a</kbd> adds to any existing item for the file,
rather than starting a new item.
</p>
<p>You can combine multiple changes of the same nature.  If you don&rsquo;t
enter any text after the initial <kbd class="kbd">C-x 4 a</kbd>, any subsequent
<kbd class="kbd">C-x 4 a</kbd> adds another symbol to the change log entry.
</p>
<a class="index-entry-id" id="index-add_002dlog_002dalways_002dstart_002dnew_002drecord"></a>
<p>If <code class="code">add-log-always-start-new-record</code> is non-<code class="code">nil</code>,
<kbd class="kbd">C-x 4 a</kbd> always makes a new entry, even if the last entry
was made by you and on the same date.
</p>
<a class="index-entry-id" id="index-change_002dlog_002dversion_002dinfo_002denabled"></a>
<a class="index-entry-id" id="index-change_002dlog_002dversion_002dnumber_002dregexp_002dlist"></a>
<a class="index-entry-id" id="index-file-version-in-change-log-entries"></a>
<p>If the value of the variable <code class="code">change-log-version-info-enabled</code>
is non-<code class="code">nil</code>, <kbd class="kbd">C-x 4 a</kbd> adds the file&rsquo;s version number to the
change log entry.  It finds the version number by searching the first
ten percent of the file, using regular expressions from the variable
<code class="code">change-log-version-number-regexp-list</code>.
</p>
<a class="index-entry-id" id="index-Change-Log-mode"></a>
<a class="index-entry-id" id="index-change_002dlog_002dmode"></a>
<p>The change log file is visited in Change Log mode.  In this major
mode, each bunch of grouped items counts as one paragraph, and each
entry is considered a page.  This facilitates editing the entries.
<kbd class="kbd">C-j</kbd> and auto-fill indent each new line like the previous line;
this is convenient for entering the contents of an entry.
</p>
<a class="index-entry-id" id="index-change_002dlog_002dgoto_002dsource"></a>
<p>You can use the command <code class="code">change-log-goto-source</code> (by default
bound to <kbd class="kbd">C-c C-c</kbd>) to go to the source location of the change log
entry near point, when Change Log mode is on.  Then subsequent
invocations of the <code class="code">next-error</code> command (by default bound to
<kbd class="kbd">M-g M-n</kbd> and <kbd class="kbd">C-x `</kbd>) will move between entries in the change
log.  You will jump to the actual site in the file that was changed,
not just to the next change log entry.  You can also use
<code class="code">previous-error</code> to move back through the change log entries.
</p>
<a class="index-entry-id" id="index-change_002dlog_002dmerge"></a>
<p>You can use the command <kbd class="kbd">M-x change-log-merge</kbd> to merge other
log files into a buffer in Change Log Mode, preserving the date
ordering of entries.
</p>
<a class="index-entry-id" id="index-add_002dlog_002ddont_002dcreate_002dchangelog_002dfile"></a>
<p>Version control systems are another way to keep track of changes in
your program and keep a change log.  Many projects that use a VCS don&rsquo;t
keep a separate versioned change log file nowadays, so you may wish to
avoid having such a file in the repository.  If the value of
<code class="code">add-log-dont-create-changelog-file</code> is non-<code class="code">nil</code>, commands
like <kbd class="kbd">C-x 4 a</kbd> (<code class="code">add-change-log-entry-other-window</code>) will
record changes in a suitably named temporary buffer instead of a file,
if such a file does not already exist.
</p>
<p>Whether you have a change log file or use a temporary buffer for
change logs, you can type <kbd class="kbd">C-c C-a</kbd>
(<code class="code">log-edit-insert-changelog</code>) in the VC Log buffer to insert the
relevant change log entries, if they exist.  See <a class="xref" href="Log-Buffer.html">Features of the Log Entry Buffer</a>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Format-of-ChangeLog.html">Format of ChangeLog</a>, Up: <a href="Change-Log.html">Change Logs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
