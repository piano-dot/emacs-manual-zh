<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Dired Updating (GNU Emacs Manual)</title>

<meta name="description" content="Dired Updating (GNU Emacs Manual)">
<meta name="keywords" content="Dired Updating (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Dired.html" rel="up" title="Dired">
<link href="Dired-and-Find.html" rel="next" title="Dired and Find">
<link href="Hiding-Subdirectories.html" rel="prev" title="Hiding Subdirectories">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Dired-Updating">
<div class="nav-panel">
<p>
Next: <a href="Dired-and-Find.html" accesskey="n" rel="next">Dired and <code class="code">find</code></a>, Previous: <a href="Hiding-Subdirectories.html" accesskey="p" rel="prev">Hiding Subdirectories</a>, Up: <a href="Dired.html" accesskey="u" rel="up">Dired, the Directory Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Updating-the-Dired-Buffer"><span>31.16 Updating the Dired Buffer<a class="copiable-link" href="#Updating-the-Dired-Buffer"> &para;</a></span></h3>
<a class="index-entry-id" id="index-updating-Dired-buffer"></a>
<a class="index-entry-id" id="index-refreshing-displayed-files"></a>

<p>This section describes commands to update the Dired buffer to reflect
outside (non-Dired) changes in the directories and files, and to delete
part of the Dired buffer.
</p>
<dl class="table">
<dt><kbd class="kbd">g</kbd></dt>
<dd><p>Update the entire contents of the Dired buffer (<code class="code">revert-buffer</code>).
</p>
</dd>
<dt><kbd class="kbd">l</kbd></dt>
<dd><p>Update the specified files (<code class="code">dired-do-redisplay</code>).  You specify the
files for <kbd class="kbd">l</kbd> in the same way as for file operations.
</p>
</dd>
<dt><kbd class="kbd">k</kbd></dt>
<dd><p>Delete the specified <em class="emph">file lines</em>&mdash;not the files, just the lines
(<code class="code">dired-do-kill-lines</code>).
</p>
</dd>
<dt><kbd class="kbd">s</kbd></dt>
<dd><p>Toggle between alphabetical order and date/time order
(<code class="code">dired-sort-toggle-or-edit</code>).
</p>
</dd>
<dt><kbd class="kbd">C-u s <var class="var">switches</var> <kbd class="key">RET</kbd></kbd></dt>
<dd><p>Refresh the Dired buffer using <var class="var">switches</var> as
<code class="code">dired-listing-switches</code>.
</p></dd>
</dl>

<a class="index-entry-id" id="index-g-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-revert_002dbuffer-_0028Dired_0029"></a>
<p>Type <kbd class="kbd">g</kbd> (<code class="code">revert-buffer</code>) to update the contents of the
Dired buffer, based on changes in the files and directories listed.
This preserves all marks except for those on files that have vanished.
Hidden subdirectories are updated but remain hidden.
</p>
<a class="index-entry-id" id="index-l-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-dired_002ddo_002dredisplay"></a>
<p>To update only some of the files, type <kbd class="kbd">l</kbd>
(<code class="code">dired-do-redisplay</code>).  Like the Dired file-operating commands,
this command operates on the next <var class="var">n</var> files (or previous
&minus;<var class="var">n</var> files), or on the marked files if any, or on the
current file.  Updating the files means reading their current status,
then updating their lines in the buffer to indicate that status.
</p>
<p>If you use <kbd class="kbd">l</kbd> on a subdirectory header line, it updates the
contents of the corresponding subdirectory.
</p>
<a class="index-entry-id" id="index-dired_002dauto_002drevert_002dbuffer"></a>
<p>If you use <kbd class="kbd">C-x d</kbd> or some other Dired command to visit a
directory that is already being shown in a Dired buffer, Dired
switches to that buffer but does not update it.  If the buffer is not
up-to-date, Dired displays a warning telling you to type <kbd class="kbd">g</kbd> to
update it.  You can also tell Emacs to revert each Dired buffer
automatically when you revisit it, by setting the variable
<code class="code">dired-auto-revert-buffer</code> to a non-<code class="code">nil</code> value.
</p>
<a class="index-entry-id" id="index-k-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-dired_002ddo_002dkill_002dlines"></a>
<p>To delete <em class="emph">file lines</em> from the buffer&mdash;without actually
deleting the files&mdash;type <kbd class="kbd">k</kbd> (<code class="code">dired-do-kill-lines</code>).  Like
the file-operating commands, this command operates on the next <var class="var">n</var>
files, or on the marked files if any.  However, it does not operate on
the current file, since otherwise mistyping <kbd class="kbd">k</kbd> could be annoying.
</p>
<p>If you use <kbd class="kbd">k</kbd> to kill the line for a directory file which you
had inserted in the Dired buffer as a subdirectory
(see <a class="pxref" href="Subdirectories-in-Dired.html">Subdirectories in Dired</a>), it removes the subdirectory listing
as well.  Typing <kbd class="kbd">C-u k</kbd> on the header line for a subdirectory
also removes the subdirectory line from the Dired buffer.
</p>
<p>The <kbd class="kbd">g</kbd> command brings back any individual lines that you have
killed in this way, but not subdirectories&mdash;you must use <kbd class="kbd">i</kbd> to
reinsert a subdirectory.
</p>
<a class="index-entry-id" id="index-Dired-sorting"></a>
<a class="index-entry-id" id="index-sorting-Dired-buffer"></a>
<a class="index-entry-id" id="index-s-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-dired_002dsort_002dtoggle_002dor_002dedit"></a>
<p>The files in a Dired buffers are normally listed in alphabetical order
by file names.  Alternatively Dired can sort them by date/time.  The
Dired command <kbd class="kbd">s</kbd> (<code class="code">dired-sort-toggle-or-edit</code>) switches
between these two sorting modes.  The mode line in a Dired buffer
indicates which way it is currently sorted&mdash;by name, or by date.
</p>
<p><kbd class="kbd">C-u s <var class="var">switches</var> <kbd class="key">RET</kbd></kbd> lets you specify a new value for
<code class="code">dired-listing-switches</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Dired-and-Find.html">Dired and <code class="code">find</code></a>, Previous: <a href="Hiding-Subdirectories.html">Hiding Subdirectories</a>, Up: <a href="Dired.html">Dired, the Directory Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
