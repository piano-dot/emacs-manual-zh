<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>MS-DOS and MULE (GNU Emacs Manual)</title>

<meta name="description" content="MS-DOS and MULE (GNU Emacs Manual)">
<meta name="keywords" content="MS-DOS and MULE (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="MS_002dDOS.html" rel="up" title="MS-DOS">
<link href="MS_002dDOS-Processes.html" rel="next" title="MS-DOS Processes">
<link href="MS_002dDOS-Printing.html" rel="prev" title="MS-DOS Printing">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="MS_002dDOS-and-MULE">
<div class="nav-panel">
<p>
Next: <a href="MS_002dDOS-Processes.html" accesskey="n" rel="next">Subprocesses on MS-DOS</a>, Previous: <a href="MS_002dDOS-Printing.html" accesskey="p" rel="prev">Printing and MS-DOS</a>, Up: <a href="MS_002dDOS.html" accesskey="u" rel="up">Emacs and MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="International-Support-on-MS_002dDOS"><span>I.12.6 International Support on MS-DOS<a class="copiable-link" href="#International-Support-on-MS_002dDOS"> &para;</a></span></h4>
<a class="index-entry-id" id="index-international-support-_0028MS_002dDOS_0029"></a>

<p>Emacs on MS-DOS supports the same international character sets as it
does on GNU, Unix and other platforms
(see <a class="pxref" href="International.html">International Character Set Support</a>),
including coding systems for converting between the different
character sets.  However, due to incompatibilities between
MS-DOS/MS-Windows and other systems, there are several DOS-specific
aspects of this support that you should be aware of.  This section
describes these aspects.
</p>
<p>The description below is largely specific to the MS-DOS port of
Emacs, especially where it talks about practical implications for
Emacs users.
</p>
<dl class="table">
<dt><kbd class="kbd">M-x dos-codepage-setup</kbd></dt>
<dd><p>Set up Emacs display and coding systems as appropriate for the current
DOS codepage.
</p></dd>
</dl>

<a class="index-entry-id" id="index-codepage_002c-MS_002dDOS"></a>
<a class="index-entry-id" id="index-DOS-codepages"></a>
<p>MS-DOS is designed to support one character set of 256 characters at
any given time, but gives you a variety of character sets to choose
from.  The alternative character sets are known as <em class="dfn">DOS codepages</em>.
Each codepage includes all 128 <abbr class="acronym">ASCII</abbr> characters, but the other 128
characters (codes 128 through 255) vary from one codepage to another.
Each DOS codepage is identified by a 3-digit number, such as 850, 862,
etc.
</p>
<p>In contrast to X, which lets you use several fonts at the same time,
MS-DOS normally doesn&rsquo;t allow use of several codepages in a single
session.  MS-DOS was designed to load a single codepage at system
startup, and require you to reboot in order to change
it<a class="footnote" id="DOCF30" href="#FOOT30"><sup>30</sup></a>.  Much the same limitation applies when you run DOS
executables on other systems such as MS-Windows.
</p>
<a class="index-entry-id" id="index-dos_002dcodepage"></a>
<p>For multibyte operation on MS-DOS, Emacs needs to know which
characters the chosen DOS codepage can display.  So it queries the
system shortly after startup to get the chosen codepage number, and
stores the number in the variable <code class="code">dos-codepage</code>.  Some systems
return the default value 437 for the current codepage, even though the
actual codepage is different.  (This typically happens when you use the
codepage built into the display hardware.)  You can specify a different
codepage for Emacs to use by setting the variable <code class="code">dos-codepage</code> in
your init file.
</p>
<a class="index-entry-id" id="index-language-environment_002c-automatic-selection-on-MS_002dDOS"></a>
<p>Multibyte Emacs supports only certain DOS codepages: those which can
display Far-Eastern scripts, like the Japanese codepage 932, and those
that encode a single ISO 8859 character set.
</p>
<p>The Far-Eastern codepages can directly display one of the MULE
character sets for these countries, so Emacs simply sets up to use the
appropriate terminal coding system that is supported by the codepage.
The special features described in the rest of this section mostly
pertain to codepages that encode ISO 8859 character sets.
</p>
<p>For the codepages that correspond to one of the ISO character sets,
Emacs knows the character set based on the codepage number.  Emacs
automatically creates a coding system to support reading and writing
files that use the current codepage, and uses this coding system by
default.  The name of this coding system is <code class="code">cp<var class="var">nnn</var></code>, where
<var class="var">nnn</var> is the codepage number.<a class="footnote" id="DOCF31" href="#FOOT31"><sup>31</sup></a>
</p>
<a class="index-entry-id" id="index-mode-line-_0028MS_002dDOS_0029"></a>
<p>All the <code class="code">cp<var class="var">nnn</var></code> coding systems use the letter &lsquo;<samp class="samp">D</samp>&rsquo;
(for &ldquo;DOS&rdquo;) as their mode-line mnemonic.  Since both the terminal
coding system and the default coding system for file I/O are set to
the proper <code class="code">cp<var class="var">nnn</var></code> coding system at startup, it is normal
for the mode line on MS-DOS to begin with &lsquo;<samp class="samp">-DD\-</samp>&rsquo;.
See <a class="xref" href="Mode-Line.html">The Mode Line</a>.
Far-Eastern DOS terminals do not use the <code class="code">cp<var class="var">nnn</var></code> coding
systems, and thus their initial mode line looks like the Emacs
default.
</p>
<p>Since the codepage number also indicates which script you are using,
Emacs automatically runs <code class="code">set-language-environment</code> to select the
language environment for that script
(see <a class="pxref" href="Language-Environments.html">Language Environments</a>).
</p>
<p>If a buffer contains a character belonging to some other ISO 8859
character set, not the one that the chosen DOS codepage supports, Emacs
displays it using a sequence of <abbr class="acronym">ASCII</abbr> characters.  For example, if the
current codepage doesn&rsquo;t have a glyph for the letter &lsquo;<samp class="samp">&ograve;</samp>&rsquo; (small
&lsquo;<samp class="samp">o</samp>&rsquo; with a grave accent), it is displayed as &lsquo;<samp class="samp">{`o}</samp>&rsquo;, where
the braces serve as a visual indication that this is a single character.
(This may look awkward for some non-Latin characters, such as those from
Greek or Hebrew alphabets, but it is still readable by a person who
knows the language.)  Even though the character may occupy several
columns on the screen, it is really still just a single character, and
all Emacs commands treat it as one.
</p>
<a class="index-entry-id" id="index-MS_002dWindows-codepages"></a>
<p>MS-Windows provides its own codepages, which are different from the
DOS codepages for the same locale.  For example, DOS codepage 850
supports the same character set as Windows codepage 1252; DOS codepage
855 supports the same character set as Windows codepage 1251, etc.
The MS-Windows version of Emacs uses the current codepage for display
when invoked with the &lsquo;<samp class="samp">-nw</samp>&rsquo; option.
</p>
</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT30" href="#DOCF30">(30)</a></h5>
<p>Normally, one particular codepage is burnt into the
display memory, while other codepages can be installed by modifying
system configuration files, such as <samp class="file">CONFIG.SYS</samp>, and rebooting.
While there is third-party software that allows changing the codepage
without rebooting, we describe here how a stock MS-DOS system
behaves.</p>
<h5 class="footnote-body-heading"><a id="FOOT31" href="#DOCF31">(31)</a></h5>
<p>The standard Emacs coding
systems for ISO 8859 are not quite right for the purpose, because
typically the DOS codepage does not match the standard ISO character
codes.  For example, the letter &lsquo;<samp class="samp">&ccedil;</samp>&rsquo; (&lsquo;<samp class="samp">c</samp>&rsquo; with cedilla) has
code 231 in the standard Latin-1 character set, but the corresponding
DOS codepage 850 uses code 135 for this glyph.</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="MS_002dDOS-Processes.html">Subprocesses on MS-DOS</a>, Previous: <a href="MS_002dDOS-Printing.html">Printing and MS-DOS</a>, Up: <a href="MS_002dDOS.html">Emacs and MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
