<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Rebinding (GNU Emacs Manual)</title>

<meta name="description" content="Rebinding (GNU Emacs Manual)">
<meta name="keywords" content="Rebinding (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Key-Bindings.html" rel="up" title="Key Bindings">
<link href="Init-Rebinding.html" rel="next" title="Init Rebinding">
<link href="Minibuffer-Maps.html" rel="prev" title="Minibuffer Maps">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Rebinding">
<div class="nav-panel">
<p>
Next: <a href="Init-Rebinding.html" accesskey="n" rel="next">Rebinding Keys in Your Init File</a>, Previous: <a href="Minibuffer-Maps.html" accesskey="p" rel="prev">Minibuffer Keymaps</a>, Up: <a href="Key-Bindings.html" accesskey="u" rel="up">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Changing-Key-Bindings-Interactively"><span>37.3.5 Changing Key Bindings Interactively<a class="copiable-link" href="#Changing-Key-Bindings-Interactively"> &para;</a></span></h4>
<a class="index-entry-id" id="index-key-rebinding_002c-this-session"></a>
<a class="index-entry-id" id="index-rebinding-keys_002c-this-session"></a>
<a class="index-entry-id" id="index-binding-keys"></a>

<p>The way to redefine an Emacs key is to change its entry in a keymap.
You can change the global keymap, in which case the change is
effective in all major modes (except those that have their own
overriding local bindings for the same key).  Or you can change a
local keymap, which affects all buffers using the same major mode.
</p>
<p>In this section, we describe how to rebind keys for the present
Emacs session.  See <a class="xref" href="Init-Rebinding.html">Rebinding Keys in Your Init File</a>, for a description of how to
make key rebindings affect future Emacs sessions.
</p>
<a class="index-entry-id" id="index-keymap_002dglobal_002dset"></a>
<a class="index-entry-id" id="index-keymap_002dlocal_002dset"></a>
<a class="index-entry-id" id="index-keymap_002dglobal_002dunset"></a>
<a class="index-entry-id" id="index-keymap_002dlocal_002dunset"></a>
<dl class="table">
<dt><kbd class="kbd">M-x keymap-global-set <kbd class="key">RET</kbd> <var class="var">key</var> <var class="var">cmd</var> <kbd class="key">RET</kbd></kbd></dt>
<dd><p>Define <var class="var">key</var> globally to run <var class="var">cmd</var>.
</p></dd>
<dt><kbd class="kbd">M-x keymap-local-set <kbd class="key">RET</kbd> <var class="var">key</var> <var class="var">cmd</var> <kbd class="key">RET</kbd></kbd></dt>
<dd><p>Define <var class="var">key</var> locally (in the major mode now in effect) to run
<var class="var">cmd</var>.
</p></dd>
<dt><kbd class="kbd">M-x keymap-global-unset <kbd class="key">RET</kbd> <var class="var">key</var></kbd></dt>
<dd><p>Make <var class="var">key</var> undefined in the global map.
</p></dd>
<dt><kbd class="kbd">M-x keymap-local-unset <kbd class="key">RET</kbd> <var class="var">key</var></kbd></dt>
<dd><p>Make <var class="var">key</var> undefined locally (in the major mode now in effect).
</p></dd>
</dl>

<p>For example, the following binds <kbd class="kbd">C-z</kbd> to the <code class="code">shell</code>
command (see <a class="pxref" href="Interactive-Shell.html">Interactive Subshell</a>), replacing the normal global
definition of <kbd class="kbd">C-z</kbd>:
</p>
<div class="example">
<pre class="example-preformatted">M-x keymap-global-set <kbd class="key">RET</kbd> C-z shell <kbd class="key">RET</kbd>
</pre></div>

<p>The <code class="code">keymap-global-set</code> command reads the command name after the
key.  After you press the key, a message like this appears so that you
can confirm that you are binding the key you want:
</p>
<div class="example">
<pre class="example-preformatted">Set key C-z to command:
</pre></div>

<p>You can redefine function keys and mouse events in the same way; just
type the function key or click the mouse when it&rsquo;s time to specify the
key to rebind.
</p>
<p>You can rebind a key that contains more than one event in the same
way.  Emacs keeps reading the key to rebind until it is a complete key
(that is, not a prefix key).  Thus, if you type <kbd class="kbd">C-f</kbd> for
<var class="var">key</var>, that&rsquo;s the end; it enters the minibuffer immediately to
read <var class="var">cmd</var>.  But if you type <kbd class="kbd">C-x</kbd>, since that&rsquo;s a prefix, it
reads another character; if that is <kbd class="kbd">4</kbd>, another prefix character,
it reads one more character, and so on.  For example,
</p>
<div class="example">
<pre class="example-preformatted">M-x keymap-global-set <kbd class="key">RET</kbd> C-x 4 $ spell-other-window <kbd class="key">RET</kbd>
</pre></div>

<p>redefines <kbd class="kbd">C-x 4 $</kbd> to run the (fictitious) command
<code class="code">spell-other-window</code>.
</p>
<p>You can remove the global definition of a key with
<code class="code">keymap-global-unset</code>.  This makes the key <em class="dfn">undefined</em>; if you
type it, Emacs will just beep.  Similarly, <code class="code">keymap-local-unset</code> makes
a key undefined in the current major mode keymap, which makes the global
definition (or lack of one) come back into effect in that major mode.
</p>
<p>If you have redefined (or undefined) a key and you subsequently wish
to retract the change, undefining the key will not do the job&mdash;you need
to redefine the key with its standard definition.  To find the name of
the standard definition of a key, go to a Fundamental mode buffer in a
fresh Emacs and use <kbd class="kbd">C-h c</kbd>.  The documentation of keys in this
manual also lists their command names.
</p>
<p>If you want to prevent yourself from invoking a command by mistake, it
is better to disable the command than to undefine the key.  A disabled
command is less work to invoke when you really want to.
See <a class="xref" href="Disabling.html">Disabling Commands</a>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Init-Rebinding.html">Rebinding Keys in Your Init File</a>, Previous: <a href="Minibuffer-Maps.html">Minibuffer Keymaps</a>, Up: <a href="Key-Bindings.html">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
