<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>VC With A Locking VCS (GNU Emacs Manual)</title>

<meta name="description" content="VC With A Locking VCS (GNU Emacs Manual)">
<meta name="keywords" content="VC With A Locking VCS (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Basic-VC-Editing.html" rel="up" title="Basic VC Editing">
<link href="Advanced-C_002dx-v-v.html" rel="next" title="Advanced C-x v v">
<link href="VC-With-A-Merging-VCS.html" rel="prev" title="VC With A Merging VCS">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsubsection-level-extent" id="VC-With-A-Locking-VCS">
<div class="nav-panel">
<p>
Next: <a href="Advanced-C_002dx-v-v.html" accesskey="n" rel="next">Advanced Control in <kbd class="kbd">C-x v v</kbd></a>, Previous: <a href="VC-With-A-Merging-VCS.html" accesskey="p" rel="prev">Basic Version Control with Merging</a>, Up: <a href="Basic-VC-Editing.html" accesskey="u" rel="up">Basic Editing under Version Control</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Basic-Version-Control-with-Locking"><span>29.1.3.2 Basic Version Control with Locking<a class="copiable-link" href="#Basic-Version-Control-with-Locking"> &para;</a></span></h4>

<p>With a locking-based version control system (such as SCCS, and RCS in
its default mode), <kbd class="kbd">C-x v v</kbd> does the following:
</p>
<ul class="itemize mark-bullet">
<li>If there is more than one file in the VC fileset and the files have
inconsistent version control statuses, signal an error.  Also signal
an error if the files in the fileset are missing (removed from the
filesystem, but still tracked by version control).

</li><li>If each file in the VC fileset is not registered with a version
control system, register the newly-added files in the fileset.
See <a class="xref" href="Registering.html">Registering a File for Version Control</a>.  If Emacs cannot find a system to register under,
it prompts for a repository type, creates a new repository, and
registers the VC fileset with it.  You can also specify the system
explicitly, see <a class="ref" href="Advanced-C_002dx-v-v.html">Advanced Control in <kbd class="kbd">C-x v v</kbd></a>.

</li><li>If each file is registered and unlocked, check the files out: lock
each one and make it writable, so that you can begin to edit it.

</li><li>If each file is locked by you and contains changes, commit (a.k.a.
&ldquo;check-in&rdquo;) the changes.  To do this, Emacs pops up a
<samp class="file">*vc-log*</samp> buffer; type the desired log entry for the new
revision, followed by <kbd class="kbd">C-c C-c</kbd> to commit (see <a class="pxref" href="Log-Buffer.html">Features of the Log Entry Buffer</a>).

</li><li>If each file is locked by you, but you have not changed it, release
the lock and make the file read-only again.  This undoes previous
check-out operation for files that were not changed since the
checkout.

</li><li>If each file is locked by another user, ask whether you want to
steal the lock.  If you say yes, the file becomes locked by you,
and a warning message is sent to the user who had formerly locked the
file.

</li><li>If files in the fileset are unlocked, but have changes with respect to
their last revision, offer to claim the lock for each such file or to
revert the file to the last checked-in revision.  (This situation is
exceptional and should not normally happen.)
</li></ul>

<p>These rules also apply when you use CVS in locking mode, except
that CVS does not support stealing locks.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Advanced-C_002dx-v-v.html">Advanced Control in <kbd class="kbd">C-x v v</kbd></a>, Previous: <a href="VC-With-A-Merging-VCS.html">Basic Version Control with Merging</a>, Up: <a href="Basic-VC-Editing.html">Basic Editing under Version Control</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
