<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Custom Themes (GNU Emacs Manual)</title>

<meta name="description" content="Custom Themes (GNU Emacs Manual)">
<meta name="keywords" content="Custom Themes (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Easy-Customization.html" rel="up" title="Easy Customization">
<link href="Creating-Custom-Themes.html" rel="next" title="Creating Custom Themes">
<link href="Specific-Customization.html" rel="prev" title="Specific Customization">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Custom-Themes">
<div class="nav-panel">
<p>
Next: <a href="Creating-Custom-Themes.html" accesskey="n" rel="next">Creating Custom Themes</a>, Previous: <a href="Specific-Customization.html" accesskey="p" rel="prev">Customizing Specific Items</a>, Up: <a href="Easy-Customization.html" accesskey="u" rel="up">Easy Customization Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Custom-Themes-1"><span>37.1.7 Custom Themes<a class="copiable-link" href="#Custom-Themes-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-custom-themes"></a>

<p><em class="dfn">Custom themes</em> are collections of settings that can be enabled
or disabled as a unit.  You can use Custom themes to switch easily
between various collections of settings, and to transfer such
collections from one computer to another.
</p>
<p>A Custom theme is stored as an Emacs Lisp source file.  If the name of
the Custom theme is <var class="var">name</var>, the theme file is named
<samp class="file"><var class="var">name</var>-theme.el</samp>.  See <a class="xref" href="Creating-Custom-Themes.html">Creating Custom Themes</a>, for the
format of a theme file and how to make one.
</p>
<a class="index-entry-id" id="index-customize_002dthemes"></a>
<a class="index-entry-id" id="index-custom_002dtheme_002ddirectory"></a>
<a class="index-entry-id" id="index-color-scheme"></a>
<p>Type <kbd class="kbd">M-x customize-themes</kbd> to switch to a buffer named
<samp class="file">*Custom Themes*</samp>, which lists the Custom themes that Emacs knows
about.  By default, Emacs looks for theme files in two locations: the
directory specified by the variable <code class="code">custom-theme-directory</code>
(which defaults to <samp class="file">~/.emacs.d/</samp>), and a directory named
<samp class="file">etc/themes</samp> in your Emacs installation (see the variable
<code class="code">data-directory</code>).  The latter contains several Custom themes
distributed with Emacs that customize Emacs&rsquo;s faces to fit
various color schemes.  (Note, however, that Custom themes need not be
restricted to this purpose; they can be used to customize variables
too.)
</p>
<a class="index-entry-id" id="index-custom_002dtheme_002dload_002dpath"></a>
<p>If you want Emacs to look for Custom themes in some other directory,
add the directory to the list variable
<code class="code">custom-theme-load-path</code>.  Its default value is
<code class="code">(custom-theme-directory t)</code>; here, the symbol
<code class="code">custom-theme-directory</code> has the special meaning of the value of
the variable <code class="code">custom-theme-directory</code>, while <code class="code">t</code> stands for
the built-in theme directory <samp class="file">etc/themes</samp>.  The themes listed in
the <samp class="file">*Custom Themes*</samp> buffer are those found in the directories
specified by <code class="code">custom-theme-load-path</code>.
</p>
<a class="index-entry-id" id="index-C_002dx-C_002ds-_0028Custom-Themes-buffer_0029"></a>
<p>In the <samp class="file">*Custom Themes*</samp> buffer, you can activate the checkbox
next to a Custom theme to enable or disable the theme for the current
Emacs session.  When a Custom theme is enabled, all of its settings
(variables and faces) take effect in the Emacs session.  To apply the
choice of theme(s) to future Emacs sessions, type <kbd class="kbd">C-x C-s</kbd>
(<code class="code">custom-theme-save</code>) or use the &lsquo;<samp class="samp">[Save Theme Settings]</samp>&rsquo;
button.
</p>
<a class="index-entry-id" id="index-custom_002dsafe_002dthemes"></a>
<p>When you first enable a Custom theme, Emacs displays the contents of
the theme file and asks if you really want to load it.  Because
loading a Custom theme can execute arbitrary Lisp code, you should
only say yes if you know that the theme is safe; in that case, Emacs
offers to remember in the future that the theme is safe (this is done
by saving the theme file&rsquo;s SHA-256 hash to the variable
<code class="code">custom-safe-themes</code>; if you want to treat all themes as safe,
change its value to <code class="code">t</code>).  Themes that come with Emacs (in the
<samp class="file">etc/themes</samp> directory) are exempt from this check, and are
always considered safe.
</p>
<a class="index-entry-id" id="index-custom_002denabled_002dthemes"></a>
<p>Setting or saving Custom themes actually works by customizing the
variable <code class="code">custom-enabled-themes</code>.  The value of this variable is
a list of Custom theme names (as Lisp symbols, e.g., <code class="code">tango</code>).
Instead of using the <samp class="file">*Custom Themes*</samp> buffer to set
<code class="code">custom-enabled-themes</code>, you can customize the variable using the
usual customization interface, e.g., with <kbd class="kbd">M-x customize-option</kbd>.
Note that Custom themes are not allowed to set
<code class="code">custom-enabled-themes</code> themselves.
</p>
<p>Any customizations that you make through the customization buffer
take precedence over theme settings.  This lets you easily override
individual theme settings that you disagree with.  If settings from
two different themes overlap, the theme occurring earlier in
<code class="code">custom-enabled-themes</code> takes precedence.  In the customization
buffer, if a setting has been changed from its default by a Custom
theme, its &lsquo;<samp class="samp">State</samp>&rsquo; display shows &lsquo;<samp class="samp">THEMED</samp>&rsquo; instead of
&lsquo;<samp class="samp">STANDARD</samp>&rsquo;.
</p>
<a class="index-entry-id" id="index-load_002dtheme"></a>
<a class="index-entry-id" id="index-enable_002dtheme"></a>
<a class="index-entry-id" id="index-disable_002dtheme"></a>
<p>You can enable a specific Custom theme in the current Emacs session
by typing <kbd class="kbd">M-x load-theme</kbd>.  This prompts for a theme name, loads
the theme from the theme file, and enables it.  If a theme file
has been loaded before, you can enable the theme without loading its
file by typing <kbd class="kbd">M-x enable-theme</kbd>.  To disable a Custom theme,
type <kbd class="kbd">M-x disable-theme</kbd>.
</p>
<a class="index-entry-id" id="index-describe_002dtheme"></a>
<p>To see a description of a Custom theme, type <kbd class="kbd">?</kbd> on its line in
the <samp class="file">*Custom Themes*</samp> buffer; or type <kbd class="kbd">M-x describe-theme</kbd>
anywhere in Emacs and enter the theme name.
</p>
<a class="index-entry-id" id="index-theme_002dchoose_002dvariant"></a>
<p>Some themes have variants (most often just two: light and dark).  You
can switch to another variant using <kbd class="kbd">M-x theme-choose-variant</kbd>.
If the currently active theme has only one other variant, it will be
selected; if there are more variants, the command will prompt you
which one to switch to.
</p>
<p>Note that <code class="code">theme-choose-variant</code> only works if a single theme
is active.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Creating-Custom-Themes.html">Creating Custom Themes</a>, Previous: <a href="Specific-Customization.html">Customizing Specific Items</a>, Up: <a href="Easy-Customization.html">Easy Customization Interface</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
