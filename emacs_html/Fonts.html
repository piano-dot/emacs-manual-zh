<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Fonts (GNU Emacs Manual)</title>

<meta name="description" content="Fonts (GNU Emacs Manual)">
<meta name="keywords" content="Fonts (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Frames.html" rel="up" title="Frames">
<link href="Speedbar.html" rel="next" title="Speedbar">
<link href="Frame-Commands.html" rel="prev" title="Frame Commands">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Fonts">
<div class="nav-panel">
<p>
Next: <a href="Speedbar.html" accesskey="n" rel="next">Speedbar Frames</a>, Previous: <a href="Frame-Commands.html" accesskey="p" rel="prev">Frame Commands</a>, Up: <a href="Frames.html" accesskey="u" rel="up">Frames and Graphical Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Fonts-1"><span>22.8 Fonts<a class="copiable-link" href="#Fonts-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-fonts"></a>

<p>By default, Emacs displays text on graphical displays using a
10-point monospace font, and the font size can be changed
interactively (see <a class="pxref" href="Text-Scale.html">Text Scale</a>).
</p>
<p>There are several different ways to specify a different font:
</p>
<ul class="itemize mark-bullet">
<li>Click on &lsquo;<samp class="samp">Set Default Font</samp>&rsquo; in the &lsquo;<samp class="samp">Options</samp>&rsquo; menu.  This
makes the selected font the default on all existing graphical frames.
To save this for future sessions, click on &lsquo;<samp class="samp">Save Options</samp>&rsquo; in the
&lsquo;<samp class="samp">Options</samp>&rsquo; menu.

</li><li>Add a line to your init file, modifying the variable
<code class="code">default-frame-alist</code> to specify the <code class="code">font</code> parameter
(see <a class="pxref" href="Frame-Parameters.html">Frame Parameters</a>), like this:

<div class="example">
<pre class="example-preformatted">(add-to-list 'default-frame-alist
             '(font . &quot;DejaVu Sans Mono-10&quot;))
</pre></div>

<p>This makes the font the default on all graphical frames created after
restarting Emacs with that init file.
</p>
</li><li><a class="index-entry-id" id="index-X-defaults-file"></a>
<a class="index-entry-id" id="index-X-resources-file"></a>
Add an &lsquo;<samp class="samp">emacs.font</samp>&rsquo; X resource setting to your X resource file,
like this:

<div class="example">
<pre class="example-preformatted">emacs.font: DejaVu Sans Mono-12
</pre></div>

<p>You must restart X, or use the <code class="command">xrdb</code> command, for the X
resources file to take effect.  See <a class="xref" href="Resources.html">X Resources</a>.  Do not quote
font names in X resource files.
</p>
</li><li>If you are running Emacs on the GNOME desktop or Haiku, you can tell
Emacs to adjust the frame&rsquo;s default font along with changes to the
default system font by setting the variable
<code class="code">font-use-system-font</code> to <code class="code">t</code> (the default is <code class="code">nil</code>).
For this to work, Emacs must have been compiled with support for
Gsettings (or the older Gconf).  (To be specific, the Gsettings
configuration names used are &lsquo;<samp class="samp">org.gnome.desktop.interface
monospace-font-name</samp>&rsquo; and &lsquo;<samp class="samp">org.gnome.desktop.interface
font-name</samp>&rsquo;.)

</li><li>Use the command line option &lsquo;<samp class="samp">-fn</samp>&rsquo; (or &lsquo;<samp class="samp">--font</samp>&rsquo;).  See <a class="xref" href="Font-X.html">Font Specification Options</a>.
</li></ul>

<p>To check what font you&rsquo;re currently using, the <kbd class="kbd">C-u C-x =</kbd>
command can be helpful.  It describes the character at point, and
names the font that it&rsquo;s rendered in.
</p>
<a class="index-entry-id" id="index-fontconfig"></a>
<p>There are four different ways to express a font name.  The first is
to use a <em class="dfn">Fontconfig pattern</em>.  Fontconfig patterns have the
following form:
</p>
<div class="example">
<pre class="example-preformatted"><var class="var">fontname</var>[-<var class="var">fontsize</var>][:<var class="var">name1</var>=<var class="var">values1</var>][:<var class="var">name2</var>=<var class="var">values2</var>]...
</pre></div>

<p>Within this format, any of the elements in brackets may be omitted.
Here, <var class="var">fontname</var> is the <em class="dfn">family name</em> of the font, such as
&lsquo;<samp class="samp">Monospace</samp>&rsquo; or &lsquo;<samp class="samp">DejaVu Sans Mono</samp>&rsquo;; <var class="var">fontsize</var> is the
<em class="dfn">point size</em> of the font (one <em class="dfn">printer&rsquo;s point</em> is about 1/72
of an inch); and the &lsquo;<samp class="samp"><var class="var">name</var>=<var class="var">values</var></samp>&rsquo; entries specify
settings such as the slant and weight of the font.  Each <var class="var">values</var>
may be a single value, or a list of values separated by commas.  In
addition, some property values are valid with only one kind of
property name, in which case the &lsquo;<samp class="samp"><var class="var">name</var>=</samp>&rsquo; part may be
omitted.
</p>
<p>Here is a list of common font properties:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">slant</samp>&rsquo;</dt>
<dd><p>One of &lsquo;<samp class="samp">italic</samp>&rsquo;, &lsquo;<samp class="samp">oblique</samp>&rsquo;, or &lsquo;<samp class="samp">roman</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp class="samp">weight</samp>&rsquo;</dt>
<dd><p>One of &lsquo;<samp class="samp">light</samp>&rsquo;, &lsquo;<samp class="samp">medium</samp>&rsquo;, &lsquo;<samp class="samp">demibold</samp>&rsquo;, &lsquo;<samp class="samp">bold</samp>&rsquo; or
&lsquo;<samp class="samp">black</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp class="samp">style</samp>&rsquo;</dt>
<dd><p>Some fonts define special styles which are a combination of slant and
weight.  For instance, &lsquo;<samp class="samp">Dejavu Sans</samp>&rsquo; defines the &lsquo;<samp class="samp">book</samp>&rsquo;
style, which overrides the slant and weight properties.
</p>
</dd>
<dt>&lsquo;<samp class="samp">width</samp>&rsquo;</dt>
<dd><p>One of &lsquo;<samp class="samp">condensed</samp>&rsquo;, &lsquo;<samp class="samp">normal</samp>&rsquo;, or &lsquo;<samp class="samp">expanded</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp class="samp">spacing</samp>&rsquo;</dt>
<dd><p>One of &lsquo;<samp class="samp">monospace</samp>&rsquo;, &lsquo;<samp class="samp">proportional</samp>&rsquo;, &lsquo;<samp class="samp">dual-width</samp>&rsquo;, or
&lsquo;<samp class="samp">charcell</samp>&rsquo;.
</p></dd>
</dl>

<p>Here are some examples of Fontconfig patterns:
</p>
<div class="example">
<pre class="example-preformatted">Monospace
Monospace-12
Monospace-12:bold
DejaVu Sans Mono:bold:italic
Monospace-12:weight=bold:slant=italic
</pre></div>

<p>For a more detailed description of Fontconfig patterns, see the
Fontconfig manual, which is distributed with Fontconfig and available
online at <a class="url" href="https://fontconfig.org/fontconfig-user.html">https://fontconfig.org/fontconfig-user.html</a>.
</p>
<p>On MS-Windows, only the subset of the form
<var class="var">fontname</var>[-<var class="var">fontsize</var>] is supported for all fonts; the full
Fontconfig pattern might not work for all of them.
</p>
<a class="index-entry-id" id="index-GTK-font-pattern"></a>
<p>The second way to specify a font is to use a <em class="dfn">GTK font pattern</em>.
These have the syntax
</p>
<div class="example">
<pre class="example-preformatted"><var class="var">fontname</var> [<var class="var">properties</var>] [<var class="var">fontsize</var>]
</pre></div>

<p>where <var class="var">fontname</var> is the family name, <var class="var">properties</var> is a list of
property values separated by spaces, and <var class="var">fontsize</var> is the point
size.  The properties that you may specify for GTK font patterns are
as follows:
</p>
<ul class="itemize mark-bullet">
<li>Slant properties: &lsquo;<samp class="samp">Italic</samp>&rsquo; or &lsquo;<samp class="samp">Oblique</samp>&rsquo;.  If omitted, the
default (roman) slant is implied.
</li><li>Weight properties: &lsquo;<samp class="samp">Bold</samp>&rsquo;, &lsquo;<samp class="samp">Book</samp>&rsquo;, &lsquo;<samp class="samp">Light</samp>&rsquo;,
&lsquo;<samp class="samp">Medium</samp>&rsquo;, &lsquo;<samp class="samp">Semi-bold</samp>&rsquo;, or &lsquo;<samp class="samp">Ultra-light</samp>&rsquo;.  If omitted,
&lsquo;<samp class="samp">Medium</samp>&rsquo; weight is implied.
</li><li>Width properties: &lsquo;<samp class="samp">Semi-Condensed</samp>&rsquo; or &lsquo;<samp class="samp">Condensed</samp>&rsquo;.  If
omitted, a default width is used.
</li></ul>

<p>Here are some examples of GTK font patterns:
</p>
<div class="example">
<pre class="example-preformatted">Monospace 12
Monospace Bold Italic 12
</pre></div>

<p>On MS-Windows, only the subset <var class="var">fontname</var> is supported.
</p>
<a class="index-entry-id" id="index-XLFD"></a>
<a class="index-entry-id" id="index-X-Logical-Font-Description"></a>
<p>The third way to specify a font is to use an <em class="dfn">XLFD</em> (<em class="dfn">X
Logical Font Description</em>).  This is the traditional method for
specifying fonts under X, and is also supported on MS-Windows.  Each
XLFD consists of fourteen words or numbers, separated by dashes, like
this:
</p>
<div class="example">
<pre class="example-preformatted">-misc-fixed-medium-r-semicondensed--13-*-*-*-c-60-iso8859-1
</pre></div>

<p>A wildcard character (&lsquo;<samp class="samp">*</samp>&rsquo;) in an XLFD matches any sequence of
characters (including none), and &lsquo;<samp class="samp">?</samp>&rsquo; matches any single
character.  However, matching is implementation-dependent, and can be
inaccurate when wildcards match dashes in a long name.  For reliable
results, supply all 14 dashes and use wildcards only within a field.
Case is insignificant in an XLFD.  The syntax for an XLFD is as
follows:
</p>
<div class="example">
<pre class="example-preformatted">-<var class="var">maker</var>-<var class="var">family</var>-<var class="var">weight</var>-<var class="var">slant</var>-<var class="var">widthtype</var>-<var class="var">style</var>...
...-<var class="var">pixels</var>-<var class="var">height</var>-<var class="var">horiz</var>-<var class="var">vert</var>-<var class="var">spacing</var>-<var class="var">width</var>-<var class="var">registry</var>-<var class="var">encoding</var>
</pre></div>

<p>The entries have the following meanings:
</p>
<dl class="table">
<dt><var class="var">maker</var></dt>
<dd><p>The name of the font manufacturer.
</p></dd>
<dt><var class="var">family</var></dt>
<dd><p>The name of the font family (e.g., &lsquo;<samp class="samp">courier</samp>&rsquo;).
</p></dd>
<dt><var class="var">weight</var></dt>
<dd><p>The font weight&mdash;normally either &lsquo;<samp class="samp">bold</samp>&rsquo;, &lsquo;<samp class="samp">medium</samp>&rsquo; or
&lsquo;<samp class="samp">light</samp>&rsquo;.  Some font names support other values.
</p></dd>
<dt><var class="var">slant</var></dt>
<dd><p>The font slant&mdash;normally &lsquo;<samp class="samp">r</samp>&rsquo; (roman), &lsquo;<samp class="samp">i</samp>&rsquo; (italic),
&lsquo;<samp class="samp">o</samp>&rsquo; (oblique), &lsquo;<samp class="samp">ri</samp>&rsquo; (reverse italic), or &lsquo;<samp class="samp">ot</samp>&rsquo; (other).
Some font names support other values.
</p></dd>
<dt><var class="var">widthtype</var></dt>
<dd><p>The font width&mdash;normally &lsquo;<samp class="samp">normal</samp>&rsquo;, &lsquo;<samp class="samp">condensed</samp>&rsquo;,
&lsquo;<samp class="samp">semicondensed</samp>&rsquo;, or &lsquo;<samp class="samp">extended</samp>&rsquo;.  Some font names support
other values.
</p></dd>
<dt><var class="var">style</var></dt>
<dd><p>An optional additional style name.  Usually it is empty&mdash;most XLFDs
have two hyphens in a row at this point.  The style name can also
specify a two-letter ISO-639 language name, like &lsquo;<samp class="samp">ja</samp>&rsquo; or
&lsquo;<samp class="samp">ko</samp>&rsquo;; some fonts that support CJK scripts have that spelled out
in the style name part.
</p></dd>
<dt><var class="var">pixels</var></dt>
<dd><p>The font height, in pixels.
</p></dd>
<dt><var class="var">height</var></dt>
<dd><p>The font height on the screen, measured in tenths of a printer&rsquo;s
point.  This is the point size of the font, times ten.  For a given
vertical resolution, <var class="var">height</var> and <var class="var">pixels</var> are proportional;
therefore, it is common to specify just one of them and use &lsquo;<samp class="samp">*</samp>&rsquo;
for the other.
</p></dd>
<dt><var class="var">horiz</var></dt>
<dd><p>The horizontal resolution, in pixels per inch, of the screen for which
the font is intended.
</p></dd>
<dt><var class="var">vert</var></dt>
<dd><p>The vertical resolution, in pixels per inch, of the screen for which
the font is intended.  Normally the resolution of the fonts on your
system is the right value for your screen; therefore, you normally
specify &lsquo;<samp class="samp">*</samp>&rsquo; for this and <var class="var">horiz</var>.
</p></dd>
<dt><var class="var">spacing</var></dt>
<dd><p>This is &lsquo;<samp class="samp">m</samp>&rsquo; (monospace), &lsquo;<samp class="samp">p</samp>&rsquo; (proportional) or &lsquo;<samp class="samp">c</samp>&rsquo;
(character cell).
</p></dd>
<dt><var class="var">width</var></dt>
<dd><p>The average character width, in pixels, multiplied by ten.
</p></dd>
<dt><var class="var">registry</var></dt>
<dt><var class="var">encoding</var></dt>
<dd><p>The X font character set that the font depicts.  (X font character
sets are not the same as Emacs character sets, but they are similar.)
You can use the <code class="command">xfontsel</code> program to check which choices you
have.  Normally you should use &lsquo;<samp class="samp">iso8859</samp>&rsquo; for <var class="var">registry</var> and
&lsquo;<samp class="samp">1</samp>&rsquo; for <var class="var">encoding</var>.
</p></dd>
</dl>

<p>The fourth and final method of specifying a font is to use a font
nickname.  Certain fonts have shorter nicknames, which you can use
instead of a normal font specification.  For instance, &lsquo;<samp class="samp">6x13</samp>&rsquo; is
equivalent to
</p>
<div class="example">
<pre class="example-preformatted">-misc-fixed-medium-r-semicondensed--13-*-*-*-c-60-iso8859-1
</pre></div>

<p>This form is not supported on MS-Windows.
</p>
<a class="index-entry-id" id="index-client_002dside-fonts"></a>
<a class="index-entry-id" id="index-server_002dside-fonts"></a>
<p>On X, Emacs recognizes two types of fonts: <em class="dfn">client-side</em> fonts,
which are provided by the Xft and Fontconfig libraries, and
<em class="dfn">server-side</em> fonts, which are provided by the X server itself.
Most client-side fonts support advanced font features such as
antialiasing and subpixel hinting, while server-side fonts do not.
Fontconfig and GTK patterns match only client-side fonts.
</p>
<a class="index-entry-id" id="index-listing-system-fonts"></a>
<p>You will probably want to use a fixed-width default font&mdash;that is,
a font in which all characters have the same width.  For Xft and
Fontconfig fonts, you can use the <code class="command">fc-list</code> command to list
the available fixed-width fonts, like this:
</p>
<div class="example">
<pre class="example-preformatted">fc-list :spacing=mono
fc-list :spacing=charcell
</pre></div>

<p>For server-side X fonts, you can use the <code class="command">xlsfonts</code> program to
list the available fixed-width fonts, like this:
</p>
<div class="example">
<pre class="example-preformatted">xlsfonts -fn '*x*' | grep -E '^[0-9]+x[0-9]+'
xlsfonts -fn '*-*-*-*-*-*-*-*-*-*-*-m*'
xlsfonts -fn '*-*-*-*-*-*-*-*-*-*-*-c*'
</pre></div>

<p>Any font with &lsquo;<samp class="samp">m</samp>&rsquo; or &lsquo;<samp class="samp">c</samp>&rsquo; in the <var class="var">spacing</var> field of the
XLFD is a fixed-width font.  To see what a particular font looks like,
use the <code class="command">xfd</code> command.  For example:
</p>
<div class="example">
<pre class="example-preformatted">xfd -fn 6x13
</pre></div>

<p>displays the entire font &lsquo;<samp class="samp">6x13</samp>&rsquo;.
</p>
<p>While running Emacs, you can also set the font of a specific kind of
text (see <a class="pxref" href="Faces.html">Text Faces</a>), or a particular frame (see <a class="pxref" href="Frame-Parameters.html">Frame Parameters</a>).
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Speedbar.html">Speedbar Frames</a>, Previous: <a href="Frame-Commands.html">Frame Commands</a>, Up: <a href="Frames.html">Frames and Graphical Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
