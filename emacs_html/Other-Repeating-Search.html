<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Other Repeating Search (GNU Emacs Manual)</title>

<meta name="description" content="Other Repeating Search (GNU Emacs Manual)">
<meta name="keywords" content="Other Repeating Search (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Search.html" rel="up" title="Search">
<link href="Search-Customizations.html" rel="next" title="Search Customizations">
<link href="Replace.html" rel="prev" title="Replace">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Other-Repeating-Search">
<div class="nav-panel">
<p>
Next: <a href="Search-Customizations.html" accesskey="n" rel="next">Tailoring Search to Your Needs</a>, Previous: <a href="Replace.html" accesskey="p" rel="prev">Replacement Commands</a>, Up: <a href="Search.html" accesskey="u" rel="up">Searching and Replacement</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Other-Search_002dand_002dLoop-Commands"><span>16.11 Other Search-and-Loop Commands<a class="copiable-link" href="#Other-Search_002dand_002dLoop-Commands"> &para;</a></span></h3>

<p>Here are some other commands that find matches for regular
expressions.  They all ignore case in matching, if the pattern contains
no upper-case letters and <code class="code">case-fold-search</code> is non-<code class="code">nil</code>.
Aside from <code class="code">multi-occur</code> and <code class="code">multi-occur-in-matching-buffers</code>,
which always search the whole buffer, all of the commands operate on the
text from point to the end of the buffer, or on the region if it is active.
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-isearch-multiple-buffers"></a>
<a class="index-entry-id" id="index-multiple_002dbuffer-isearch"></a>
<a id="index-multi_002disearch_002dbuffers"></a><span><kbd class="kbd">M-x multi-isearch-buffers</kbd><a class="copiable-link" href="#index-multi_002disearch_002dbuffers"> &para;</a></span></dt>
<dd><p>Prompt for one or more buffer names, ending with <kbd class="key">RET</kbd>; then,
begin a multi-buffer incremental search in those buffers.  (If the
search fails in one buffer, the next <kbd class="kbd">C-s</kbd> tries searching the
next specified buffer, and so forth.)  With a prefix argument, prompt
for a regexp and begin a multi-buffer incremental search in buffers
matching that regexp.
</p>
</dd>
<dt><a id="index-multi_002disearch_002dbuffers_002dregexp"></a><span><kbd class="kbd">M-x multi-isearch-buffers-regexp</kbd><a class="copiable-link" href="#index-multi_002disearch_002dbuffers_002dregexp"> &para;</a></span></dt>
<dd><p>This command is just like <code class="code">multi-isearch-buffers</code>, except it
performs an incremental regexp search.
</p>
</dd>
<dt><a class="index-entry-id" id="index-isearch-multiple-files"></a>
<a class="index-entry-id" id="index-multiple_002dfile-isearch"></a>
<a id="index-multi_002disearch_002dfiles"></a><span><kbd class="kbd">M-x multi-isearch-files</kbd><a class="copiable-link" href="#index-multi_002disearch_002dfiles"> &para;</a></span></dt>
<dd><p>Prompt for one or more file names, ending with <kbd class="key">RET</kbd>; then,
begin a multi-file incremental search in those files.  (If the
search fails in one file, the next <kbd class="kbd">C-s</kbd> tries searching the
next specified file, and so forth.)  With a prefix argument, prompt
for a regexp and begin a multi-file incremental search in files
matching that regexp.
</p>
</dd>
<dt><a id="index-multi_002disearch_002dfiles_002dregexp"></a><span><kbd class="kbd">M-x multi-isearch-files-regexp</kbd><a class="copiable-link" href="#index-multi_002disearch_002dfiles_002dregexp"> &para;</a></span></dt>
<dd><p>This command is just like <code class="code">multi-isearch-files</code>, except it
performs an incremental regexp search.
</p>
<p>In some modes that set the buffer-local variable
<code class="code">multi-isearch-next-buffer-function</code> (e.g., in Change Log mode)
a multi-file incremental search is activated automatically.
</p>
<a class="index-entry-id" id="index-Occur-mode"></a>
<a class="index-entry-id" id="index-mode_002c-Occur"></a>
<a class="index-entry-id" id="index-match-_0028face-name_0029"></a>
<a class="index-entry-id" id="index-list_002dmatching_002dlines_002ddefault_002dcontext_002dlines"></a>
<a class="index-entry-id" id="index-list_002dmatching_002dlines_002djump_002dto_002dcurrent_002dline"></a>
</dd>
<dt><a class="index-entry-id" id="index-occur"></a>
<a id="index-M_002ds-o"></a><span><kbd class="kbd">M-x occur</kbd><a class="copiable-link" href="#index-M_002ds-o"> &para;</a></span></dt>
<dt><kbd class="kbd">M-s o</kbd></dt>
<dd><p>Prompt for a regexp, and display a list showing each line in the
buffer that contains a match for it.  If you type <kbd class="kbd">M-n</kbd> at the
prompt, you can reuse search strings from previous incremental
searches.  The text that matched is highlighted using the <code class="code">match</code>
face.  A numeric argument <var class="var">n</var> specifies that <var class="var">n</var> lines of
context are to be displayed before and after each matching line.
</p>
<p>The default number of context lines is specified by the variable
<code class="code">list-matching-lines-default-context-lines</code>.  When
<code class="code">list-matching-lines-jump-to-current-line</code> is non-<code class="code">nil</code> the
current line is shown highlighted with face
<code class="code">list-matching-lines-current-line-face</code> and the point is set at
the first match after such line.
</p>
<p>You can also run <kbd class="kbd">M-s o</kbd> when an incremental search is active;
this uses the current search string.
</p>
<p>Note that matches for the regexp you type are extended to include
complete lines, and a match that starts before the previous match ends
is not considered a match.
</p>
<a class="index-entry-id" id="index-RET-_0028Occur-mode_0029"></a>
<a class="index-entry-id" id="index-o-_0028Occur-mode_0029"></a>
<a class="index-entry-id" id="index-C_002do-_0028Occur-mode_0029"></a>
<p>The <samp class="file">*Occur*</samp> buffer uses the Occur mode as its major mode.  You
can use the <kbd class="kbd">n</kbd> and <kbd class="kbd">p</kbd> keys to move to the next or previous
match; with prefix numeric argument, these commands move that many
matches.  Digit keys are bound to <code class="code">digit-argument</code>, so <kbd class="kbd">5 n</kbd>
moves to the fifth next match (you don&rsquo;t have to type <kbd class="kbd">C-u</kbd>).
<kbd class="key">SPC</kbd> and <kbd class="key">DEL</kbd> scroll the <samp class="file">*Occur*</samp> buffer up and down.
Clicking on a match or moving point there and typing <kbd class="key">RET</kbd> visits
the corresponding position in the original buffer that was searched.
<kbd class="kbd">o</kbd> and <kbd class="kbd">C-o</kbd> display the match in another window; <kbd class="kbd">C-o</kbd>
does not select that window.  Alternatively, you can use the <kbd class="kbd">M-g
M-n</kbd> (<code class="code">next-error</code>) command to visit the occurrences one by one
(see <a class="pxref" href="Compilation-Mode.html">Compilation Mode</a>).  Finally, <kbd class="kbd">q</kbd> quits the window showing
the <samp class="file">*Occur*</samp> buffer and buries the buffer.
</p>
<a class="index-entry-id" id="index-Occur-Edit-mode"></a>
<a class="index-entry-id" id="index-mode_002c-Occur-Edit"></a>
<p>Typing <kbd class="kbd">e</kbd> in the <samp class="file">*Occur*</samp> buffer makes the buffer writable
and enters the Occur Edit mode, in which you can edit the matching
lines and have those edits reflected in the text in the originating
buffer.  Type <kbd class="kbd">C-c C-c</kbd> to leave the Occur Edit mode and return to
the Occur mode.
</p>
<a class="index-entry-id" id="index-list_002dmatching_002dlines"></a>
<p>The command <kbd class="kbd">M-x list-matching-lines</kbd> is a synonym for <kbd class="kbd">M-x
occur</kbd>.
</p>
</dd>
<dt><a id="index-multi_002doccur"></a><span><kbd class="kbd">M-x multi-occur</kbd><a class="copiable-link" href="#index-multi_002doccur"> &para;</a></span></dt>
<dd><p>This command is just like <code class="code">occur</code>, except it is able to search
through multiple buffers.  It asks you to specify the buffer names one
by one.
</p>
</dd>
<dt><a id="index-multi_002doccur_002din_002dmatching_002dbuffers"></a><span><kbd class="kbd">M-x multi-occur-in-matching-buffers</kbd><a class="copiable-link" href="#index-multi_002doccur_002din_002dmatching_002dbuffers"> &para;</a></span></dt>
<dd><p>This command is similar to <code class="code">multi-occur</code>, except the buffers to
search are specified by a regular expression that matches visited file
names.  With a prefix argument, it uses the regular expression to
match buffer names instead.
</p>
</dd>
<dt><a id="index-how_002dmany"></a><span><kbd class="kbd">M-x how-many</kbd><a class="copiable-link" href="#index-how_002dmany"> &para;</a></span></dt>
<dd><p>Prompt for a regexp, and print the number of matches for it in the
buffer after point.  If the region is active, this operates on the
region instead.
</p>
</dd>
<dt><a id="index-flush_002dlines"></a><span><kbd class="kbd">M-x flush-lines</kbd><a class="copiable-link" href="#index-flush_002dlines"> &para;</a></span></dt>
<dd><p>Prompt for a regexp, and delete each line that contains a match for
it, operating on the text after point.  When the command finishes,
it prints the number of deleted matching lines.
</p>
<p>This command deletes the current line if it contains a match starting
after point.  If the region is active, it operates on the region
instead; if a line partially contained in the region contains a match
entirely contained in the region, it is deleted.
</p>
<p>If a match is split across lines, <code class="code">flush-lines</code> deletes all those
lines.  It deletes the lines before starting to look for the next
match; hence, it ignores a match starting on the same line at which
another match ended.
</p>
</dd>
<dt><a id="index-keep_002dlines"></a><span><kbd class="kbd">M-x keep-lines</kbd><a class="copiable-link" href="#index-keep_002dlines"> &para;</a></span></dt>
<dd><p>Prompt for a regexp, and delete each line that <em class="emph">does not</em> contain
a match for it, operating on the text after point.  If point is not at
the beginning of a line, this command always keeps the current line.
If the region is active, the command operates on the region instead;
it never deletes lines that are only partially contained in the region
(a newline that ends a line counts as part of that line).
</p>
<p>If a match is split across lines, this command keeps all those lines.
</p>
</dd>
<dt><a id="index-kill_002dmatching_002dlines"></a><span><kbd class="kbd">M-x kill-matching-lines</kbd><a class="copiable-link" href="#index-kill_002dmatching_002dlines"> &para;</a></span></dt>
<dd><p>Like <code class="code">flush-lines</code>, but also add the matching lines to the kill
ring.  The command adds the matching lines to the kill ring as a
single string, including the newlines that separated the lines.
</p>
</dd>
<dt><a id="index-copy_002dmatching_002dlines"></a><span><kbd class="kbd">M-x copy-matching-lines</kbd><a class="copiable-link" href="#index-copy_002dmatching_002dlines"> &para;</a></span></dt>
<dd><p>Like <code class="code">kill-matching-lines</code>, but the matching lines are not
removed from the buffer.
</p></dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Search-Customizations.html">Tailoring Search to Your Needs</a>, Previous: <a href="Replace.html">Replacement Commands</a>, Up: <a href="Search.html">Searching and Replacement</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
