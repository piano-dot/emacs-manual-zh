<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Windows Fonts (GNU Emacs Manual)</title>

<meta name="description" content="Windows Fonts (GNU Emacs Manual)">
<meta name="keywords" content="Windows Fonts (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Microsoft-Windows.html" rel="up" title="Microsoft Windows">
<link href="Windows-Misc.html" rel="next" title="Windows Misc">
<link href="Windows-Printing.html" rel="prev" title="Windows Printing">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Windows-Fonts">
<div class="nav-panel">
<p>
Next: <a href="Windows-Misc.html" accesskey="n" rel="next">Miscellaneous Windows-specific features</a>, Previous: <a href="Windows-Printing.html" accesskey="p" rel="prev">Printing and MS-Windows</a>, Up: <a href="Microsoft-Windows.html" accesskey="u" rel="up">Emacs and Microsoft Windows/MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Specifying-Fonts-on-MS_002dWindows"><span>I.10 Specifying Fonts on MS-Windows<a class="copiable-link" href="#Specifying-Fonts-on-MS_002dWindows"> &para;</a></span></h3>
<a class="index-entry-id" id="index-font-specification-_0028MS-Windows_0029"></a>

<p>Fonts are specified by their name, size and optional properties.
The format for specifying fonts comes from the fontconfig library used
in modern Free desktops:
</p>
<div class="example">
<pre class="example-preformatted">  [Family[-PointSize]][:Option1=Value1[:Option2=Value2[...]]]
</pre></div>

<p>The old XLFD based format is also supported for backwards compatibility.
</p>
<a class="index-entry-id" id="index-font-backend-selection-_0028MS_002dWindows_0029"></a>
<p>Emacs on MS-Windows supports a number of font backends.  Currently,
the <code class="code">gdi</code>, <code class="code">uniscribe</code>, and <code class="code">harfbuzz</code> backends are
available.  The <code class="code">gdi</code> font backend is available on all versions
of Windows, and supports all fonts that are natively supported by
Windows.  The <code class="code">uniscribe</code> font backend is available on Windows
2000 and later, and supports TrueType and OpenType fonts.  The
<code class="code">harfbuzz</code> font backend is available if Emacs was built with
HarfBuzz support, and if the HarfBuzz DLL is installed on your system;
like <code class="code">uniscribe</code>, this backend supports only TrueType and
OpenType fonts.  Some languages requiring complex layout can only be
properly supported by the Uniscribe or HarfBuzz backends.  By default,
two backends are enabled for each frame: <code class="code">gdi</code> and either
<code class="code">harfbuzz</code> or <code class="code">uniscribe</code>, depending on which one is
available (if both are available, only <code class="code">harfbuzz</code> is enabled by
default).  The <code class="code">harfbuzz</code> and <code class="code">uniscribe</code> backends take
priority over <code class="code">gdi</code> when Emacs looks for a suitable font.  To
override that and use the GDI backend even if Uniscribe is available,
invoke Emacs with the <kbd class="kbd">-xrm Emacs.fontBackend:gdi</kbd> command-line
argument, or add a <code class="code">Emacs.fontBackend</code> resource with the value
<code class="code">gdi</code> in the Registry under either the
&lsquo;<samp class="samp">HKEY_CURRENT_USER\SOFTWARE\GNU\Emacs</samp>&rsquo; or the
&lsquo;<samp class="samp">HKEY_LOCAL_MACHINE\SOFTWARE\GNU\Emacs</samp>&rsquo; key (see <a class="pxref" href="Resources.html">X Resources</a>).
Similarly, to use the Uniscribe backend even if HarfBuzz is available,
use <kbd class="kbd">-xrm Emacs.fontBackend:uniscribe</kbd> on the command line that
invokes Emacs.  You can also request all the 3 backends via the
<code class="code">font-backend</code> frame parameter, but be warned that in that case
font searches for characters for which no fonts are available on the
system will take longer.
</p>
<p>Alternatively, you could specify a font backend for a frame via the
<code class="code">font-backend</code> frame parameter, using
<code class="code">modify-frame-parameters</code> (see <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Parameter-Access.html#Parameter-Access">Parameter Access</a> in <cite class="cite">The
Emacs Lisp Reference Manual</cite>).  You can also request specific font
backend(s) for all your frames via <code class="code">default-frame-alist</code> and
<code class="code">initial-frame-alist</code> (see <a class="pxref" href="Frame-Parameters.html">Frame Parameters</a>).  Note that the
value of the <code class="code">font-backend</code> parameter should be a list of
symbols, as in <code class="code">(uniscribe)</code> or <code class="code">(harfbuzz&nbsp;uniscribe&nbsp;gdi)</code><!-- /@w -->.
</p>
<a class="index-entry-id" id="index-font-properties-_0028MS-Windows_0029"></a>
<p>Optional font properties supported on MS-Windows are:
</p>
<dl class="table">
<dt><a id="index-font_002dweight_002dtable-_0028MS_002dWindows_0029"></a><span><code class="code">weight</code><a class="copiable-link" href="#index-font_002dweight_002dtable-_0028MS_002dWindows_0029"> &para;</a></span></dt>
<dd><p>Specifies the weight of the font.  Special values <code class="code">light</code>,
<code class="code">medium</code>, <code class="code">demibold</code>, <code class="code">bold</code>, and <code class="code">black</code> can be specified
without <code class="code">weight=</code> (e.g., <kbd class="kbd">Courier New-12:bold</kbd>).  Otherwise,
the weight should be a numeric value between 100 and 900, or one of the
named weights in <code class="code">font-weight-table</code>.  If unspecified, a regular font
is assumed.
</p>
</dd>
<dt><a id="index-font_002dslant_002dtable-_0028MS_002dWindows_0029"></a><span><code class="code">slant</code><a class="copiable-link" href="#index-font_002dslant_002dtable-_0028MS_002dWindows_0029"> &para;</a></span></dt>
<dd><p>Specifies whether the font is italic.  Special values
<code class="code">roman</code>, <code class="code">italic</code> and <code class="code">oblique</code> can be specified
without <code class="code">slant=</code> (e.g., <kbd class="kbd">Courier New-12:italic</kbd>).
Otherwise, the slant should be a numeric value, or one of the named
slants in <code class="code">font-slant-table</code>.  On Windows, any slant above 150 is
treated as italics, and anything below as roman.
</p>
</dd>
<dt><code class="code">family</code></dt>
<dd><p>Specifies the font family, but normally this will be specified
at the start of the font name.
</p>
</dd>
<dt><code class="code">pixelsize</code></dt>
<dd><p>Specifies the font size in pixels.  This can be used instead
of the point size specified after the family name.
</p>
</dd>
<dt><code class="code">adstyle</code></dt>
<dd><p>Specifies additional style information for the font.
On MS-Windows, the values <code class="code">mono</code>, <code class="code">sans</code>, <code class="code">serif</code>,
<code class="code">script</code> and <code class="code">decorative</code> are recognized.  These are most useful
as a fallback with the font family left unspecified.
</p>
</dd>
<dt><a id="index-w32_002dcharset_002dinfo_002dalist"></a><span><code class="code">registry</code><a class="copiable-link" href="#index-w32_002dcharset_002dinfo_002dalist"> &para;</a></span></dt>
<dd><p>Specifies the character set registry that the font is
expected to cover.  Most TrueType and OpenType fonts will be Unicode fonts
that cover several national character sets, but you can narrow down the
selection of fonts to those that support a particular character set by
using a specific registry from <code class="code">w32-charset-info-alist</code> here.
</p>
</dd>
<dt><code class="code">spacing</code></dt>
<dd><p>Specifies how the font is spaced.  The <code class="code">p</code> spacing specifies
a proportional font, and <code class="code">m</code> or <code class="code">c</code> specify a monospaced font.
</p>
</dd>
<dt><code class="code">foundry</code></dt>
<dd><p>Not used on Windows, but for informational purposes and to
prevent problems with code that expects it to be set, is set internally to
<code class="code">raster</code> for bitmapped fonts, <code class="code">outline</code> for scalable fonts,
or <code class="code">unknown</code> if the type cannot be determined as one of those.
</p>
</dd>
<dt><a class="index-entry-id" id="index-font-Unicode-subranges-_0028MS-Windows_0029"></a>
<a id="index-font-scripts-_0028MS-Windows_0029"></a><span><code class="code">script</code><a class="copiable-link" href="#index-font-scripts-_0028MS-Windows_0029"> &para;</a></span></dt>
<dd><p>Specifies a Unicode subrange the font should support.
</p>
<p>All the scripts known to Emacs (which generally means all the scripts
defined by the latest Unicode Standard) are recognized on MS-Windows.
However, <code class="code">GDI</code> fonts support only a subset of the known scripts:
<code class="code">greek</code>, <code class="code">hangul</code>, <code class="code">kana</code>, <code class="code">kanbun</code>,
<code class="code">bopomofo</code>, <code class="code">tibetan</code>, <code class="code">yi</code>, <code class="code">mongolian</code>,
<code class="code">hebrew</code>, <code class="code">arabic</code>, and <code class="code">thai</code>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Cleartype"></a>
<a id="index-font-antialiasing-_0028MS-Windows_0029"></a><span><code class="code">antialias</code><a class="copiable-link" href="#index-font-antialiasing-_0028MS-Windows_0029"> &para;</a></span></dt>
<dd><p>Specifies the antialiasing method.  The value <code class="code">none</code> means no
antialiasing, <code class="code">standard</code> means use standard antialiasing,
<code class="code">subpixel</code> means use subpixel antialiasing (known as
<em class="dfn">Cleartype</em> on Windows), and <code class="code">natural</code> means use subpixel
antialiasing with adjusted spacing between letters.  If unspecified,
the font will use the system default antialiasing.
</p></dd>
</dl>

<a class="index-entry-id" id="index-font-lookup_002c-MS_002dWindows"></a>
<a class="index-entry-id" id="index-w32_002dfind_002dnon_002dUSB_002dfonts"></a>
<p>The method used by Emacs on MS-Windows to look for fonts suitable for
displaying a given non-<small class="sc">ASCII</small> character might fail for some rare
scripts, specifically those added by Unicode relatively recently, even
if you have fonts installed on your system that support those scripts.
That is because these scripts have no Unicode Subrange Bits (USBs)
defined for them in the information used by Emacs on MS-Windows to
look for fonts.  You can use the <code class="code">w32-find-non-USB-fonts</code>
function to overcome these problems.  It needs to be run once at the
beginning of the Emacs session, and again if you install new fonts.
You can add the following line to your init file to have this function
run every time you start Emacs:
</p>
<div class="example lisp">
<pre class="lisp-preformatted">(w32-find-non-USB-fonts)
</pre></div>

<a class="index-entry-id" id="index-w32_002dnon_002dUSB_002dfonts"></a>
<p>Alternatively, you can run this function manually via <kbd class="kbd">M-:</kbd>
(see <a class="pxref" href="Lisp-Eval.html">Evaluating Emacs Lisp Expressions</a>) at any time.  On a system that has many fonts
installed, running <code class="code">w32-find-non-USB-fonts</code> might take a couple
of seconds; if you consider that to be too long to be run during
startup, and if you install new fonts only rarely, run this function
once via <kbd class="kbd">M-:</kbd>, and then assign the value it returns, if
non-<code class="code">nil</code>, to the variable <code class="code">w32-non-USB-fonts</code> in your init
file.  (If the function returns <code class="code">nil</code>, you have no fonts
installed that can display characters from the scripts which need this
facility.)
</p>
<a class="index-entry-id" id="index-w32_002duse_002dw32_002dfont_002ddialog"></a>
<a class="index-entry-id" id="index-w32_002dfixed_002dfont_002dalist"></a>
<p>The variable <code class="code">w32-use-w32-font-dialog</code> controls the way fonts can
be selected via <kbd class="kbd">S-mouse-1</kbd> (<code class="code">mouse-appearance-menu</code>).  If
the value is <code class="code">t</code>, the default, Emacs uses the standard Windows
font selection dialog.  If the value is <code class="code">nil</code>, Emacs instead pops
a menu of a fixed set of fonts.  The fonts to appear in the menu are
determined by <code class="code">w32-fixed-font-alist</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Windows-Misc.html">Miscellaneous Windows-specific features</a>, Previous: <a href="Windows-Printing.html">Printing and MS-Windows</a>, Up: <a href="Microsoft-Windows.html">Emacs and Microsoft Windows/MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
