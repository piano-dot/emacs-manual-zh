<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Project File Commands (GNU Emacs Manual)</title>

<meta name="description" content="Project File Commands (GNU Emacs Manual)">
<meta name="keywords" content="Project File Commands (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Projects.html" rel="up" title="Projects">
<link href="Project-Buffer-Commands.html" rel="next" title="Project Buffer Commands">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Project-File-Commands">
<div class="nav-panel">
<p>
Next: <a href="Project-Buffer-Commands.html" accesskey="n" rel="next">Project Commands That Operate on Buffers</a>, Up: <a href="Projects.html" accesskey="u" rel="up">Working with Projects</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Project-Commands-That-Operate-on-Files"><span>29.2.1 Project Commands That Operate on Files<a class="copiable-link" href="#Project-Commands-That-Operate-on-Files"> &para;</a></span></h4>

<dl class="table">
<dt><kbd class="kbd">C-x p f</kbd></dt>
<dd><p>Visit a file that belongs to the current project
(<code class="code">project-find-file</code>).
</p></dd>
<dt><kbd class="kbd">C-x p g</kbd></dt>
<dd><p>Find matches for a regexp in all files that belong to the current
project (<code class="code">project-find-regexp</code>).
</p></dd>
<dt><kbd class="kbd">M-x project-search</kbd></dt>
<dd><p>Interactively search for regexp matches in all files that belong to
the current project.
</p></dd>
<dt><kbd class="kbd">C-x p r</kbd></dt>
<dd><p>Perform query-replace for a regexp in all files that belong to the
current project (<code class="code">project-query-replace-regexp</code>).
</p></dd>
<dt><kbd class="kbd">C-x p d</kbd></dt>
<dd><p>Run Dired in the current project&rsquo;s root directory
(<code class="code">project-dired</code>).
</p></dd>
<dt><kbd class="kbd">C-x p v</kbd></dt>
<dd><p>Run <code class="code">vc-dir</code> in the current project&rsquo;s root directory
(<code class="code">project-vc-dir</code>).
</p></dd>
<dt><kbd class="kbd">C-x p s</kbd></dt>
<dd><p>Start an inferior shell in the current project&rsquo;s root directory
(<code class="code">project-shell</code>).
</p></dd>
<dt><kbd class="kbd">C-x p e</kbd></dt>
<dd><p>Start Eshell in the current project&rsquo;s root directory
(<code class="code">project-eshell</code>).
</p></dd>
<dt><kbd class="kbd">C-x p c</kbd></dt>
<dd><p>Run compilation in the current project&rsquo;s root directory
(<code class="code">project-compile</code>).
</p></dd>
<dt><kbd class="kbd">C-x p !</kbd></dt>
<dd><p>Run shell command in the current project&rsquo;s root directory
(<code class="code">project-shell-command</code>).
</p></dd>
<dt><kbd class="kbd">C-x p &amp;</kbd></dt>
<dd><p>Run shell command asynchronously in the current project&rsquo;s root
directory (<code class="code">project-async-shell-command</code>).
</p></dd>
</dl>

<p>Emacs provides commands for handling project files conveniently.
This subsection describes these commands.
</p>
<a class="index-entry-id" id="index-current-project"></a>
<p>All of the commands described here share the notion of the
<em class="dfn">current project</em>.  The current project is determined by the
<code class="code">default-directory</code> (see <a class="pxref" href="File-Names.html">File Names</a>) of the buffer that is
the current buffer when the command is invoked.  If that directory
doesn&rsquo;t seem to belong to a recognizable project, these commands
prompt you for the project directory.
</p>
<a class="index-entry-id" id="index-project_002dfind_002dfile"></a>
<a class="index-entry-id" id="index-vc_002ddirectory_002dexclusion_002dlist-1"></a>
<p>The command <kbd class="kbd">C-x p f</kbd> (<code class="code">project-find-file</code>) is a convenient
way of visiting files (see <a class="pxref" href="Visiting.html">Visiting Files</a>) that belong to the current
project.  Unlike <kbd class="kbd">C-x C-f</kbd>, this command doesn&rsquo;t require to type
the full file name of the file to visit, you can type only the file&rsquo;s
base name (i.e., omit the leading directories).  In addition, the
completion candidates considered by the command include only the files
belonging to the current project, and nothing else.  If there&rsquo;s a file
name at point, this command offers that file as the first element of
the &ldquo;future history&rdquo;.  If given a prefix, include all files under
the project root, except for <abbr class="acronym">VCS</abbr> directories listed in
<code class="code">vc-directory-exclusion-list</code>.
</p>
<a class="index-entry-id" id="index-project_002dfind_002dregexp"></a>
<p>The command <kbd class="kbd">C-x p g</kbd> (<code class="code">project-find-regexp</code>) is similar to
<code class="code">rgrep</code> (see <a class="pxref" href="Grep-Searching.html">Searching with Grep under Emacs</a>), but it searches only the files
that belong to the current project.  The command prompts for the
regular expression to search, and pops up an Xref mode buffer with the
search results, where you can select a match using the Xref mode
commands (see <a class="pxref" href="Xref-Commands.html">Commands Available in the <samp class="file">*xref*</samp> Buffer</a>).  When invoked with a prefix
argument, this command additionally prompts for the base directory
from which to start the search; this allows, for example, to limit the
search only to project files under a certain subdirectory of the
project root.  The way this command displays the matches is affected
by the value of <code class="code">xref-auto-jump-to-first-xref</code> (see <a class="pxref" href="Identifier-Search.html">Searching and Replacing with Identifiers</a>).
</p>
<a class="index-entry-id" id="index-project_002dsearch"></a>
<p><kbd class="kbd">M-x project-search</kbd> is a sequential variant of
<code class="code">project-find-regexp</code>.  It prompts for a regular expression to
search in the current project&rsquo;s files, but instead of finding all the
matches and displaying them, it stops when it finds a match and visits
the matched file at the locus of the match, allowing you to edit the
matched file.  To find the rest of the matches, type <kbd class="kbd">M-x&nbsp;fileloop-continue&nbsp;<kbd class="key">RET</kbd></kbd><!-- /@w -->.
</p>
<a class="index-entry-id" id="index-project_002dquery_002dreplace_002dregexp"></a>
<p><kbd class="kbd">C-x p r</kbd> (<code class="code">project-query-replace-regexp</code>) is similar to
<code class="code">project-search</code>, but it prompts you for whether to replace each
match it finds, like <code class="code">query-replace</code> does (see <a class="pxref" href="Query-Replace.html">Query Replace</a>), and continues to the next match after you respond.  If your
response causes Emacs to exit the query-replace loop, you can later
continue with <kbd class="kbd">M-x&nbsp;fileloop-continue&nbsp;<kbd class="key">RET</kbd></kbd><!-- /@w -->.
</p>
<a class="index-entry-id" id="index-project_002dfind_002ddir"></a>
<p>The command <kbd class="kbd">C-x p d</kbd> (<code class="code">project-find-dir</code>) prompts you to
choose a directory inside the current project, with completion.
And opens a Dired buffer (see <a class="pxref" href="Dired.html">Dired, the Directory Editor</a>) listing the files in it.
</p>
<a class="index-entry-id" id="index-project_002ddired"></a>
<p>The command <kbd class="kbd">C-x p D</kbd> (<code class="code">project-dired</code>) opens a Dired
buffer (see <a class="pxref" href="Dired.html">Dired, the Directory Editor</a>) listing the files in the current project&rsquo;s root
directory.
</p>
<a class="index-entry-id" id="index-project_002dvc_002ddir"></a>
<p>The command <kbd class="kbd">C-x p v</kbd> (<code class="code">project-vc-dir</code>) opens a VC
Directory buffer (see <a class="pxref" href="VC-Directory-Mode.html">VC Directory Mode</a>) listing the version
control statuses of the files in a directory tree under the current
project&rsquo;s root directory.
</p>
<a class="index-entry-id" id="index-project_002dshell"></a>
<p>The command <kbd class="kbd">C-x p s</kbd> (<code class="code">project-shell</code>) starts a shell
session (see <a class="pxref" href="Shell.html">Running Shell Commands from Emacs</a>) in a new buffer with the current project&rsquo;s
root as the working directory.
</p>
<a class="index-entry-id" id="index-project_002deshell"></a>
<p>The command <kbd class="kbd">C-x p e</kbd> (<code class="code">project-eshell</code>) starts an Eshell
session in a new buffer with the current project&rsquo;s root as the working
directory.  See <a data-manual="eshell" href="https://www.gnu.org/software/emacs/manual/html_node/eshell/index.html#Top">Eshell</a> in <cite class="cite">Eshell: The Emacs Shell</cite>.
</p>
<a class="index-entry-id" id="index-project_002dcompile"></a>
<p>The command <kbd class="kbd">C-x p c</kbd> (<code class="code">project-compile</code>) runs compilation
(see <a class="pxref" href="Compilation.html">Running Compilations under Emacs</a>) in the current project&rsquo;s root directory.
</p>
<a class="index-entry-id" id="index-project_002dshell_002dcommand"></a>
<p>The command <kbd class="kbd">C-x p !</kbd> (<code class="code">project-shell-command</code>) runs
<code class="code">shell-command</code> in the current project&rsquo;s root directory.
</p>
<a class="index-entry-id" id="index-project_002dasync_002dshell_002dcommand"></a>
<p>The command <kbd class="kbd">C-x p &amp;</kbd> (<code class="code">project-async-shell-command</code>) runs
<code class="code">async-shell-command</code> in the current project&rsquo;s root directory.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Project-Buffer-Commands.html">Project Commands That Operate on Buffers</a>, Up: <a href="Projects.html">Working with Projects</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
