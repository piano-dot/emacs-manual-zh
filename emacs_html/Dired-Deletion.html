<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Dired Deletion (GNU Emacs Manual)</title>

<meta name="description" content="Dired Deletion (GNU Emacs Manual)">
<meta name="keywords" content="Dired Deletion (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Dired.html" rel="up" title="Dired">
<link href="Flagging-Many-Files.html" rel="next" title="Flagging Many Files">
<link href="Dired-Navigation.html" rel="prev" title="Dired Navigation">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Dired-Deletion">
<div class="nav-panel">
<p>
Next: <a href="Flagging-Many-Files.html" accesskey="n" rel="next">Flagging Many Files at Once</a>, Previous: <a href="Dired-Navigation.html" accesskey="p" rel="prev">Navigation in the Dired Buffer</a>, Up: <a href="Dired.html" accesskey="u" rel="up">Dired, the Directory Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Deleting-Files-with-Dired"><span>31.3 Deleting Files with Dired<a class="copiable-link" href="#Deleting-Files-with-Dired"> &para;</a></span></h3>
<a class="index-entry-id" id="index-flagging-files-_0028in-Dired_0029"></a>
<a class="index-entry-id" id="index-deleting-files-_0028in-Dired_0029"></a>

<p>One of the most frequent uses of Dired is to first <em class="dfn">flag</em> files for
deletion, then delete the files that were flagged.
</p>
<dl class="table">
<dt><kbd class="kbd">d</kbd></dt>
<dd><p>Flag this file for deletion (<code class="code">dired-flag-file-deletion</code>).
</p></dd>
<dt><kbd class="kbd">u</kbd></dt>
<dd><p>Remove the deletion flag (<code class="code">dired-unmark</code>).
</p></dd>
<dt><kbd class="kbd"><kbd class="key">DEL</kbd></kbd></dt>
<dd><p>Move point to previous line and remove the deletion flag on that line
(<code class="code">dired-unmark-backward</code>).
</p></dd>
<dt><kbd class="kbd">x</kbd></dt>
<dd><p>Delete files flagged for deletion (<code class="code">dired-do-flagged-delete</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-d-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-dired_002dflag_002dfile_002ddeletion"></a>
<p>You can flag a file for deletion by moving to the line describing
the file and typing <kbd class="kbd">d</kbd> (<code class="code">dired-flag-file-deletion</code>).  The
deletion flag is visible as a &lsquo;<samp class="samp">D</samp>&rsquo; at the beginning of the line.
This command moves point to the next line, so that repeated <kbd class="kbd">d</kbd>
commands flag successive files.  A numeric prefix argument serves as a
repeat count; a negative count means to flag preceding files.
</p>
<p>If the region is active, the <kbd class="kbd">d</kbd> command flags all files in the
region for deletion; in this case, the command does not move point,
and ignores any prefix argument.
</p>
<a class="index-entry-id" id="index-u-_0028Dired-deletion_0029"></a>
<a class="index-entry-id" id="index-DEL-_0028Dired_0029"></a>
<p>The reason for flagging files for deletion, rather than deleting
files immediately, is to reduce the danger of deleting a file
accidentally.  Until you direct Dired to delete the flagged files, you
can remove deletion flags using the commands <kbd class="kbd">u</kbd> and <kbd class="key">DEL</kbd>.
<kbd class="kbd">u</kbd> (<code class="code">dired-unmark</code>) works just like <kbd class="kbd">d</kbd>, but removes
flags rather than making flags.  <kbd class="key">DEL</kbd>
(<code class="code">dired-unmark-backward</code>) moves upward, removing flags; it is
like <kbd class="kbd">u</kbd> with argument &minus;1.  A numeric prefix argument to
either command serves as a repeat count, with a negative count meaning
to unflag in the opposite direction.  If the region is active, these
commands instead unflag all files in the region, without moving point.
</p>
<a class="index-entry-id" id="index-x-_0028Dired_0029"></a>
<a class="index-entry-id" id="index-dired_002ddo_002dflagged_002ddelete"></a>
<p>To delete flagged files, type <kbd class="kbd">x</kbd>
(<code class="code">dired-do-flagged-delete</code>).  This command displays a list of all
the file names flagged for deletion, and requests confirmation with
<kbd class="kbd">yes</kbd>.  If you confirm, Dired deletes the flagged files, then
deletes their lines from the text of the Dired buffer.  The Dired
buffer, with somewhat fewer lines, remains selected.
</p>
<p>If you answer <kbd class="kbd">no</kbd> or quit with <kbd class="kbd">C-g</kbd> when asked to confirm, you
return immediately to Dired, with the deletion flags still present in
the buffer, and no files actually deleted.
</p>
<a class="index-entry-id" id="index-recursive-deletion"></a>
<a class="index-entry-id" id="index-dired_002drecursive_002ddeletes"></a>
<p>You can delete empty directories just like other files, but normally
Dired cannot delete directories that are nonempty.  However, if the
variable <code class="code">dired-recursive-deletes</code> is non-<code class="code">nil</code>, then Dired
is allowed to delete nonempty directories including all their
contents.  That can be somewhat risky.  If the value of the variable
is <code class="code">always</code>, Dired will delete nonempty directories recursively,
which is even more risky.
</p>
<p>Even if you have set <code class="code">dired-recursive-deletes</code> to <code class="code">nil</code>, you
might want sometimes to delete directories recursively without being
asked for confirmation for all of them.  For example, you may want
that when you have marked many directories for deletion and you are
very sure that all of them can safely be deleted.  For every nonempty
directory you are asked for confirmation to delete, if you answer
<code class="code">all</code>, then all the remaining directories will be deleted without
any further questions.
</p>
<a class="index-entry-id" id="index-delete_002dby_002dmoving_002dto_002dtrash_002c-and-Dired"></a>
<p>If you change the variable <code class="code">delete-by-moving-to-trash</code> to
<code class="code">t</code>, the above deletion commands will move the affected files or
directories into the operating system&rsquo;s Trash, instead of deleting
them outright.  See <a class="xref" href="Misc-File-Ops.html">Miscellaneous File Operations</a>.
</p>
<p>An alternative way of deleting files is to mark them with <kbd class="kbd">m</kbd>
and delete with <kbd class="kbd">D</kbd>, see <a class="ref" href="Operating-on-Files.html">Operating on Files</a>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Flagging-Many-Files.html">Flagging Many Files at Once</a>, Previous: <a href="Dired-Navigation.html">Navigation in the Dired Buffer</a>, Up: <a href="Dired.html">Dired, the Directory Editor</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
