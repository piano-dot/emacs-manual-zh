<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Windows Processes (GNU Emacs Manual)</title>

<meta name="description" content="Windows Processes (GNU Emacs Manual)">
<meta name="keywords" content="Windows Processes (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Microsoft-Windows.html" rel="up" title="Microsoft Windows">
<link href="Windows-Printing.html" rel="next" title="Windows Printing">
<link href="Windows-Mouse.html" rel="prev" title="Windows Mouse">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Windows-Processes">
<div class="nav-panel">
<p>
Next: <a href="Windows-Printing.html" accesskey="n" rel="next">Printing and MS-Windows</a>, Previous: <a href="Windows-Mouse.html" accesskey="p" rel="prev">Mouse Usage on MS-Windows</a>, Up: <a href="Microsoft-Windows.html" accesskey="u" rel="up">Emacs and Microsoft Windows/MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Subprocesses-on-Windows-9X_002fME-and-Windows-NT_002f2K_002fXP_002fVista_002f7_002f8_002f10"><span>I.8 Subprocesses on Windows 9X/ME and Windows NT/2K/XP/Vista/7/8/10<a class="copiable-link" href="#Subprocesses-on-Windows-9X_002fME-and-Windows-NT_002f2K_002fXP_002fVista_002f7_002f8_002f10"> &para;</a></span></h3>
<a class="index-entry-id" id="index-subprocesses-on-MS_002dWindows"></a>

<a class="index-entry-id" id="index-DOS-applications_002c-running-from-Emacs"></a>
<p>Emacs compiled as a native Windows application (as opposed to the
DOS version) includes full support for asynchronous subprocesses.  In
the Windows version, synchronous and asynchronous subprocesses work
fine on all versions of MS-Windows, as long as you run only 32-bit or
64-bit Windows applications.  However, when you run a DOS application
in a subprocess, you may encounter problems or be unable to run the
application at all; and if you run two DOS applications at the same
time in two subprocesses, you may have to reboot your system.
</p>
<p>Since the standard command interpreter (and most command line utilities)
on Windows 9X are DOS applications, these problems are significant when
using that system.  But there&rsquo;s nothing we can do about them; only
Microsoft can fix them.
</p>
<p>If you run just one DOS application subprocess, the subprocess should
work as expected as long as it is &ldquo;well-behaved&rdquo; and does not perform
direct screen access or other unusual actions.  If you have a CPU
monitor application, your machine will appear to be 100% busy even when
the DOS application is idle, but this is only an artifact of the way CPU
monitors measure processor load.
</p>
<p>You must terminate the DOS application before you start any other DOS
application in a different subprocess.  Emacs is unable to interrupt or
terminate a DOS subprocess.  The only way you can terminate such a
subprocess is by giving it a command that tells its program to exit.
</p>
<p>If you attempt to run two DOS applications at the same time in separate
subprocesses, the second one that is started will be suspended until the
first one finishes, even if either or both of them are asynchronous.
</p>
<a class="index-entry-id" id="index-kill-DOS-application"></a>
<p>If you can go to the first subprocess, and tell it to exit, the second
subprocess should continue normally.  However, if the second
subprocess is synchronous, Emacs itself will be hung until the first
subprocess finishes.  If it will not finish without user input, then
you have no choice but to reboot if you are running on Windows 9X.
If you are running on Windows NT and later, you can use a process
viewer application to kill the appropriate instance of NTVDM instead
(this will terminate both DOS subprocesses).
</p>
<p>If you have to reboot Windows 9X in this situation, do not use the
<code class="code">Shutdown</code> command on the <code class="code">Start</code> menu; that usually hangs the
system.  Instead, type <kbd class="kbd"><kbd class="key">Ctrl</kbd>-<kbd class="key">Alt</kbd>-<kbd class="key">DEL</kbd></kbd> and then choose
<code class="code">Shutdown</code>.  That usually works, although it may take a few minutes
to do its job.
</p>
<a class="index-entry-id" id="index-w32_002dquote_002dprocess_002dargs"></a>
<p>The variable <code class="code">w32-quote-process-args</code> controls how Emacs quotes
the process arguments.  Non-<code class="code">nil</code> means quote with the <code class="code">&quot;</code>
character.  If the value is a character, Emacs uses that character to escape
any quote characters that appear; otherwise it chooses a suitable escape
character based on the type of the program.
</p>
<a class="index-entry-id" id="index-w32_002dpipe_002dbuffer_002dsize"></a>
<p>The variable <code class="code">w32-pipe-buffer-size</code> controls the size of the
buffer Emacs requests from the system when it creates pipes for
communications with subprocesses.  The default value is zero, which
lets the OS choose the size.  Any valid positive value will request a
buffer of that size in bytes.  This can be used to tailor
communications with subprocesses to programs that exhibit unusual
behavior with respect to buffering pipe I/O.
</p>
<a class="index-entry-id" id="index-w32_002dpipe_002dread_002ddelay"></a>
<p>If you need to invoke MS-DOS programs as Emacs subprocesses, you may
see low rate of reading data from such programs.  Setting the variable
<code class="code">w32-pipe-read-delay</code> to a non-zero value may improve throughput
in these cases; we suggest the value of 50 for such situations.  The
default is zero.
</p>
<a class="index-entry-id" id="index-w32_002dshell_002dexecute"></a>
<p>The function <code class="code">w32-shell-execute</code> can be useful for writing
customized commands that run MS-Windows applications registered to
handle a certain standard Windows operation for a specific type of
document or file.  This function is a wrapper around the Windows
<code class="code">ShellExecute</code> API.  See the MS-Windows API documentation for
more details.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Windows-Printing.html">Printing and MS-Windows</a>, Previous: <a href="Windows-Mouse.html">Mouse Usage on MS-Windows</a>, Up: <a href="Microsoft-Windows.html">Emacs and Microsoft Windows/MS-DOS</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
