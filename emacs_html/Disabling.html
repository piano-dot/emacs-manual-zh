<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Disabling (GNU Emacs Manual)</title>

<meta name="description" content="Disabling (GNU Emacs Manual)">
<meta name="keywords" content="Disabling (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Key-Bindings.html" rel="up" title="Key Bindings">
<link href="Mouse-Buttons.html" rel="prev" title="Mouse Buttons">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="subsection-level-extent" id="Disabling">
<div class="nav-panel">
<p>
Previous: <a href="Mouse-Buttons.html" accesskey="p" rel="prev">Rebinding Mouse Buttons</a>, Up: <a href="Key-Bindings.html" accesskey="u" rel="up">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Disabling-Commands"><span>37.3.11 Disabling Commands<a class="copiable-link" href="#Disabling-Commands"> &para;</a></span></h4>
<a class="index-entry-id" id="index-disabled-command"></a>

<p>Disabling a command means that invoking it interactively asks for
confirmation from the user.  The purpose of disabling a command is to
prevent users from executing it by accident; we do this for commands
that might be confusing to the uninitiated.
</p>
<p>Attempting to invoke a disabled command interactively in Emacs
displays a window containing the command&rsquo;s name, its documentation,
and some instructions on what to do immediately; then Emacs asks for
input saying whether to execute the command as requested, enable it
and execute it, or cancel.  If you decide to enable the command, you
must then answer another question&mdash;whether to do this permanently, or
just for the current session.  (Enabling permanently works by
automatically editing your initialization file.)  You can also type
<kbd class="kbd">!</kbd> to enable <em class="emph">all</em> commands, for the current session only.
</p>
<p>The direct mechanism for disabling a command is to put a
non-<code class="code">nil</code> <code class="code">disabled</code> property on the Lisp symbol for the
command.  Here is the Lisp program to do this:
</p>
<div class="example">
<pre class="example-preformatted">(put 'delete-region 'disabled t)
</pre></div>

<p>If the value of the <code class="code">disabled</code> property is a string, that string
is included in the message displayed when the command is used:
</p>
<div class="example">
<pre class="example-preformatted">(put 'delete-region 'disabled
     &quot;It's better to use `kill-region' instead.\n&quot;)
</pre></div>

<a class="index-entry-id" id="index-command_002dquery"></a>
<p>As a less heavy-handed alternative to disabling commands, you may
want to be queried before executing a command.  For instance, to be
queried before executing the <kbd class="kbd">M-&gt;</kbd> (<code class="code">end-of-buffer</code>)
command, you could put something like the following in your init file:
</p>
<div class="example">
<pre class="example-preformatted">(command-query
 'end-of-buffer
 &quot;Do you really want to go to the end of the buffer?&quot;)
</pre></div>

<p>By default, you&rsquo;ll be queried with a <kbd class="kbd">y</kbd>/<kbd class="kbd">n</kbd> question, but if
you give a non-<code class="code">nil</code> value to the third, optional argument,
you&rsquo;ll be queried with <kbd class="kbd">yes</kbd>/<kbd class="kbd">no</kbd> instead.
</p>
<a class="index-entry-id" id="index-disable_002dcommand"></a>
<a class="index-entry-id" id="index-enable_002dcommand"></a>
<p>You can make a command disabled either by editing the initialization
file directly, or with the command <kbd class="kbd">M-x disable-command</kbd>, which
edits the initialization file for you.  Likewise, <kbd class="kbd">M-x
enable-command</kbd> edits the initialization file to enable a command
permanently.  See <a class="xref" href="Init-File.html">The Emacs Initialization File</a>.
</p>
<p>If Emacs was invoked with the <samp class="option">-q</samp> or <samp class="option">--no-init-file</samp>
options (see <a class="pxref" href="Initial-Options.html">Initial Options</a>), it will not edit your
initialization file.  Doing so could lose information because Emacs
has not read your initialization file.
</p>
<p>Whether a command is disabled is independent of what key is used to
invoke it; disabling also applies if the command is invoked using
<kbd class="kbd">M-x</kbd>.  However, disabling a command has no effect on calling it
as a function from Lisp programs.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Previous: <a href="Mouse-Buttons.html">Rebinding Mouse Buttons</a>, Up: <a href="Key-Bindings.html">Customizing Key Bindings</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
