<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Drag and Drop (GNU Emacs Manual)</title>

<meta name="description" content="Drag and Drop (GNU Emacs Manual)">
<meta name="keywords" content="Drag and Drop (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Frames.html" rel="up" title="Frames">
<link href="Menu-Bars.html" rel="next" title="Menu Bars">
<link href="Window-Dividers.html" rel="prev" title="Window Dividers">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Drag-and-Drop">
<div class="nav-panel">
<p>
Next: <a href="Menu-Bars.html" accesskey="n" rel="next">Menu Bars</a>, Previous: <a href="Window-Dividers.html" accesskey="p" rel="prev">Window Dividers</a>, Up: <a href="Frames.html" accesskey="u" rel="up">Frames and Graphical Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Drag-and-Drop-1"><span>22.14 Drag and Drop<a class="copiable-link" href="#Drag-and-Drop-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-drag-and-drop"></a>

<p>In most graphical desktop environments, Emacs has basic support for
<em class="dfn">drag and drop</em> operations.  For instance, dropping text onto an
Emacs frame inserts the text where it is dropped.  Dropping a file
onto an Emacs frame visits that file.  As a special case, dropping the
file on a Dired buffer moves or copies the file (according to the
conventions of the application it came from) into the directory
displayed in that buffer.
</p>
<a class="index-entry-id" id="index-dnd_002dopen_002dfile_002dother_002dwindow"></a>
<p>Dropping a file normally visits it in the window you drop it on.  If
you prefer to visit the file in a new window in such cases, customize
the variable <code class="code">dnd-open-file-other-window</code>.
</p>
<p>The XDND and Motif drag and drop protocols, and the old KDE 1.x
protocol, are currently supported.
</p>
<a class="index-entry-id" id="index-dnd_002dindicate_002dinsertion_002dpoint"></a>
<a class="index-entry-id" id="index-dnd_002dscroll_002dmargin"></a>

<p>It can be difficult to scroll a window or determine where dropped
text will be inserted while dragging text onto an Emacs window.
Setting the option <code class="code">dnd-indicate-insertion-point</code> to a
non-<code class="code">nil</code> value makes point move to the location any dropped text
will be inserted when the mouse moves in a window during drag, and
setting <code class="code">dnd-scroll-margin</code> to an integer value causes a window
to be scrolled if the mouse moves within that many lines of the top
or bottom of the window during drag.
</p>
<a class="index-entry-id" id="index-mouse_002ddrag_002dand_002ddrop_002dregion"></a>
<p>Emacs can also optionally drag the region with the mouse into
another portion of this or another buffer.  To enable that, customize
the variable <code class="code">mouse-drag-and-drop-region</code> to a non-<code class="code">nil</code>
value.  Normally, the text is moved, i.e. cut and pasted, when the
destination is the same buffer as the origin; dropping the region on
another buffer copies the text instead.  If the value of this variable
names a modifier key, such as &lsquo;<samp class="samp">shift</samp>&rsquo;, &lsquo;<samp class="samp">control</samp>&rsquo; or
&lsquo;<samp class="samp">alt</samp>&rsquo;, then pressing that modifier key when dropping the text
will copy it instead of cutting it, even if you drop on the same
buffer as the one from which the text came.
</p>
<a class="index-entry-id" id="index-mouse_002ddrag_002dand_002ddrop_002dregion_002dcut_002dwhen_002dbuffers_002ddiffer"></a>
<a class="index-entry-id" id="index-mouse_002ddrag_002dand_002ddrop_002dregion_002dshow_002dtooltip"></a>
<a class="index-entry-id" id="index-mouse_002ddrag_002dand_002ddrop_002dregion_002dshow_002dcursor"></a>
<p>In order to cut text even when source and destination buffers differ,
set the option
<code class="code">mouse-drag-and-drop-region-cut-when-buffers-differ</code> to a
non-<code class="code">nil</code> value.  By default, on a graphic display the selected
text is shown in a tooltip and point moves together with the mouse
cursor during dragging.  To suppress such behavior, set the options
<code class="code">mouse-drag-and-drop-region-show-tooltip</code> and/or
<code class="code">mouse-drag-and-drop-region-show-cursor</code> to <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-mouse_002ddrag_002dand_002ddrop_002dregion_002dcross_002dprogram"></a>
<p>To drag text from Emacs to other programs, set the option
<code class="code">mouse-drag-and-drop-region-cross-program</code> to a non-<code class="code">nil</code>
value.
</p>
<p>On the X window system, some programs can drop files on Emacs,
expecting Emacs to save them.  Normally, Emacs will prompt for a file
name under which the file will be saved, and then open the file, but
that behavior can be changed by changing the variable
<code class="code">x-dnd-direct-save-function</code>.  See <a data-manual="elisp" href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Drag-and-Drop.html#Drag-and-Drop">Drag and Drop</a> in <cite class="cite">The
Emacs Lisp Reference Manual</cite>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Menu-Bars.html">Menu Bars</a>, Previous: <a href="Window-Dividers.html">Window Dividers</a>, Up: <a href="Frames.html">Frames and Graphical Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
