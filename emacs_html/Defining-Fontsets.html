<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>Defining Fontsets (GNU Emacs Manual)</title>

<meta name="description" content="Defining Fontsets (GNU Emacs Manual)">
<meta name="keywords" content="Defining Fontsets (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Key-Index.html" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="International.html" rel="up" title="International">
<link href="Modifying-Fontsets.html" rel="next" title="Modifying Fontsets">
<link href="Fontsets.html" rel="prev" title="Fontsets">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="zh_CN">
<div class="section-level-extent" id="Defining-Fontsets">
<div class="nav-panel">
<p>
Next: <a href="Modifying-Fontsets.html" accesskey="n" rel="next">Modifying Fontsets</a>, Previous: <a href="Fontsets.html" accesskey="p" rel="prev">Fontsets</a>, Up: <a href="International.html" accesskey="u" rel="up">International Character Set Support</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Defining-Fontsets-1"><span>23.15 Defining Fontsets<a class="copiable-link" href="#Defining-Fontsets-1"> &para;</a></span></h3>

<a class="index-entry-id" id="index-standard_002dfontset_002dspec"></a>
<a class="index-entry-id" id="index-w32_002dstandard_002dfontset_002dspec"></a>
<a class="index-entry-id" id="index-ns_002dstandard_002dfontset_002dspec"></a>
<a class="index-entry-id" id="index-standard-fontset"></a>
<p>When running on X, Emacs creates a standard fontset automatically according to the value
of <code class="code">standard-fontset-spec</code>.  This fontset&rsquo;s name is
</p>
<div class="example">
<pre class="example-preformatted">-*-fixed-medium-r-normal-*-16-*-*-*-*-*-fontset-standard
</pre></div>

<p>or just &lsquo;<samp class="samp">fontset-standard</samp>&rsquo; for short.
</p>
<p>On GNUstep and macOS, the standard fontset is created using the value of
<code class="code">ns-standard-fontset-spec</code>, and on MS Windows it is
created using the value of <code class="code">w32-standard-fontset-spec</code>.
</p>
<p>Bold, italic, and bold-italic variants of the standard fontset are
created automatically.  Their names have &lsquo;<samp class="samp">bold</samp>&rsquo; instead of
&lsquo;<samp class="samp">medium</samp>&rsquo;, or &lsquo;<samp class="samp">i</samp>&rsquo; instead of &lsquo;<samp class="samp">r</samp>&rsquo;, or both.
</p>
<a class="index-entry-id" id="index-startup-fontset"></a>
<p>Emacs generates a fontset automatically, based on any default
<abbr class="acronym">ASCII</abbr> font that you specify with the &lsquo;<samp class="samp">Font</samp>&rsquo; resource or
the &lsquo;<samp class="samp">-fn</samp>&rsquo; argument, or the default font that Emacs found when it
started.  This is the <em class="dfn">startup fontset</em> and its name is
<code class="code">fontset-startup</code>.  Emacs generates this fontset by replacing the
<var class="var">charset_registry</var> field with &lsquo;<samp class="samp">fontset</samp>&rsquo;, and replacing the
<var class="var">charset_encoding</var> field with &lsquo;<samp class="samp">startup</samp>&rsquo;, then using the
resulting string to specify a fontset.
</p>
<p>For instance, if you start Emacs with a font of this form,
</p>
<div class="example">
<pre class="example-preformatted">emacs -fn &quot;*courier-medium-r-normal--14-140-*-iso8859-1&quot;
</pre></div>

<p>Emacs generates the following fontset and uses it for the initial X
window frame:
</p>
<div class="example">
<pre class="example-preformatted">-*-courier-medium-r-normal-*-14-140-*-*-*-*-fontset-startup
</pre></div>

<p>The startup fontset will use the font that you specify, or a variant
with a different registry and encoding, for all the characters that
are supported by that font, and fallback on &lsquo;<samp class="samp">fontset-default</samp>&rsquo; for
other characters.
</p>
<p>With the X resource &lsquo;<samp class="samp">Emacs.Font</samp>&rsquo;, you can specify a fontset name
just like an actual font name.  But be careful not to specify a fontset
name in a wildcard resource like &lsquo;<samp class="samp">Emacs*Font</samp>&rsquo;&mdash;that wildcard
specification matches various other resources, such as for menus, and
menus cannot handle fontsets.  See <a class="xref" href="X-Resources.html">X Options and Resources</a>.
</p>
<p>You can specify additional fontsets using X resources named
&lsquo;<samp class="samp">Fontset-<var class="var">n</var></samp>&rsquo;, where <var class="var">n</var> is an integer starting from 0.
The resource value should have this form:
</p>
<div class="example smallexample">
<pre class="example-preformatted"><var class="var">fontpattern</var>, <span class="r">[</span><var class="var">charset</var>:<var class="var">font</var><span class="r">]...</span>
</pre></div>

<p>where <var class="var">fontpattern</var> should have the form of a standard X font name
(see the previous fontset-startup example), except for the last two
fields.  They should have the form &lsquo;<samp class="samp">fontset-<var class="var">alias</var></samp>&rsquo;.
</p>
<p>Each fontset has two names, one long and one short.  The long name
is  <var class="var">fontpattern</var>.  The short name is &lsquo;<samp class="samp">fontset-<var class="var">alias</var></samp>&rsquo;,
the last 2 fields of the long name (e.g., &lsquo;<samp class="samp">fontset-startup</samp>&rsquo; for
the  fontset automatically created at startup).  You can refer to the
fontset by either name.
</p>
<p>The construct &lsquo;<samp class="samp"><var class="var">charset</var>:<var class="var">font</var></samp>&rsquo; specifies which font to
use (in this fontset) for one particular character set.  Here,
<var class="var">charset</var> is the name of a character set, and <var class="var">font</var> is the
font to use for that character set.  You can use this construct any
number of times in defining one fontset.
</p>
<p>For the other character sets, Emacs chooses a font based on
<var class="var">fontpattern</var>.  It replaces &lsquo;<samp class="samp">fontset-<var class="var">alias</var></samp>&rsquo; with values
that describe the character set.  For the <abbr class="acronym">ASCII</abbr> character font,
&lsquo;<samp class="samp">fontset-<var class="var">alias</var></samp>&rsquo; is replaced with &lsquo;<samp class="samp">ISO8859-1</samp>&rsquo;.
</p>
<p>In addition, when several consecutive fields are wildcards, Emacs
collapses them into a single wildcard.  This is to prevent use of
auto-scaled fonts.  Fonts made by scaling larger fonts are not usable
for editing, and scaling a smaller font is also not useful, because it is
better to use the smaller font in its own size, which is what Emacs
does.
</p>
<p>Thus if <var class="var">fontpattern</var> is this,
</p>
<div class="example">
<pre class="example-preformatted">-*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24
</pre></div>

<p>the font specification for <abbr class="acronym">ASCII</abbr> characters would be this:
</p>
<div class="example">
<pre class="example-preformatted">-*-fixed-medium-r-normal-*-24-*-ISO8859-1
</pre></div>

<p>and the font specification for Chinese GB2312 characters would be this:
</p>
<div class="example">
<pre class="example-preformatted">-*-fixed-medium-r-normal-*-24-*-gb2312*-*
</pre></div>

<p>You may not have any Chinese font matching the above font
specification.  Most X distributions include only Chinese fonts that
have &lsquo;<samp class="samp">song ti</samp>&rsquo; or &lsquo;<samp class="samp">fangsong ti</samp>&rsquo; in the <var class="var">family</var> field.  In
such a case, &lsquo;<samp class="samp">Fontset-<var class="var">n</var></samp>&rsquo; can be specified as:
</p>
<div class="example smallexample">
<pre class="example-preformatted">Emacs.Fontset-0: -*-fixed-medium-r-normal-*-24-*-*-*-*-*-fontset-24,\
        chinese-gb2312:-*-*-medium-r-normal-*-24-*-gb2312*-*
</pre></div>

<p>Then, the font specifications for all but Chinese GB2312 characters have
&lsquo;<samp class="samp">fixed</samp>&rsquo; in the <var class="var">family</var> field, and the font specification for
Chinese GB2312 characters has a wild card &lsquo;<samp class="samp">*</samp>&rsquo; in the <var class="var">family</var>
field.
</p>
<a class="index-entry-id" id="index-create_002dfontset_002dfrom_002dfontset_002dspec"></a>
<p>The function that processes the fontset resource value to create the
fontset is called <code class="code">create-fontset-from-fontset-spec</code>.  You can also
call this function explicitly to create a fontset.
</p>
<p>See <a class="xref" href="Fonts.html">Fonts</a>, for more information about font naming.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Modifying-Fontsets.html">Modifying Fontsets</a>, Previous: <a href="Fontsets.html">Fontsets</a>, Up: <a href="International.html">International Character Set Support</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
