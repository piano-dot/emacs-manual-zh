<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>32 The Calendar and the Diary (GNU Emacs Manual)</title>

<meta name="description" content="32 The Calendar and the Diary (GNU Emacs Manual)"/>
<meta name="keywords" content="32 The Calendar and the Diary (GNU Emacs Manual)"/>
<meta name="resource-type" content="document"/>
<meta name="distribution" content="global"/>
<meta name="Generator" content="texi2any"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<link href="emacs.xhtml" rel="start" title="Emacs 编辑器"/>
<link href="Key-Index.xhtml" rel="index" title="Key (Character) Index"/>
<link href="emacs.xhtml#SEC_Contents" rel="contents" title="Table of Contents"/>
<link href="emacs.xhtml" rel="up" title="Emacs 编辑器"/>
<link href="Sending-Mail.xhtml#Sending-Mail" rel="next" title="33 Sending Mail"/>
<link href="Dired.xhtml#Dired" rel="prev" title="31 Dired, the Directory Editor"/>
<style type="text/css">
<!--
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
pre.display-preformatted {font-family: inherit}
span.r {font-family: initial; font-weight: normal; font-style: normal}
-->
</style>


</head>

<body lang="zh_CN">
<div class="chapter-level-extent" id="Calendar_002fDiary">

<h2 class="chapter" id="The-Calendar-and-the-Diary">32 The Calendar and the Diary</h2>
<a class="index-entry-id" id="index-calendar"></a>
<a class="index-entry-id" id="index-calendar-1"></a>

<p>Emacs provides the functions of a desk calendar, with a diary of
planned or past events.  It also has facilities for managing your
appointments, and keeping track of how much time you spend working on
certain projects.
</p>
<p>To enter the calendar, type <kbd class="kbd">M-x calendar</kbd>.  This displays a
three-month calendar centered on the current month, with point on the
current date.  With a numeric argument, as in <kbd class="kbd">C-u M-x calendar</kbd>, it
prompts you for the month and year to be the center of the three-month
calendar.  The calendar uses its own buffer, whose major mode is
Calendar mode.
</p>
<p><kbd class="kbd">mouse-3</kbd> in the calendar brings up a menu of operations on a
particular date; <kbd class="kbd">mouse-2</kbd> brings up a menu of commonly used
calendar features that are independent of any particular date.  To exit
the calendar, type <kbd class="kbd">q</kbd>.
</p>


<div class="section-level-extent" id="Calendar-Motion">
<h3 class="section" id="Movement-in-the-Calendar">32.1 Movement in the Calendar</h3>

<a class="index-entry-id" id="index-moving-inside-the-calendar"></a>
<p>Calendar mode provides commands to move through the calendar in
logical units of time such as days, weeks, months, and years.  If you
move outside the three months originally displayed, the calendar
display scrolls automatically through time to make the selected
date visible.  Moving to a date lets you view its holidays or diary
entries, or convert it to other calendars; moving by long time periods
is also useful simply to scroll the calendar.
</p>

<div class="subsection-level-extent" id="Calendar-Unit-Motion">
<h4 class="subsection" id="Motion-by-Standard-Lengths-of-Time">32.1.1 Motion by Standard Lengths of Time</h4>

<p>The commands for movement in the calendar buffer parallel the
commands for movement in text.  You can move forward and backward by
days, weeks, months, and years.
</p>
<dl class="table">
<dt><kbd class="kbd">C-f</kbd></dt>
<dd><p>Move point one day forward (<code class="code">calendar-forward-day</code>).
</p></dd>
<dt><kbd class="kbd">C-b</kbd></dt>
<dd><p>Move point one day backward (<code class="code">calendar-backward-day</code>).
</p></dd>
<dt><kbd class="kbd">C-n</kbd></dt>
<dd><p>Move point one week forward (<code class="code">calendar-forward-week</code>).
</p></dd>
<dt><kbd class="kbd">C-p</kbd></dt>
<dd><p>Move point one week backward (<code class="code">calendar-backward-week</code>).
</p></dd>
<dt><kbd class="kbd">M-}</kbd></dt>
<dd><p>Move point one month forward (<code class="code">calendar-forward-month</code>).
</p></dd>
<dt><kbd class="kbd">M-{</kbd></dt>
<dd><p>Move point one month backward (<code class="code">calendar-backward-month</code>).
</p></dd>
<dt><kbd class="kbd">C-x ]</kbd></dt>
<dd><p>Move point one year forward (<code class="code">calendar-forward-year</code>).
</p></dd>
<dt><kbd class="kbd">C-x [</kbd></dt>
<dd><p>Move point one year backward (<code class="code">calendar-backward-year</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-C_002df-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dforward_002dday"></a>
<a class="index-entry-id" id="index-C_002db-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbackward_002dday"></a>
<a class="index-entry-id" id="index-C_002dn-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dforward_002dweek"></a>
<a class="index-entry-id" id="index-C_002dp-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbackward_002dweek"></a>
<p>The day and week commands are natural analogues of the usual Emacs
commands for moving by characters and by lines.  Just as <kbd class="kbd">C-n</kbd>
usually moves to the same column in the following line, in Calendar
mode it moves to the same day in the following week.  And <kbd class="kbd">C-p</kbd>
moves to the same day in the previous week.
</p>
<p>The arrow keys are equivalent to <kbd class="kbd">C-f</kbd>, <kbd class="kbd">C-b</kbd>, <kbd class="kbd">C-n</kbd> and
<kbd class="kbd">C-p</kbd>, just as they normally are in other modes.
</p>
<a class="index-entry-id" id="index-M_002d_007d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dforward_002dmonth"></a>
<a class="index-entry-id" id="index-M_002d_007b-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbackward_002dmonth"></a>
<a class="index-entry-id" id="index-C_002dx-_005d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dforward_002dyear"></a>
<a class="index-entry-id" id="index-C_002dx-_005b-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbackward_002dyear"></a>
<p>The commands for motion by months and years work like those for
weeks, but move a larger distance.  The month commands <kbd class="kbd">M-}</kbd> and
<kbd class="kbd">M-{</kbd> move forward or backward by an entire month.  The year
commands <kbd class="kbd">C-x ]</kbd> and <kbd class="kbd">C-x&#160;[</kbd><!-- /@w --> move forward or backward a
whole year.
</p>
<p>The easiest way to remember these commands is to consider months and
years analogous to paragraphs and pages of text, respectively.  But
the calendar movement commands themselves do not quite parallel those
for movement through text: the ordinary Emacs paragraph commands move
to the beginning or end of a paragraph, whereas these month and year
commands move by an entire month or an entire year, keeping the same
date within the month or year.
</p>
<p>All these commands accept a numeric argument as a repeat count.
For convenience, the digit keys and the minus sign specify numeric
arguments in Calendar mode even without the Meta modifier.  For example,
<kbd class="kbd">100 C-f</kbd> moves point 100 days forward from its present location.
</p>
</div>
<div class="subsection-level-extent" id="Move-to-Beginning-or-End">
<h4 class="subsection" id="Beginning-or-End-of-Week_002c-Month-or-Year">32.1.2 Beginning or End of Week, Month or Year</h4>

<p>A week (or month, or year) is not just a quantity of days; we think of
weeks (months, years) as starting on particular dates.  So Calendar mode
provides commands to move to the start or end of a week, month or year:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-calendar_002dbeginning_002dof_002dweek"></a>
<a id="index-C_002da-_0028Calendar-mode_0029"></a><kbd class="kbd">C-a</kbd></dt>
<dd><p>Move point to start of week (<code class="code">calendar-beginning-of-week</code>).
<a class="index-entry-id" id="index-C_002de-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dend_002dof_002dweek"></a>
</p></dd>
<dt><kbd class="kbd">C-e</kbd></dt>
<dd><p>Move point to end of week (<code class="code">calendar-end-of-week</code>).
<a class="index-entry-id" id="index-M_002da-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbeginning_002dof_002dmonth"></a>
</p></dd>
<dt><kbd class="kbd">M-a</kbd></dt>
<dd><p>Move point to start of month (<code class="code">calendar-beginning-of-month</code>).
<a class="index-entry-id" id="index-M_002de-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dend_002dof_002dmonth"></a>
</p></dd>
<dt><kbd class="kbd">M-e</kbd></dt>
<dd><p>Move point to end of month (<code class="code">calendar-end-of-month</code>).
<a class="index-entry-id" id="index-M_002d_003c-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dbeginning_002dof_002dyear"></a>
</p></dd>
<dt><kbd class="kbd">M-&lt;</kbd></dt>
<dd><p>Move point to start of year (<code class="code">calendar-beginning-of-year</code>).
<a class="index-entry-id" id="index-M_002d_003e-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dend_002dof_002dyear"></a>
</p></dd>
<dt><kbd class="kbd">M-&gt;</kbd></dt>
<dd><p>Move point to end of year (<code class="code">calendar-end-of-year</code>).
</p></dd>
</dl>

<p>These commands also take numeric arguments as repeat counts, with the
repeat count indicating how many weeks, months, or years to move
backward or forward.
</p>
<a class="index-entry-id" id="index-calendar_002dweek_002dstart_002dday"></a>
<a class="index-entry-id" id="index-calendar_002dweekend_002ddays"></a>
<a class="index-entry-id" id="index-weeks_002c-which-day-they-start-on"></a>
<a class="index-entry-id" id="index-calendar_002c-first-day-of-week"></a>
<p>By default, weeks begin on Sunday.  To make them begin on Monday
instead, set the variable <code class="code">calendar-week-start-day</code> to 1.  To
change which day headers are highlighted as weekend days, set the
variable <code class="code">calendar-weekend-days</code>.
</p>
</div>
<div class="subsection-level-extent" id="Specified-Dates">
<h4 class="subsection" id="Specified-Dates-1">32.1.3 Specified Dates</h4>

<p>Calendar mode provides commands for moving to a particular date
specified in various ways.
</p>
<dl class="table">
<dt><kbd class="kbd">g d</kbd></dt>
<dd><p>Move point to specified date (<code class="code">calendar-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g D</kbd></dt>
<dd><p>Move point to specified day of year (<code class="code">calendar-goto-day-of-year</code>).
</p></dd>
<dt><kbd class="kbd">g w</kbd></dt>
<dd><p>Move point to specified week of year (<code class="code">calendar-iso-goto-week</code>).
</p></dd>
<dt><kbd class="kbd">o</kbd></dt>
<dd><p>Center calendar around specified month (<code class="code">calendar-other-month</code>).
</p></dd>
<dt><kbd class="kbd">.</kbd></dt>
<dd><p>Move point to today&#8217;s date (<code class="code">calendar-goto-today</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-g-d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dgoto_002ddate"></a>
<p><kbd class="kbd">g d</kbd> (<code class="code">calendar-goto-date</code>) prompts for a year, a month, and a day
of the month, and then moves to that date.  Because the calendar includes all
dates from the beginning of the current era, you must type the year in its
entirety; that is, type &#8216;<samp class="samp">2010</samp>&#8217;, not &#8216;<samp class="samp">10</samp>&#8217;.
</p>
<a class="index-entry-id" id="index-g-D-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dgoto_002dday_002dof_002dyear"></a>
<a class="index-entry-id" id="index-g-w-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002diso_002dgoto_002dweek"></a>
<p><kbd class="kbd">g D</kbd> (<code class="code">calendar-goto-day-of-year</code>) prompts for a year and
day number, and moves to that date.  Negative day numbers count
backward from the end of the year.  <kbd class="kbd">g w</kbd>
(<code class="code">calendar-iso-goto-week</code>) prompts for a year and week number,
and moves to that week.
</p>
<a class="index-entry-id" id="index-o-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dother_002dmonth"></a>
<p><kbd class="kbd">o</kbd> (<code class="code">calendar-other-month</code>) prompts for a month and year,
then centers the three-month calendar around that month.
</p>
<a class="index-entry-id" id="index-_002e-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dgoto_002dtoday"></a>
<p>You can return to today&#8217;s date with <kbd class="kbd">.</kbd>
(<code class="code">calendar-goto-today</code>).
</p>
</div>
</div>
<div class="section-level-extent" id="Scroll-Calendar">
<h3 class="section" id="Scrolling-in-the-Calendar">32.2 Scrolling in the Calendar</h3>

<a class="index-entry-id" id="index-scrolling-in-the-calendar"></a>
<p>The calendar display scrolls automatically through time when you
move out of the visible portion.  You can also scroll it manually.
Imagine that the calendar window contains a long strip of paper with
the months on it.  Scrolling the calendar means moving the strip
horizontally, so that new months become visible in the window.
</p>
<dl class="table">
<dt><kbd class="kbd">&gt;</kbd></dt>
<dd><p>Scroll calendar one month forward (<code class="code">calendar-scroll-left</code>).
</p></dd>
<dt><kbd class="kbd">&lt;</kbd></dt>
<dd><p>Scroll calendar one month backward (<code class="code">calendar-scroll-right</code>).
</p></dd>
<dt><kbd class="kbd">C-v</kbd></dt>
<dt><kbd class="kbd"><kbd class="key">PageDown</kbd></kbd></dt>
<dt><kbd class="kbd"><kbd class="key">next</kbd></kbd></dt>
<dd><p>Scroll forward by three months (<code class="code">calendar-scroll-left-three-months</code>).
</p></dd>
<dt><kbd class="kbd">M-v</kbd></dt>
<dt><kbd class="kbd"><kbd class="key">PageUp</kbd></kbd></dt>
<dt><kbd class="kbd"><kbd class="key">prior</kbd></kbd></dt>
<dd><p>Scroll backward by three months (<code class="code">calendar-scroll-right-three-months</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-_003e-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dscroll_002dleft"></a>
<a class="index-entry-id" id="index-_003c-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dscroll_002dright"></a>
<p>The most basic calendar scroll commands scroll by one month at a
time.  This means that there are two months of overlap between the
display before the command and the display after.  <kbd class="kbd">&gt;</kbd> scrolls the
calendar contents one month forward in time.  <kbd class="kbd">&lt;</kbd> scrolls the
contents one month backwards in time.
</p>
<a class="index-entry-id" id="index-C_002dv-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-PageDown-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-next-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dscroll_002dleft_002dthree_002dmonths"></a>
<a class="index-entry-id" id="index-M_002dv-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-PageUp-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-prior-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dscroll_002dright_002dthree_002dmonths"></a>
<p>The commands <kbd class="kbd">C-v</kbd> and <kbd class="kbd">M-v</kbd> scroll the calendar by an entire
screenful&#8212;three months&#8212;in analogy with the usual meaning of
these commands.  <kbd class="kbd">C-v</kbd> makes later dates visible and <kbd class="kbd">M-v</kbd> makes
earlier dates visible.  These commands take a numeric argument as a
repeat count; in particular, since <kbd class="kbd">C-u</kbd> multiplies the next command
by four, typing <kbd class="kbd">C-u C-v</kbd> scrolls the calendar forward by a year and
typing <kbd class="kbd">C-u M-v</kbd> scrolls the calendar backward by a year.
</p>
<p>The function keys <kbd class="key">PageDown</kbd> (or <kbd class="key">next</kbd>) and <kbd class="key">PageUp</kbd>
(or <kbd class="key">prior</kbd>) are equivalent to <kbd class="kbd">C-v</kbd> and <kbd class="kbd">M-v</kbd>, just as
they are in other modes.
</p>
</div>
<div class="section-level-extent" id="Counting-Days">
<h3 class="section" id="Counting-Days-1">32.3 Counting Days</h3>

<dl class="table">
<dt><kbd class="kbd">M-=</kbd></dt>
<dd><p>Display the number of days in the current region
(<code class="code">calendar-count-days-region</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-M_002d_003d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dcount_002ddays_002dregion"></a>
<p>To determine the number of days in a range, set the mark on one
date using <kbd class="kbd">C-<kbd class="key">SPC</kbd></kbd>, move point to another date, and type <kbd class="kbd">M-=</kbd>
(<code class="code">calendar-count-days-region</code>).  The numbers of days shown is
<em class="emph">inclusive</em>; that is, it includes the days specified by mark and
point.
</p>
</div>
<div class="section-level-extent" id="General-Calendar">
<h3 class="section" id="Miscellaneous-Calendar-Commands">32.4 Miscellaneous Calendar Commands</h3>

<dl class="table">
<dt><kbd class="kbd">p d</kbd></dt>
<dd><p>Display day-in-year (<code class="code">calendar-print-day-of-year</code>).
</p></dd>
<dt><kbd class="kbd">C-c C-l</kbd></dt>
<dd><p>Regenerate the calendar window (<code class="code">calendar-redraw</code>).
</p></dd>
<dt><kbd class="kbd"><kbd class="key">SPC</kbd></kbd></dt>
<dd><p>Scroll the next window up (<code class="code">scroll-other-window</code>).
</p></dd>
<dt><kbd class="kbd"><kbd class="key">DEL</kbd></kbd></dt>
<dt><kbd class="kbd">S-<kbd class="key">SPC</kbd></kbd></dt>
<dd><p>Scroll the next window down (<code class="code">scroll-other-window-down</code>).
</p></dd>
<dt><kbd class="kbd">q</kbd></dt>
<dd><p>Exit from calendar (<code class="code">calendar-exit</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-p-d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-day-of-year"></a>
<a class="index-entry-id" id="index-calendar_002dprint_002dday_002dof_002dyear"></a>
<p>To display the number of days elapsed since the start of the year, or
the number of days remaining in the year, type the <kbd class="kbd">p d</kbd> command
(<code class="code">calendar-print-day-of-year</code>).  This displays both of those
numbers in the echo area.  The count of days elapsed includes the
selected date.  The count of days remaining does not include that
date.
</p>
<a class="index-entry-id" id="index-C_002dc-C_002dl-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dredraw"></a>
<p>If the calendar window text gets corrupted, type <kbd class="kbd">C-c C-l</kbd>
(<code class="code">calendar-redraw</code>) to redraw it.  (This can only happen if you use
non-Calendar-mode editing commands.)
</p>
<a class="index-entry-id" id="index-SPC-_0028Calendar-mode_0029"></a>
<p>In Calendar mode, you can use <kbd class="key">SPC</kbd> (<code class="code">scroll-other-window</code>)
and <kbd class="key">DEL</kbd> (<code class="code">scroll-other-window-down</code>) to scroll the other
window (if there is one) up or down, respectively.  This is handy when
you display a list of holidays or diary entries in another window.
</p>
<a class="index-entry-id" id="index-q-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-exit_002dcalendar"></a>
<a class="index-entry-id" id="index-calendar_002dremove_002dframe_002dby_002ddeleting"></a>
<p>To exit from the calendar, type <kbd class="kbd">q</kbd> (<code class="code">calendar-exit</code>).  This
buries all buffers related to the calendar, selecting other buffers.
(If a frame contains a dedicated calendar window, exiting from the
calendar deletes or iconifies that frame depending on the value of
<code class="code">calendar-remove-frame-by-deleting</code>.)
</p>
</div>
<div class="section-level-extent" id="Writing-Calendar-Files">
<h3 class="section" id="Writing-Calendar-Files-1">32.5 Writing Calendar Files</h3>

<p>You can write calendars and diary entries to HTML and LaTeX files.
</p>
<a class="index-entry-id" id="index-calendar-and-HTML"></a>
<p>The Calendar HTML commands produce files of HTML code that contain
calendar, holiday, and diary entries.  Each file applies to one month,
and has a name of the format <samp class="file"><var class="var">yyyy</var>-<var class="var">mm</var>.html</samp>, where
<var class="var">yyyy</var> and <var class="var">mm</var> are the four-digit year and two-digit month,
respectively.  The variable <code class="code">cal-html-directory</code> specifies the
default output directory for the HTML files.  To prevent holidays
from being shown, customize <code class="code">cal-html-holidays</code>.
</p>
<a class="index-entry-id" id="index-cal_002dhtml_002dcss_002ddefault"></a>
<p>Diary entries enclosed by <code class="code">&lt;</code> and <code class="code">&gt;</code> are interpreted as
HTML tags (for example: this is a diary entry with &lt;font
color=&#8221;red&#8221;&gt;some red text&lt;/font&gt;).  You can change the overall
appearance of the displayed HTML pages (for example, the color of
various page elements, header styles) via a stylesheet <samp class="file">cal.css</samp> in
the directory containing the HTML files (see the value of the variable
<code class="code">cal-html-css-default</code> for relevant style settings).
</p>
<a class="index-entry-id" id="index-H-_0028Calendar-mode_0029"></a>
<dl class="table">
<dt><kbd class="kbd">H m</kbd></dt>
<dd><p>Generate a one-month calendar (<code class="code">cal-html-cursor-month</code>).
</p></dd>
<dt><kbd class="kbd">H y</kbd></dt>
<dd><p>Generate a calendar file for each month of a year, as well as an index
page (<code class="code">cal-html-cursor-year</code>).  By default, this command writes
files to a <var class="var">yyyy</var> subdirectory&#8212;if this is altered some hyperlinks
between years will not work.
</p></dd>
</dl>

<p>If the variable <code class="code">cal-html-print-day-number-flag</code> is
non-<code class="code">nil</code>, then the monthly calendars show the day-of-the-year
number.  The variable <code class="code">cal-html-year-index-cols</code> specifies the
number of columns in the yearly index page.
</p>
<a class="index-entry-id" id="index-calendar-and-LaTeX"></a>
<p>The Calendar LaTeX commands produce a buffer of LaTeX code that
prints as a calendar.  Depending on the command you use, the printed
calendar covers the day, week, month or year that point is in.
</p>
<a class="index-entry-id" id="index-t-_0028Calendar-mode_0029"></a>
<dl class="table">
<dt><kbd class="kbd">t m</kbd></dt>
<dd><p>Generate a one-month calendar (<code class="code">cal-tex-cursor-month</code>).
</p></dd>
<dt><kbd class="kbd">t M</kbd></dt>
<dd><p>Generate a sideways-printing one-month calendar
(<code class="code">cal-tex-cursor-month-landscape</code>).
</p></dd>
<dt><kbd class="kbd">t d</kbd></dt>
<dd><p>Generate a one-day calendar
(<code class="code">cal-tex-cursor-day</code>).
</p></dd>
<dt><kbd class="kbd">t w 1</kbd></dt>
<dd><p>Generate a one-page calendar for one week, with hours
(<code class="code">cal-tex-cursor-week</code>).
</p></dd>
<dt><kbd class="kbd">t w 2</kbd></dt>
<dd><p>Generate a two-page calendar for one week, with hours
(<code class="code">cal-tex-cursor-week2</code>).
</p></dd>
<dt><kbd class="kbd">t w 3</kbd></dt>
<dd><p>Generate an ISO-style calendar for one week, without hours
(<code class="code">cal-tex-cursor-week-iso</code>).
</p></dd>
<dt><kbd class="kbd">t w 4</kbd></dt>
<dd><p>Generate a calendar for one Monday-starting week, with hours
(<code class="code">cal-tex-cursor-week-monday</code>).
</p></dd>
<dt><kbd class="kbd">t w W</kbd></dt>
<dd><p>Generate a two-page calendar for one week, without hours
(<code class="code">cal-tex-cursor-week2-summary</code>).
</p></dd>
<dt><kbd class="kbd">t f w</kbd></dt>
<dd><p>Generate a Filofax-style two-weeks-at-a-glance calendar
(<code class="code">cal-tex-cursor-filofax-2week</code>).
</p></dd>
<dt><kbd class="kbd">t f W</kbd></dt>
<dd><p>Generate a Filofax-style one-week-at-a-glance calendar
(<code class="code">cal-tex-cursor-filofax-week</code>).
</p></dd>
<dt><kbd class="kbd">t y</kbd></dt>
<dd><p>Generate a calendar for one year
(<code class="code">cal-tex-cursor-year</code>).
</p></dd>
<dt><kbd class="kbd">t Y</kbd></dt>
<dd><p>Generate a sideways-printing calendar for one year
(<code class="code">cal-tex-cursor-year-landscape</code>).
</p></dd>
<dt><kbd class="kbd">t f y</kbd></dt>
<dd><p>Generate a Filofax-style calendar for one year
(<code class="code">cal-tex-cursor-filofax-year</code>).
</p></dd>
</dl>

<p>Some of these commands print the calendar sideways (in landscape
mode), so it can be wider than it is long.  Some of them use Filofax
paper size (3.75in x 6.75in).  All of these commands accept a prefix
argument, which specifies how many days, weeks, months or years to print
(starting always with the selected one).
</p>
<p>If the variable <code class="code">cal-tex-holidays</code> is non-<code class="code">nil</code> (the default),
then the printed calendars show the holidays in <code class="code">calendar-holidays</code>.
If the variable <code class="code">cal-tex-diary</code> is non-<code class="code">nil</code> (the default is
<code class="code">nil</code>), diary entries are included also (in monthly, Filofax, and
iso-week calendars only).  If the variable <code class="code">cal-tex-rules</code> is
non-<code class="code">nil</code> (the default is <code class="code">nil</code>), the calendar displays ruled
pages in styles that have sufficient room.  Consult the documentation of
the individual cal-tex functions to see which calendars support which
features.
</p>
<p>You can use the variable <code class="code">cal-tex-preamble-extra</code> to insert extra
LaTeX commands in the preamble of the generated document if you need
to.
</p>
</div>
<div class="section-level-extent" id="Holidays">
<h3 class="section" id="Holidays-1">32.6 Holidays</h3>
<a class="index-entry-id" id="index-holidays"></a>

<p>The Emacs calendar knows about many major and minor holidays,
and can display them.  You can add your own holidays to the default list.
</p>
<dl class="table">
<dt><kbd class="kbd">mouse-3 Holidays</kbd></dt>
<dt><kbd class="kbd">h</kbd></dt>
<dd><p>Display holidays for the selected date
(<code class="code">calendar-cursor-holidays</code>).
</p></dd>
<dt><kbd class="kbd">x</kbd></dt>
<dd><p>Mark holidays in the calendar window (<code class="code">calendar-mark-holidays</code>).
</p></dd>
<dt><kbd class="kbd">u</kbd></dt>
<dd><p>Unmark calendar window (<code class="code">calendar-unmark</code>).
</p></dd>
<dt><kbd class="kbd">a</kbd></dt>
<dd><p>List all holidays for the displayed three months in another window
(<code class="code">calendar-list-holidays</code>).
</p></dd>
<dt><kbd class="kbd">M-x holidays</kbd></dt>
<dd><p>List all holidays for three months around today&#8217;s date in another
window.
</p></dd>
<dt><kbd class="kbd">M-x list-holidays</kbd></dt>
<dd><p>List holidays in another window for a specified range of years.
</p></dd>
</dl>

<a class="index-entry-id" id="index-h-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dcursor_002dholidays"></a>
<a class="index-entry-id" id="index-calendar_002dview_002dholidays_002dinitially_002dflag"></a>
<p>To see if any holidays fall on a given date, position point on that
date in the calendar window and use the <kbd class="kbd">h</kbd> command.  Alternatively,
click on that date with <kbd class="kbd">mouse-3</kbd> and then choose <kbd class="kbd">Holidays</kbd>
from the menu that appears.  Either way, this displays the holidays for
that date, in the echo area if they fit there, otherwise in a separate
window.
</p>
<a class="index-entry-id" id="index-x-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dmark_002dholidays"></a>
<a class="index-entry-id" id="index-u-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dunmark"></a>
<a class="index-entry-id" id="index-calendar_002dmark_002dholidays_002dflag"></a>
<p>To view the distribution of holidays for all the dates shown in the
calendar, use the <kbd class="kbd">x</kbd> command.  This displays the dates that are
holidays in a different face.
See <a class="xref" href="#Calendar-Customizing">calendar-holiday-marker</a>.
  The command applies both to the currently visible months and to
other months that subsequently become visible by scrolling.  To turn
marking off and erase the current marks, type <kbd class="kbd">u</kbd>, which also
erases any diary marks (see <a class="pxref" href="#Diary">The Diary</a>).  If the variable
<code class="code">calendar-mark-holidays-flag</code> is non-<code class="code">nil</code>, creating or
updating the calendar marks holidays automatically.
</p>
<a class="index-entry-id" id="index-a-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dlist_002dholidays"></a>
<p>To get even more detailed information, use the <kbd class="kbd">a</kbd> command, which
displays a separate buffer containing a list of all holidays in the
current three-month range.  You can use <kbd class="key">SPC</kbd> and <kbd class="key">DEL</kbd> in the
calendar window to scroll that list up and down, respectively.
</p>
<a class="index-entry-id" id="index-holidays-1"></a>
<p>The command <kbd class="kbd">M-x holidays</kbd> displays the list of holidays for the
current month and the preceding and succeeding months; this works even
if you don&#8217;t have a calendar window.  If the variable
<code class="code">calendar-view-holidays-initially-flag</code> is non-<code class="code">nil</code>, creating
the calendar displays holidays in this way.  If you want the list of
holidays centered around a different month, use <kbd class="kbd">C-u M-x
holidays</kbd>, which prompts for the month and year.
</p>
<p>The holidays known to Emacs include United States holidays and the
major Bahá&#8217;í, Chinese, Christian, Islamic, and Jewish
holidays; also the solstices and equinoxes.
</p>
<a class="index-entry-id" id="index-list_002dholidays"></a>
<p>The command <kbd class="kbd">M-x holiday-list</kbd> displays the list of holidays for
a range of years.  This function asks you for the starting and stopping
years, and allows you to choose all the holidays or one of several
categories of holidays.  You can use this command even if you don&#8217;t have
a calendar window.
</p>
<p>The dates used by Emacs for holidays are based on <em class="emph">current
practice</em>, not historical fact.  For example Veteran&#8217;s Day began in
1919, but is shown in earlier years.
</p>
</div>
<div class="section-level-extent" id="Sunrise_002fSunset">
<h3 class="section" id="Times-of-Sunrise-and-Sunset">32.7 Times of Sunrise and Sunset</h3>
<a class="index-entry-id" id="index-sunrise-and-sunset"></a>

<p>Special calendar commands can tell you, to within a minute or two, the
times of sunrise and sunset for any date.
</p>
<dl class="table">
<dt><kbd class="kbd">mouse-3 Sunrise/sunset</kbd></dt>
<dt><kbd class="kbd">S</kbd></dt>
<dd><p>Display times of sunrise and sunset for the selected date
(<code class="code">calendar-sunrise-sunset</code>).
</p></dd>
<dt><kbd class="kbd">M-x sunrise-sunset</kbd></dt>
<dd><p>Display times of sunrise and sunset for today&#8217;s date.
</p></dd>
<dt><kbd class="kbd">C-u M-x sunrise-sunset</kbd></dt>
<dd><p>Display times of sunrise and sunset for a specified date.
</p></dd>
<dt><kbd class="kbd">M-x calendar-sunrise-sunset-month</kbd></dt>
<dd><p>Display times of sunrise and sunset for the selected month.
</p></dd>
</dl>

<a class="index-entry-id" id="index-S-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dsunrise_002dsunset"></a>
<a class="index-entry-id" id="index-sunrise_002dsunset"></a>
<p>Within the calendar, to display the <em class="emph">local times</em> of sunrise and
sunset in the echo area, move point to the date you want, and type
<kbd class="kbd">S</kbd>.  Alternatively, click <kbd class="kbd">mouse-3</kbd> on the date, then choose
&#8216;<samp class="samp">Sunrise/sunset</samp>&#8217; from the menu that appears.  The command <kbd class="kbd">M-x
sunrise-sunset</kbd> is available outside the calendar to display this
information for today&#8217;s date or a specified date.  To specify a date
other than today, use <kbd class="kbd">C-u M-x sunrise-sunset</kbd>, which prompts for
the year, month, and day.
</p>
<p>You can display the times of sunrise and sunset for any location and
any date with <kbd class="kbd">C-u C-u M-x sunrise-sunset</kbd>.  This asks you for a
longitude, latitude, number of minutes difference from Coordinated
Universal Time, and date, and then tells you the times of sunrise and
sunset for that location on that date.
</p>
<p>Because the times of sunrise and sunset depend on the location on
earth, you need to tell Emacs your latitude, longitude, and location
name before using these commands.  Here is an example of what to set:
</p>
<a class="index-entry-id" id="index-calendar_002dlocation_002dname"></a>
<a class="index-entry-id" id="index-calendar_002dlongitude"></a>
<a class="index-entry-id" id="index-calendar_002dlatitude"></a>
<div class="example">
<pre class="example-preformatted">(setq calendar-latitude 40.1)
(setq calendar-longitude -88.2)
(setq calendar-location-name &quot;Urbana, IL&quot;)
</pre></div>

<p>Use one decimal place in the values of <code class="code">calendar-latitude</code> and
<code class="code">calendar-longitude</code>.
</p>
<p>Your time zone also affects the local time of sunrise and sunset.
Emacs usually gets time zone information from the operating system, but
if these values are not what you want (or if the operating system does
not supply them), you must set them yourself.  Here is an example:
</p>
<a class="index-entry-id" id="index-calendar_002dtime_002dzone"></a>
<a class="index-entry-id" id="index-calendar_002dstandard_002dtime_002dzone_002dname"></a>
<a class="index-entry-id" id="index-calendar_002ddaylight_002dtime_002dzone_002dname"></a>
<div class="example">
<pre class="example-preformatted">(setq calendar-time-zone -360)
(setq calendar-standard-time-zone-name &quot;CST&quot;)
(setq calendar-daylight-time-zone-name &quot;CDT&quot;)
</pre></div>

<p>The value of <code class="code">calendar-time-zone</code> is the number of minutes
difference between your local standard time and Coordinated Universal
Time (Greenwich time).  The values of
<code class="code">calendar-standard-time-zone-name</code> and
<code class="code">calendar-daylight-time-zone-name</code> are the abbreviations used in
your time zone.  Emacs displays the times of sunrise and sunset
<em class="emph">corrected for daylight saving time</em>.  See <a class="xref" href="#Daylight-Saving">Daylight Saving Time</a>,
for how daylight saving time is determined.
</p>
<a class="index-entry-id" id="index-calendar_002dtime_002dzone_002dstyle"></a>
<p>If you want to display numerical time zones (like &#8216;<samp class="samp">&quot;+0100&quot;</samp>&#8217;)
instead of symbolic ones (like &#8216;<samp class="samp">&quot;CET&quot;</samp>&#8217;), set this to <code class="code">numeric</code>.
</p>
<p>As a user, you might find it convenient to set the calendar location
variables for your usual physical location in your <samp class="file">.emacs</samp> file.
If you are a system administrator, you may want to set these variables
for all users in a <samp class="file">default.el</samp> file.  See <a class="xref" href="Customization.xhtml#Init-File">The Emacs Initialization File</a>.
</p>
</div>
<div class="section-level-extent" id="Lunar-Phases">
<h3 class="section" id="Phases-of-the-Moon">32.8 Phases of the Moon</h3>
<a class="index-entry-id" id="index-phases-of-the-moon"></a>
<a class="index-entry-id" id="index-moon_002c-phases-of"></a>

<p>These calendar commands display the dates and times of the phases of
the moon (new moon, first quarter, full moon, last quarter).  This
feature is useful for debugging problems that depend on the phase of
the moon.
</p>
<dl class="table">
<dt><kbd class="kbd">M</kbd></dt>
<dd><p>Display the dates and times for all the quarters of the moon for the
three-month period shown (<code class="code">calendar-lunar-phases</code>).
</p></dd>
<dt><kbd class="kbd">M-x lunar-phases</kbd></dt>
<dd><p>Display dates and times of the quarters of the moon for three months around
today&#8217;s date.
</p></dd>
</dl>

<a class="index-entry-id" id="index-M-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dlunar_002dphases"></a>
<p>Within the calendar, use the <kbd class="kbd">M</kbd> command to display a separate
buffer of the phases of the moon for the current three-month range.  The
dates and times listed are accurate to within a few minutes.
</p>
<a class="index-entry-id" id="index-lunar_002dphases"></a>
<p>Outside the calendar, use the command <kbd class="kbd">M-x lunar-phases</kbd> to
display the list of the phases of the moon for the current month and the
preceding and succeeding months.  For information about a different
month, use <kbd class="kbd">C-u M-x lunar-phases</kbd>, which prompts for the month and
year.
</p>
<p>The dates and times given for the phases of the moon are given in
local time (corrected for daylight saving, when appropriate).
See the discussion in the previous section.  See <a class="xref" href="#Sunrise_002fSunset">Times of Sunrise and Sunset</a>.
</p>
</div>
<div class="section-level-extent" id="Other-Calendars">
<h3 class="section" id="Conversion-To-and-From-Other-Calendars">32.9 Conversion To and From Other Calendars</h3>

<a class="index-entry-id" id="index-Gregorian-calendar"></a>
<p>The Emacs calendar displayed is <em class="emph">always</em> the Gregorian calendar,
sometimes called the New Style calendar, which is used in most of
the world today.  However, this calendar did not exist before the
sixteenth century and was not widely used before the eighteenth century;
it did not fully displace the Julian calendar and gain universal
acceptance until the early twentieth century.  The Emacs calendar can
display any month since January, year 1 of the current era, but the
calendar displayed is always the Gregorian, even for a date at which
the Gregorian calendar did not exist.
</p>
<p>While Emacs cannot display other calendars, it can convert dates to
and from several other calendars.
</p>

<div class="subsection-level-extent" id="Calendar-Systems">
<h4 class="subsection" id="Supported-Calendar-Systems">32.9.1 Supported Calendar Systems</h4>

<a class="index-entry-id" id="index-ISO-commercial-calendar"></a>
<p>The ISO commercial calendar is often used in business.
</p>
<a class="index-entry-id" id="index-Julian-calendar"></a>
<p>The Julian calendar, named after Julius Caesar, was the one used in Europe
throughout medieval times, and in many countries up until the nineteenth
century.
</p>
<a class="index-entry-id" id="index-Julian-day-numbers"></a>
<a class="index-entry-id" id="index-astronomical-day-numbers"></a>
<p>Astronomers use a simple counting of days elapsed since noon, Monday,
January 1, 4713 BC on the Julian calendar.  The number of days elapsed
is called the <em class="dfn">Julian day number</em> or the <em class="dfn">Astronomical day number</em>.
</p>
<a class="index-entry-id" id="index-Hebrew-calendar"></a>
<p>The Hebrew calendar is used by tradition in the Jewish religion.  The
Emacs calendar program uses the Hebrew calendar to determine the dates
of Jewish holidays.  Hebrew calendar dates begin and end at sunset.
</p>
<a class="index-entry-id" id="index-Islamic-calendar"></a>
<p>The Islamic calendar is used in many predominantly Islamic countries.
Emacs uses it to determine the dates of Islamic holidays.  There is no
universal agreement in the Islamic world about the calendar; Emacs uses
a widely accepted version, but the precise dates of Islamic holidays
often depend on proclamation by religious authorities, not on
calculations.  As a consequence, the actual dates of observance can vary
slightly from the dates computed by Emacs.  Islamic calendar dates begin
and end at sunset.
</p>
<a class="index-entry-id" id="index-French-Revolutionary-calendar"></a>
<p>The French Revolutionary calendar was created by the Jacobins after the 1789
revolution, to represent a more secular and nature-based view of the annual
cycle, and to install a 10-day week in a rationalization measure similar to
the metric system.  The French government officially abandoned this
calendar at the end of 1805.
</p>
<a class="index-entry-id" id="index-Mayan-calendars"></a>
<p>The Maya of Central America used three separate, overlapping calendar
systems, the <em class="emph">long count</em>, the <em class="emph">tzolkin</em>, and the <em class="emph">haab</em>.
Emacs knows about all three of these calendars.  Experts dispute the
exact correlation between the Mayan calendar and our calendar; Emacs uses the
Goodman-Martinez-Thompson correlation in its calculations.
</p>
<a class="index-entry-id" id="index-Coptic-calendar"></a>
<a class="index-entry-id" id="index-Ethiopic-calendar"></a>
<p>The Copts use a calendar based on the ancient Egyptian solar calendar.
Their calendar consists of twelve 30-day months followed by an extra
five-day period.  Once every fourth year they add a leap day to this
extra period to make it six days.  The Ethiopic calendar is identical in
structure, but has different year numbers and month names.
</p>
<a class="index-entry-id" id="index-Persian-calendar"></a>
<p>The Persians use a solar calendar based on a design of Omar Khayyam.
Their calendar consists of twelve months of which the first six have 31
days, the next five have 30 days, and the last has 29 in ordinary years
and 30 in leap years.  Leap years occur in a complicated pattern every
four or five years.
The calendar implemented here is the arithmetical Persian calendar
championed by Birashk, based on a 2,820-year cycle.  It differs from
the astronomical Persian calendar, which is based on astronomical
events.  As of this writing the first future discrepancy is projected
to occur on March 20, 2025.  It is currently not clear what the
official calendar of Iran will be at that time.
</p>
<a class="index-entry-id" id="index-Chinese-calendar"></a>
<p>The Chinese calendar is a complicated system of lunar months arranged
into solar years.  The years go in cycles of sixty, each year containing
either twelve months in an ordinary year or thirteen months in a leap
year; each month has either 29 or 30 days.  Years, ordinary months, and
days are named by combining one of ten <em class="dfn">celestial stems</em> with one of
twelve <em class="dfn">terrestrial branches</em> for a total of sixty names that are
repeated in a cycle of sixty.
</p>
<a class="index-entry-id" id="index-Baha_0027i-calendar"></a>
<p>The Bahá&#8217;í calendar system is based on a solar cycle of 19 months with
19 days each.  The four remaining intercalary days are placed
between the 18th and 19th months.
</p>
</div>
<div class="subsection-level-extent" id="To-Other-Calendar">
<h4 class="subsection" id="Converting-To-Other-Calendars">32.9.2 Converting To Other Calendars</h4>

<p>The following commands describe the selected date (the date at point)
in various other calendar systems:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-calendar_002dprint_002dother_002ddates"></a>
<a id="index-p-_0028Calendar-mode_0029"></a><kbd class="kbd">mouse-3  Other calendars</kbd></dt>
<dt><kbd class="kbd">p o</kbd></dt>
<dd><p>Display the selected date in various other calendars.
(<code class="code">calendar-print-other-dates</code>).
<a class="index-entry-id" id="index-calendar_002diso_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p c</kbd></dt>
<dd><p>Display ISO commercial calendar equivalent for selected day
(<code class="code">calendar-iso-print-date</code>).
<a class="index-entry-id" id="index-calendar_002djulian_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p j</kbd></dt>
<dd><p>Display Julian date for selected day (<code class="code">calendar-julian-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dastro_002dprint_002dday_002dnumber"></a>
</p></dd>
<dt><kbd class="kbd">p a</kbd></dt>
<dd><p>Display astronomical (Julian) day number for selected day
(<code class="code">calendar-astro-print-day-number</code>).
<a class="index-entry-id" id="index-calendar_002dhebrew_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p h</kbd></dt>
<dd><p>Display Hebrew date for selected day (<code class="code">calendar-hebrew-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dislamic_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p i</kbd></dt>
<dd><p>Display Islamic date for selected day (<code class="code">calendar-islamic-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dfrench_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p f</kbd></dt>
<dd><p>Display French Revolutionary date for selected day
(<code class="code">calendar-french-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dbahai_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p b</kbd></dt>
<dd><p>Display Bahá&#8217;í date for selected day
(<code class="code">calendar-bahai-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dchinese_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p C</kbd></dt>
<dd><p>Display Chinese date for selected day
(<code class="code">calendar-chinese-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dcoptic_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p k</kbd></dt>
<dd><p>Display Coptic date for selected day
(<code class="code">calendar-coptic-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dethiopic_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p e</kbd></dt>
<dd><p>Display Ethiopic date for selected day
(<code class="code">calendar-ethiopic-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dpersian_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p p</kbd></dt>
<dd><p>Display Persian date for selected day
(<code class="code">calendar-persian-print-date</code>).
<a class="index-entry-id" id="index-calendar_002dmayan_002dprint_002ddate"></a>
</p></dd>
<dt><kbd class="kbd">p m</kbd></dt>
<dd><p>Display Mayan date for selected day (<code class="code">calendar-mayan-print-date</code>).
</p></dd>
</dl>

<p>Otherwise, move point to the date you want to convert, then type the
appropriate command starting with <kbd class="kbd">p</kbd> from the table above.  The
prefix <kbd class="kbd">p</kbd> is a mnemonic for &#8220;print&#8221;, since Emacs &#8220;prints&#8221; the
equivalent date in the echo area.  <kbd class="kbd">p o</kbd> displays the
date in all forms known to Emacs.  You can also use <kbd class="kbd">mouse-3</kbd> and
then choose <kbd class="kbd">Other calendars</kbd> from the menu that appears.  This
displays the equivalent forms of the date in all the calendars Emacs
understands, in the form of a menu.  (Choosing an alternative from
this menu doesn&#8217;t actually do anything&#8212;the menu is used only for
display.)
</p>
</div>
<div class="subsection-level-extent" id="From-Other-Calendar">
<h4 class="subsection" id="Converting-From-Other-Calendars">32.9.3 Converting From Other Calendars</h4>

<p>You can use the other supported calendars to specify a date to move
to.  This section describes the commands for doing this using calendars
other than Mayan; for the Mayan calendar, see the following section.
</p>
<a class="index-entry-id" id="index-g-char-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002diso_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002djulian_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dastro_002dgoto_002dday_002dnumber"></a>
<a class="index-entry-id" id="index-calendar_002dbahai_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dhebrew_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dislamic_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dfrench_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dchinese_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dpersian_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dcoptic_002dgoto_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dethiopic_002dgoto_002ddate"></a>
<dl class="table">
<dt><kbd class="kbd">g c</kbd></dt>
<dd><p>Move to a date specified in the ISO commercial calendar
(<code class="code">calendar-iso-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g w</kbd></dt>
<dd><p>Move to a week specified in the ISO commercial calendar
(<code class="code">calendar-iso-goto-week</code>).
</p></dd>
<dt><kbd class="kbd">g j</kbd></dt>
<dd><p>Move to a date specified in the Julian calendar
(<code class="code">calendar-julian-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g a</kbd></dt>
<dd><p>Move to a date specified with an astronomical (Julian) day number
(<code class="code">calendar-astro-goto-day-number</code>).
</p></dd>
<dt><kbd class="kbd">g b</kbd></dt>
<dd><p>Move to a date specified in the Bahá&#8217;í calendar
(<code class="code">calendar-bahai-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g h</kbd></dt>
<dd><p>Move to a date specified in the Hebrew calendar
(<code class="code">calendar-hebrew-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g i</kbd></dt>
<dd><p>Move to a date specified in the Islamic calendar
(<code class="code">calendar-islamic-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g f</kbd></dt>
<dd><p>Move to a date specified in the French Revolutionary calendar
(<code class="code">calendar-french-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g C</kbd></dt>
<dd><p>Move to a date specified in the Chinese calendar
(<code class="code">calendar-chinese-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g p</kbd></dt>
<dd><p>Move to a date specified in the Persian calendar
(<code class="code">calendar-persian-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g k</kbd></dt>
<dd><p>Move to a date specified in the Coptic calendar
(<code class="code">calendar-coptic-goto-date</code>).
</p></dd>
<dt><kbd class="kbd">g e</kbd></dt>
<dd><p>Move to a date specified in the Ethiopic calendar
(<code class="code">calendar-ethiopic-goto-date</code>).
</p></dd>
</dl>

<p>These commands ask you for a date on the other calendar, move point
to the Gregorian calendar date equivalent to that date, and display
the other calendar&#8217;s date in the echo area.  Emacs uses strict
completion (see <a class="pxref" href="Minibuffer.xhtml#Completion-Exit">Completion Exit</a>) whenever it asks you to type a
month name, so you don&#8217;t have to worry about the spelling of Hebrew,
Islamic, or French names.
</p>
<a class="index-entry-id" id="index-calendar_002dhebrew_002dlist_002dyahrzeits"></a>
<a class="index-entry-id" id="index-yahrzeits"></a>
<p>One common issue concerning the Hebrew calendar is the computation
of the anniversary of a date of death, called a <em class="dfn">yahrzeit</em>.  The Emacs
calendar includes a facility for such calculations.  If you are in the
calendar, the command <kbd class="kbd">M-x calendar-hebrew-list-yahrzeits</kbd> asks you for
a range of years and then displays a list of the yahrzeit dates for those
years for the date given by point.  If you are not in the calendar,
this command first asks you for the date of death and the range of
years, and then displays the list of yahrzeit dates.
</p>
</div>
</div>
<div class="section-level-extent" id="Diary">
<h3 class="section" id="The-Diary">32.10 The Diary</h3>
<a class="index-entry-id" id="index-diary"></a>

<p>The Emacs diary keeps track of appointments or other events on a daily
basis, in conjunction with the calendar.  To use the diary feature, you
must first create a diary file containing a list of events and
their dates.  Then Emacs can automatically pick out and display the
events for today, for the immediate future, or for any specified
date.
</p>
<p>Although you probably will start by creating a diary manually, Emacs
provides a number of commands to let you view, add, and change diary
entries.
</p>

<div class="subsection-level-extent" id="Format-of-Diary-File">
<h4 class="subsection" id="The-Diary-File">32.10.1 The Diary File</h4>
<a class="index-entry-id" id="index-diary-file"></a>

<a class="index-entry-id" id="index-diary_002dfile"></a>
<p>Your <em class="dfn">diary file</em> is a file that records events associated with
particular dates.  The name of the diary file is specified by the
variable <code class="code">diary-file</code>.  The default is <samp class="file">~/.emacs.d/diary</samp>,
though for compatibility with older versions Emacs will use
<samp class="file">~/diary</samp> if it exists.
</p>
<p>Each entry in the diary file describes one event and consists of one
or more lines.  An entry always begins with a date specification at the
left margin.  The rest of the entry is simply text to describe the
event.  If the entry has more than one line, then the lines after the
first must begin with whitespace to indicate they continue a previous
entry.  Lines that do not begin with valid dates and do not continue a
preceding entry are ignored.  Here&#8217;s an example:
</p>
<div class="example">
<pre class="example-preformatted">12/22/2015  Twentieth wedding anniversary!
10/22       Ruth's birthday.
* 21, *:    Payday
Tuesday--weekly meeting with grad students at 10am
         Supowit, Shen, Bitner, and Kapoor to attend.
1/13/89     Friday the thirteenth!!
thu 4pm     squash game with Lloyd.
mar 16      Dad's birthday
April 15, 2016 Income tax due.
* 15        time cards due.
</pre></div>

<p>This example uses extra spaces to align the event descriptions of most
of the entries.  Such formatting is purely a matter of taste.
</p>
<p>You can also use a format where the first line of a diary entry
consists only of the date or day name (with no following blanks or
punctuation).  For example:
</p>
<div class="example">
<pre class="example-preformatted">02/11/2012
      Bill B. visits Princeton today
      2pm Cognitive Studies Committee meeting
      2:30-5:30 Liz at Lawrenceville
      4:00pm Dentist appt
      7:30pm Dinner at George's
      8:00-10:00pm concert
</pre></div>

<p>This entry will have a different appearance if you use the simple diary
display
(see <a class="pxref" href="#Diary-Display">Diary Display</a>).
The simple diary display omits the date line at the beginning; only the
continuation lines appear.  This style of entry looks neater when you
display just a single day&#8217;s entries, but can cause confusion if you ask
for more than one day&#8217;s entries.
</p>
</div>
<div class="subsection-level-extent" id="Displaying-the-Diary">
<h4 class="subsection" id="Displaying-the-Diary-1">32.10.2 Displaying the Diary</h4>

<p>Once you have created a diary file, you can use the calendar to view
it.  You can also view today&#8217;s events outside of Calendar mode.  In the
following, key bindings refer to the Calendar buffer.
</p>
<dl class="table">
<dt><kbd class="kbd">mouse-3 Diary</kbd></dt>
<dt><kbd class="kbd">d</kbd></dt>
<dd><p>Display all diary entries for the selected date
(<code class="code">diary-view-entries</code>).
</p></dd>
<dt><kbd class="kbd">s</kbd></dt>
<dd><p>Display the entire diary file (<code class="code">diary-show-all-entries</code>).
</p></dd>
<dt><kbd class="kbd">m</kbd></dt>
<dd><p>Mark all visible dates that have diary entries
(<code class="code">diary-mark-entries</code>).
</p></dd>
<dt><kbd class="kbd">u</kbd></dt>
<dd><p>Unmark the calendar window (<code class="code">calendar-unmark</code>).
</p></dd>
<dt><kbd class="kbd">M-x diary-print-entries</kbd></dt>
<dd><p>Print hard copy of the diary display as it appears.
</p></dd>
<dt><kbd class="kbd">M-x diary</kbd></dt>
<dd><p>Display all diary entries for today&#8217;s date.
</p></dd>
<dt><kbd class="kbd">M-x diary-mail-entries</kbd></dt>
<dd><p>Mail yourself email reminders about upcoming diary entries.
</p></dd>
</dl>

<a class="index-entry-id" id="index-d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dview_002dentries"></a>
<a class="index-entry-id" id="index-calendar_002dview_002ddiary_002dinitially_002dflag"></a>
<p>Displaying the diary entries with <kbd class="kbd">d</kbd> shows in a separate buffer
the diary entries for the selected date in the calendar.  The mode line
of the new buffer shows the date of the diary entries.  Holidays are
shown either in the buffer or in the mode line, depending on the display
method you choose
(see <a class="pxref" href="#Diary-Display">Diary Display</a>).
If you specify a numeric argument with <kbd class="kbd">d</kbd>, it shows all the diary
entries for that many successive days.  Thus, <kbd class="kbd">2 d</kbd> displays all the
entries for the selected date and for the following day.
</p>
<p>Another way to display the diary entries for a date is to click
<kbd class="kbd">mouse-3</kbd> on the date, and then choose <kbd class="kbd">Diary entries</kbd> from
the menu that appears.  If the variable
<code class="code">calendar-view-diary-initially-flag</code> is non-<code class="code">nil</code>, creating the
calendar lists the diary entries for the current date (provided the
current date is visible).
</p>
<a class="index-entry-id" id="index-m-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dmark_002dentries"></a>
<a class="index-entry-id" id="index-calendar_002dmark_002ddiary_002dentries_002dflag"></a>
<p>To get a broader view of which days are mentioned in the diary, use
the <kbd class="kbd">m</kbd> command.  This marks the dates that have diary entries in
a different face.
See <a class="xref" href="#Calendar-Customizing">diary-entry-marker</a>.
</p>
<p>This command applies both to the months that are currently visible
and to those that subsequently become visible after scrolling.  To turn
marking off and erase the current marks, type <kbd class="kbd">u</kbd>, which also
turns off holiday marks (see <a class="pxref" href="#Holidays">Holidays</a>).  If the variable
<code class="code">calendar-mark-diary-entries-flag</code> is non-<code class="code">nil</code>, creating or
updating the calendar marks diary dates automatically.
</p>
<a class="index-entry-id" id="index-diary_002dnonmarking_002dsymbol"></a>
<p>To prevent an individual diary entry from being marked in the
calendar, insert the string that <code class="code">diary-nonmarking-symbol</code>
specifies (the default is &#8216;<samp class="samp">&amp;</samp>&#8217;) at the beginning of the entry,
before the date.  This has no effect on display of the entry in the
diary buffer; it only affects marks on dates in the calendar.
Nonmarking entries can be useful for generic entries that would
otherwise mark many different dates.
</p>
<a class="index-entry-id" id="index-s-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dshow_002dall_002dentries"></a>
<p>To see the full diary file, rather than just some of the entries, use
the <kbd class="kbd">s</kbd> command.
</p>
<a class="index-entry-id" id="index-diary-1"></a>
<p>The command <kbd class="kbd">M-x diary</kbd> displays the diary entries for the current
date, independently of the calendar display, and optionally for the next
few days as well; the variable <code class="code">diary-number-of-entries</code> specifies
how many days to include.
See <a class="xref" href="#Diary-Customizing">diary-number-of-entries</a>.
</p>
<p>If you put <code class="code">(diary)</code> in your <samp class="file">.emacs</samp> file, this
automatically displays a window with the day&#8217;s diary entries when you
start Emacs.
</p>
<a class="index-entry-id" id="index-diary_002dmail_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dmail_002ddays"></a>
<p>Some people like to receive email notifications of events in their
diary.  To send such mail to yourself, use the command <kbd class="kbd">M-x
diary-mail-entries</kbd>.  A prefix argument specifies how many days
(starting with today) to check; otherwise, the variable
<code class="code">diary-mail-days</code> says how many days.
</p>
</div>
<div class="subsection-level-extent" id="Date-Formats">
<h4 class="subsection" id="Date-Formats-1">32.10.3 Date Formats</h4>

<p>Here are some sample diary entries, illustrating different ways of
formatting a date.  The examples all show dates in American order
(month, day, year), but Calendar mode supports European order (day,
month, year) and ISO order (year, month, day) as options.
</p>
<div class="example">
<pre class="example-preformatted">4/20/12  Switch-over to new tabulation system
apr. 25  Start tabulating annual results
4/30  Results for April are due
*/25  Monthly cycle finishes
Friday  Don't leave without backing up files
</pre></div>

<p>The first entry appears only once, on April 20, 2012.  The second and
third appear every year on the specified dates, and the fourth uses a
wildcard (asterisk) for the month, so it appears on the 25th of every
month.  The final entry appears every week on Friday.
</p>
<p>You can use just numbers to express a date, as in
&#8216;<samp class="samp"><var class="var">month</var>/<var class="var">day</var></samp>&#8217; or &#8216;<samp class="samp"><var class="var">month</var>/<var class="var">day</var>/<var class="var">year</var></samp>&#8217;.
This must be followed by a nondigit.  In the date itself, <var class="var">month</var>
and <var class="var">day</var> are numbers of one or two digits.  The optional <var class="var">year</var>
is also a number, and may be abbreviated to the last two digits; that
is, you can use &#8216;<samp class="samp">11/12/2012</samp>&#8217; or &#8216;<samp class="samp">11/12/12</samp>&#8217;.
</p>
<p>Dates can also have the form &#8216;<samp class="samp"><var class="var">monthname</var> <var class="var">day</var></samp>&#8217; or
&#8216;<samp class="samp"><var class="var">monthname</var> <var class="var">day</var>, <var class="var">year</var></samp>&#8217;, where the month&#8217;s name can
be spelled in full or abbreviated (with or without a period).  The
preferred abbreviations for month and day names can be set using
the variables <code class="code">calendar-abbrev-length</code>,
<code class="code">calendar-month-abbrev-array</code>, and
<code class="code">calendar-day-abbrev-array</code>.  The default is to use the first three
letters of a name as its abbreviation.  Case is not significant.
</p>
<p>A date may be <em class="dfn">generic</em>; that is, partially unspecified.  Then the
entry applies to all dates that match the specification.  If the date
does not contain a year, it is generic and applies to any year.
Alternatively, <var class="var">month</var>, <var class="var">day</var>, or <var class="var">year</var> can be &#8216;<samp class="samp">*</samp>&#8217;;
this matches any month, day, or year, respectively.  Thus, a diary entry
&#8216;<samp class="samp">3/*/*</samp>&#8217; matches any day in March of any year; so does &#8216;<samp class="samp">march
*</samp>&#8217;.
</p>
<a class="index-entry-id" id="index-calendar_002ddate_002dstyle"></a>
<a class="index-entry-id" id="index-calendar_002dset_002ddate_002dstyle"></a>
<p>If you prefer the European style of writing dates (in which the day
comes before the month), or the ISO style (in which the order is year,
month, day), type <kbd class="kbd">M-x calendar-set-date-style</kbd> while in the
calendar, or customize the variable <code class="code">calendar-date-style</code>.  This
affects how diary dates are interpreted, date display, and the order in
which some commands expect their arguments to be given.
</p>
<p>You can use the name of a day of the week as a generic date which
applies to any date falling on that day of the week.  You can abbreviate
the day of the week as described above, or spell it in full; case is not
significant.
</p>
</div>
<div class="subsection-level-extent" id="Adding-to-Diary">
<h4 class="subsection" id="Commands-to-Add-to-the-Diary">32.10.4 Commands to Add to the Diary</h4>

<p>While in the calendar, there are several commands to create diary
entries.  The basic commands are listed here; more sophisticated
commands are in the next section (see <a class="pxref" href="#Special-Diary-Entries">Special Diary Entries</a>).
Entries can also be based on non-Gregorian calendars.
See <a class="xref" href="#Non_002dGregorian-Diary">Diary Entries Using non-Gregorian Calendars</a>.
</p>
<dl class="table">
<dt><kbd class="kbd">i d</kbd></dt>
<dd><p>Add a diary entry for the selected date (<code class="code">diary-insert-entry</code>).
</p></dd>
<dt><kbd class="kbd">i w</kbd></dt>
<dd><p>Add a diary entry for the selected day of the week (<code class="code">diary-insert-weekly-entry</code>).
</p></dd>
<dt><kbd class="kbd">i m</kbd></dt>
<dd><p>Add a diary entry for the selected day of the month (<code class="code">diary-insert-monthly-entry</code>).
</p></dd>
<dt><kbd class="kbd">i y</kbd></dt>
<dd><p>Add a diary entry for the selected day of the year (<code class="code">diary-insert-yearly-entry</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-i-d-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dentry"></a>
<p>You can make a diary entry for a specific date by selecting that date
in the calendar window and typing the <kbd class="kbd">i d</kbd> command.  This command
displays the end of your diary file in another window and inserts the
date; you can then type the rest of the diary entry.
</p>
<a class="index-entry-id" id="index-i-w-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dweekly_002dentry"></a>
<a class="index-entry-id" id="index-i-m-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dmonthly_002dentry"></a>
<a class="index-entry-id" id="index-i-y-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dyearly_002dentry"></a>
<p>If you want to make a diary entry that applies to a specific day of
the week, select that day of the week (any occurrence will do) and type
<kbd class="kbd">i w</kbd>.  This inserts the day-of-week as a generic date; you can then
type the rest of the diary entry.  You can make a monthly diary entry in
the same fashion: select the day of the month, use the <kbd class="kbd">i m</kbd>
command, and type the rest of the entry.  Similarly, you can insert a
yearly diary entry with the <kbd class="kbd">i y</kbd> command.
</p>
<p>All of the above commands make marking diary entries by default.  To
make a nonmarking diary entry, give a prefix argument to the command.
For example, <kbd class="kbd">C-u i w</kbd> makes a nonmarking weekly diary entry.
</p>
<p>When you modify the diary file, be sure to save the file before
exiting Emacs.  Saving the diary file after using any of the above
insertion commands will automatically update the diary marks in the
calendar window, if appropriate.  You can use the command
<code class="code">calendar-redraw</code> to force an update at any time.
</p>
</div>
<div class="subsection-level-extent" id="Special-Diary-Entries">
<h4 class="subsection" id="Special-Diary-Entries-1">32.10.5 Special Diary Entries</h4>

<p>In addition to entries based on calendar dates, the diary file can
contain <em class="dfn">sexp entries</em> for regular events such as anniversaries.
These entries are based on Lisp expressions (sexps) that Emacs evaluates
as it scans the diary file.  Instead of a date, a sexp entry contains
&#8216;<samp class="samp">%%</samp>&#8217; followed by a Lisp expression which must begin and end with
parentheses.  The Lisp expression determines which dates the entry
applies to.
</p>
<p>Calendar mode provides commands to insert certain commonly used
sexp entries:
</p>
<dl class="table">
<dt><kbd class="kbd">i a</kbd></dt>
<dd><p>Add an anniversary diary entry for the selected date
(<code class="code">diary-insert-anniversary-entry</code>).
</p></dd>
<dt><kbd class="kbd">i b</kbd></dt>
<dd><p>Add a block diary entry for the current region
(<code class="code">diary-insert-block-entry</code>).
</p></dd>
<dt><kbd class="kbd">i c</kbd></dt>
<dd><p>Add a cyclic diary entry starting at the date
(<code class="code">diary-insert-cyclic-entry</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-i-a-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002danniversary_002dentry"></a>
<p>If you want to make a diary entry that applies to the anniversary of a
specific date, move point to that date and use the <kbd class="kbd">i a</kbd> command.
This displays the end of your diary file in another window and inserts
the anniversary description; you can then type the rest of the diary
entry.  The entry looks like this:
</p>
<a class="index-entry-id" id="index-diary_002danniversary"></a>
<div class="example">
<pre class="example-preformatted">%%(diary-anniversary 10 31 1988) Arthur's birthday
</pre></div>

<p>This entry applies to October 31 in any year after 1988; &#8216;<samp class="samp">10 31
1988</samp>&#8217; specifies the date.  (If you are using the European or ISO
calendar style, the input order of month, day and year is different.)
The reason this expression requires a beginning year is that advanced
diary functions can use it to calculate the number of elapsed years.
</p>
<p>A <em class="dfn">block</em> diary entry applies to a specified range of consecutive
dates.  Here is a block diary entry that applies to all dates from June
24, 2012 through July 10, 2012:
</p>
<a class="index-entry-id" id="index-diary_002dblock"></a>
<div class="example">
<pre class="example-preformatted">%%(diary-block 6 24 2012 7 10 2012) Vacation
</pre></div>

<p>The &#8216;<samp class="samp">6 24 2012</samp>&#8217; indicates the starting date and the &#8216;<samp class="samp">7 10 2012</samp>&#8217;
indicates the stopping date.  (Again, if you are using the European or ISO
calendar style, the input order of month, day and year is different.)
</p>
<a class="index-entry-id" id="index-i-b-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dblock_002dentry"></a>
<p>To insert a block entry, place point and the mark on the two
dates that begin and end the range, and type <kbd class="kbd">i b</kbd>.  This command
displays the end of your diary file in another window and inserts the
block description; you can then type the diary entry.
</p>
<a class="index-entry-id" id="index-i-c-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-diary_002dinsert_002dcyclic_002dentry"></a>
<p><em class="dfn">Cyclic</em> diary entries repeat after a fixed interval of days.  To
create one, select the starting date and use the <kbd class="kbd">i c</kbd> command.  The
command prompts for the length of interval, then inserts the entry,
which looks like this:
</p>
<a class="index-entry-id" id="index-diary_002dcyclic"></a>
<div class="example">
<pre class="example-preformatted">%%(diary-cyclic 50 3 1 2012) Renew medication
</pre></div>

<p>This entry applies to March 1, 2012 and every 50th day following;
&#8216;<samp class="samp">3 1 2012</samp>&#8217; specifies the starting date.  (If you are using the
European or ISO calendar style, the input order of month, day and year
is different.)
</p>
<p>All three of these commands make marking diary entries.  To insert a
nonmarking entry, give a prefix argument to the command.  For example,
<kbd class="kbd">C-u i a</kbd> makes a nonmarking anniversary diary entry.
</p>
<p>Marking sexp diary entries in the calendar can be time-consuming,
since every date visible in the calendar window must be individually
checked.  So it&#8217;s a good idea to make sexp diary entries nonmarking
(with &#8216;<samp class="samp">&amp;</samp>&#8217;) when possible.
</p>
<p>Another sophisticated kind of sexp entry, a <em class="dfn">floating</em> diary entry,
specifies a regularly occurring event by offsets specified in days,
weeks, and months.  It is comparable to a crontab entry interpreted by
the <code class="code">cron</code> utility.  Here is a nonmarking, floating diary entry
that applies to the fourth Thursday in November:
</p>
<a class="index-entry-id" id="index-diary_002dfloat"></a>
<div class="example">
<pre class="example-preformatted">&amp;%%(diary-float 11 4 4) American Thanksgiving
</pre></div>

<p>The 11 specifies November (the eleventh month), the 4 specifies Thursday
(the fourth day of the week, where Sunday is numbered zero), and the
second 4 specifies the fourth Thursday (1 would mean &#8220;first&#8221;, 2 would
mean &#8220;second&#8221;, &#8722;2 would mean &#8220;second-to-last&#8221;, and so on).
The month can be a single month or a list of months.  Thus you could change
the 11 above to &#8216;<samp class="samp">'(1 2 3)</samp>&#8217; and have the entry apply to the last
Thursday of January, February, and March.  If the month is <code class="code">t</code>, the
entry applies to all months of the year.
</p>
<a class="index-entry-id" id="index-diary_002doffset"></a>
<div class="example">
<pre class="example-preformatted">%%(diary-offset '(diary-float t 3 4) 2) Monthly committee meeting
</pre></div>

<p>This entry applies to the Saturday after the third Thursday of each
month.  The 2 specifies number of days after when the sexp
<code class="code">'(diary-float&#160;t&#160;3&#160;4)</code><!-- /@w --> would evaluate to <code class="code">t</code>.  This is
useful when for example your organization has a committee meeting two
days after every monthly meeting which takes place on the third
Thursday, or if you would like to attend a virtual meeting scheduled
in a different timezone causing a difference in the date.
</p>
<p>Each of the standard sexp diary entries takes an optional parameter
specifying the name of a face or a single-character string to use when
marking the entry in the calendar.  Most generally, sexp diary entries
can perform arbitrary computations to determine when they apply.
See <a class="xref" href="#Sexp-Diary-Entries">Sexp Entries and the Fancy Diary Display</a>.
</p>
</div>
<div class="subsection-level-extent" id="Appointments">
<h4 class="subsection" id="Appointments-1">32.10.6 Appointments</h4>
<a class="index-entry-id" id="index-appointment-notification"></a>

<a class="index-entry-id" id="index-appt_002ddisplay_002dformat"></a>
<a class="index-entry-id" id="index-appt_002daudible"></a>
<a class="index-entry-id" id="index-appt_002ddisplay_002dmode_002dline"></a>
<p>If you have a diary entry for an appointment, and that diary entry
begins with a recognizable time of day, Emacs can warn you in advance
that an appointment is pending.  Emacs alerts you
to the appointment by displaying a message in your chosen format, as
specified by the variable <code class="code">appt-display-format</code>.  If the value of
<code class="code">appt-audible</code> is non-<code class="code">nil</code>, the warning includes an audible
reminder.  In addition, if <code class="code">appt-display-mode-line</code> is
non-<code class="code">nil</code>, Emacs displays the number of minutes to the
appointment on the mode line.
</p>
<a class="index-entry-id" id="index-appt_002ddisplay_002dduration"></a>
<a class="index-entry-id" id="index-appt_002ddisp_002dwindow_002dfunction"></a>
<a class="index-entry-id" id="index-appt_002ddelete_002dwindow_002dfunction"></a>
<p>If <code class="code">appt-display-format</code> has the value <code class="code">window</code>, then the
variable <code class="code">appt-display-duration</code> controls how long the reminder
window is visible for; and the variables
<code class="code">appt-disp-window-function</code> and <code class="code">appt-delete-window-function</code>
give the names of functions used to create and destroy the window,
respectively.
</p>
<a class="index-entry-id" id="index-appt_002dactivate"></a>
<p>To enable appointment notification, type <kbd class="kbd">M-x appt-activate</kbd>.
With a positive argument, it enables notification; with a negative
argument, it disables notification; with no argument, it toggles.
Enabling notification also sets up an appointment list for today from
the diary file, giving all diary entries found with recognizable times
of day, and reminds you just before each of them.
</p>
<p>For example, suppose the diary file contains these lines:
</p>
<div class="example">
<pre class="example-preformatted">Monday
  9:30am Coffee break
 12:00pm Lunch
</pre></div>

<a class="index-entry-id" id="index-appt_002dmessage_002dwarning_002dtime"></a>
<a class="index-entry-id" id="index-appt_002dwarning_002dtime_002dregexp"></a>
<p>Then on Mondays, you will be reminded at around 9:20am about your
coffee break and at around 11:50am about lunch.  The variable
<code class="code">appt-message-warning-time</code> specifies how many minutes (default 12)
in advance to warn you.  This is a default warning time.  Each
appointment can specify a different warning time by adding a piece
matching <code class="code">appt-warning-time-regexp</code> (see that variable&#8217;s
documentation for details).
</p>
<p>You can write times in am/pm style (with &#8216;<samp class="samp">12:00am</samp>&#8217; standing
for midnight and &#8216;<samp class="samp">12:00pm</samp>&#8217; standing for noon), or 24-hour
European/military style.  You need not be consistent; your diary file
can have a mixture of the two styles.  Times must be at the beginning of
diary entries if they are to be recognized.
</p>
<a class="index-entry-id" id="index-appt_002ddisplay_002ddiary"></a>
<p>Emacs updates the appointments list from the diary file
automatically just after midnight.  You can force an update at any
time by re-enabling appointment notification.  Both these actions also
display the day&#8217;s diary buffer, unless you set
<code class="code">appt-display-diary</code> to <code class="code">nil</code>.  The appointments list is
also updated whenever the diary file (or a file it includes; see
<a class="ref" href="#Fancy-Diary-Display">Fancy Diary Display</a>)
is saved.  If you use the Org Mode and keep appointments in your Org
agenda files, you can add those appointments to the list using the
<code class="code">org-agenda-to-appt</code> command.  See <a href="https://www.gnu.org/software/emacs/manual/html_node/org/Weekly_002fdaily-agenda.html#Weekly_002fdaily-agenda">Appointment reminders</a> in <cite class="cite">The Org Manual</cite>, for more about that
command.
</p>
<a class="index-entry-id" id="index-appt_002dadd"></a>
<a class="index-entry-id" id="index-appt_002ddelete"></a>
<a class="index-entry-id" id="index-alarm-clock"></a>
<p>You can also use the appointment notification facility like an alarm
clock.  The command <kbd class="kbd">M-x appt-add</kbd> adds entries to the appointment
list without affecting your diary file.  You delete entries from the
appointment list with <kbd class="kbd">M-x appt-delete</kbd>.
</p>
</div>
<div class="subsection-level-extent" id="Importing-Diary">
<h4 class="subsection" id="Importing-and-Exporting-Diary-Entries">32.10.7 Importing and Exporting Diary Entries</h4>

<p>You can transfer diary entries between Emacs diary files and a
variety of other formats.
</p>
<a class="index-entry-id" id="index-diary_002doutlook_002dformats"></a>
<p>You can import diary entries from Outlook-generated appointment
messages.  While viewing such a message in Rmail or Gnus, do <kbd class="kbd">M-x
diary-from-outlook</kbd> to import the entry.  You can make this command
recognize additional appointment message formats by customizing the
variable <code class="code">diary-outlook-formats</code>.  Other mail clients can set
<code class="code">diary-from-outlook-function</code> to an appropriate value.
</p>
<a class="index-entry-id" id="index-iCalendar-support"></a>
<p>The icalendar package allows you to transfer data between your Emacs
diary file and iCalendar files, which are defined in <cite class="cite">RFC
2445&#8212;Internet Calendaring and Scheduling Core Object Specification
(iCalendar)</cite> (as well as the earlier vCalendar format).
</p>

<a class="index-entry-id" id="index-icalendar_002dimport_002dbuffer"></a>
<p>The command <code class="code">icalendar-import-buffer</code> extracts
iCalendar data from the current buffer and adds it to your
diary file.  This function is also suitable for automatic extraction of
iCalendar data; for example with the Rmail mail client one could use:
</p>
<div class="example">
<pre class="example-preformatted">(add-hook 'rmail-show-message-hook 'icalendar-import-buffer)
</pre></div>

<a class="index-entry-id" id="index-icalendar_002dimport_002dfile"></a>
<p>The command <code class="code">icalendar-import-file</code> imports an iCalendar file
and adds the results to an Emacs diary file.  For example:
</p>
<div class="example">
<pre class="example-preformatted">(icalendar-import-file &quot;/here/is/calendar.ics&quot;
                       &quot;/there/goes/ical-diary&quot;)
</pre></div>

<p>You can use an <code class="code">#include</code> directive to add the import file contents
to the main diary file, if these are different files.
See <a class="xref" href="#Fancy-Diary-Display">Fancy Diary Display</a>.
</p>

<a class="index-entry-id" id="index-icalendar_002dexport_002dfile"></a>
<a class="index-entry-id" id="index-icalendar_002dexport_002dregion"></a>
<p>Use <code class="code">icalendar-export-file</code> to interactively export an entire
Emacs diary file to iCalendar format.  To export only a part of a diary
file, mark the relevant area, and call <code class="code">icalendar-export-region</code>.
In both cases, Emacs appends the result to the target file.
</p>
</div>
</div>
<div class="section-level-extent" id="Daylight-Saving">
<h3 class="section" id="Daylight-Saving-Time">32.11 Daylight Saving Time</h3>
<a class="index-entry-id" id="index-daylight-saving-time"></a>

<p>Emacs understands the difference between standard time and daylight
saving time&#8212;the times given for sunrise, sunset, solstices,
equinoxes, and the phases of the moon take that into account.  The rules
for daylight saving time vary from place to place and have also varied
historically from year to year.  To do the job properly, Emacs needs to
know which rules to use.
</p>
<a class="index-entry-id" id="index-calendar_002ddaylight_002dsavings_002dstarts"></a>
<a class="index-entry-id" id="index-calendar_002ddaylight_002dsavings_002dends"></a>
<p>Some operating systems keep track of the rules that apply to the place
where you are; on these systems, Emacs gets the information it needs
from the system automatically.  If some or all of this information is
missing, Emacs fills in the gaps with the rules currently used in
Cambridge, Massachusetts.  If the resulting rules are not what you want,
you can tell Emacs the rules to use by setting certain variables:
<code class="code">calendar-daylight-savings-starts</code> and
<code class="code">calendar-daylight-savings-ends</code>.
</p>
<p>These values should be Lisp expressions that refer to the variable
<code class="code">year</code>, and evaluate to the Gregorian date on which daylight
saving time starts or (respectively) ends, in the form of a list
<code class="code">(<var class="var">month</var> <var class="var">day</var> <var class="var">year</var>)</code>.  The values should be
<code class="code">nil</code> if your area does not use daylight saving time.
</p>
<p>Emacs uses these expressions to determine the starting date of
daylight saving time for the holiday list and for correcting times of
day in the solar and lunar calculations.
</p>
<p>The values for Cambridge, Massachusetts are as follows:
</p>
<div class="example">
<pre class="example-preformatted">(calendar-nth-named-day 2 0 3 year)
(calendar-nth-named-day 1 0 11 year)
</pre></div>

<p>That is, the second 0th day (Sunday) of the third month (March) in
the year specified by <code class="code">year</code>, and the first Sunday of the eleventh month
(November) of that year.  If daylight saving time were
changed to start on October 1, you would set
<code class="code">calendar-daylight-savings-starts</code> to this:
</p>
<div class="example">
<pre class="example-preformatted">(list 10 1 year)
</pre></div>

<p>If there is no daylight saving time at your location, or if you want
all times in standard time, set <code class="code">calendar-daylight-savings-starts</code>
and <code class="code">calendar-daylight-savings-ends</code> to <code class="code">nil</code>.
</p>
<a class="index-entry-id" id="index-calendar_002ddaylight_002dtime_002doffset"></a>
<p>The variable <code class="code">calendar-daylight-time-offset</code> specifies the
difference between daylight saving time and standard time, measured in
minutes.  The value for Cambridge, Massachusetts is 60.
</p>
<a class="index-entry-id" id="index-calendar_002ddaylight_002dsavings_002dends_002dtime"></a>
<p>Finally, the two variables
<code class="code">calendar-daylight-savings-starts-time</code> and
<code class="code">calendar-daylight-savings-ends-time</code> specify the number of
minutes after midnight local time when the transition to and from
daylight saving time should occur.  For Cambridge, Massachusetts both
variables&#8217; values are 120.
</p>
</div>
<div class="section-level-extent" id="Time-Intervals">
<h3 class="section" id="Summing-Time-Intervals">32.12 Summing Time Intervals</h3>
<a class="index-entry-id" id="index-time-intervals_002c-summing"></a>
<a class="index-entry-id" id="index-summing-time-intervals"></a>
<a class="index-entry-id" id="index-timeclock"></a>
<a class="index-entry-id" id="index-clocking-time"></a>

<p>The timeclock package adds up time intervals, so you can (for
instance) keep track of how much time you spend working on particular
projects.  (A more advanced alternative is to use the Org Mode&#8217;s
facilities for clocking time, see <a href="https://www.gnu.org/software/emacs/manual/html_node/org/Clocking-Work-Time.html#Clocking-Work-Time">Clocking Work Time</a> in <cite class="cite">The Org
Manual</cite>).
</p>
<a class="index-entry-id" id="index-timeclock_002din"></a>
<a class="index-entry-id" id="index-timeclock_002dout"></a>
<a class="index-entry-id" id="index-timeclock_002dchange"></a>
<a class="index-entry-id" id="index-timeclock_002dworkday_002dremaining"></a>
<a class="index-entry-id" id="index-timeclock_002dwhen_002dto_002dleave"></a>
<p>Use the <kbd class="kbd">M-x timeclock-in</kbd> command when you start working on a
project, and <kbd class="kbd">M-x timeclock-out</kbd> command when you&#8217;re done.  Each
time you do this, it adds one time interval to the record of the
project.  You can change to working on a different project with <kbd class="kbd">M-x
timeclock-change</kbd>.
</p>
<p>Once you&#8217;ve collected data from a number of time intervals, you can use
<kbd class="kbd">M-x timeclock-workday-remaining</kbd> to see how much time is left to
work today (assuming a typical average of 8 hours a day), and <kbd class="kbd">M-x
timeclock-when-to-leave</kbd> which will calculate when you&#8217;re done.
</p>
<a class="index-entry-id" id="index-timeclock_002dmode_002dline_002ddisplay-1"></a>
<a class="index-entry-id" id="index-timeclock_002dmode_002dline_002ddisplay"></a>
<p>If you want Emacs to display the amount of time left of your
workday in the mode line, either customize the
<code class="code">timeclock-mode-line-display</code> variable and set its value to
<code class="code">t</code>, or invoke the <kbd class="kbd">M-x timeclock-mode-line-display</kbd> command.
</p>
<a class="index-entry-id" id="index-timeclock_002dask_002dbefore_002dexiting"></a>
<p>Terminating the current Emacs session might or might not mean that
you have stopped working on the project and, by default, Emacs asks
you.  You can, however, customize the value of the variable
<code class="code">timeclock-ask-before-exiting</code> to <code class="code">nil</code> to avoid the question;
then, only an explicit <kbd class="kbd">M-x timeclock-out</kbd> or <kbd class="kbd">M-x
timeclock-change</kbd> will tell Emacs that the current interval is over.
</p>
<a class="index-entry-id" id="index-timelog-file"></a>
<a class="index-entry-id" id="index-timeclock_002dfile"></a>
<a class="index-entry-id" id="index-timeclock_002dreread_002dlog"></a>
<p>The timeclock functions work by accumulating the data in a file
called <samp class="file">~/.emacs.d/timelog</samp>.  You can specify a
different name for this file by customizing the variable
<code class="code">timeclock-file</code>.  If you edit the timeclock file manually, or if
you change the value of any of timeclock&#8217;s customizable variables, you
should run the command <kbd class="kbd">M-x timeclock-reread-log</kbd> to update the
data in Emacs from the file.
</p>

</div>
<div class="section-level-extent" id="Advanced-Calendar_002fDiary-Usage">
<h3 class="section" id="More-advanced-features-of-the-Calendar-and-Diary">32.13 More advanced features of the Calendar and Diary</h3>

<p>This section describes some of the more advanced/specialized
features of the calendar and diary.  It starts with some of the
many ways in which you can customize the calendar and diary to suit
your personal tastes.
</p>

<div class="subsection-level-extent" id="Calendar-Customizing">
<h4 class="subsection" id="Customizing-the-Calendar">32.13.1 Customizing the Calendar</h4>

<a class="index-entry-id" id="index-calendar_002dintermonth_002dtext"></a>
<a class="index-entry-id" id="index-calendar-layout"></a>
<a class="index-entry-id" id="index-calendar-week-numbers"></a>
<p>The calendar display unfortunately cannot be changed from three
months, but you can customize the whitespace used by setting the
variables: <code class="code">calendar-left-margin</code>,
<code class="code">calendar-day-header-width</code>, <code class="code">calendar-day-digit-width</code>,
<code class="code">calendar-column-width</code>, and <code class="code">calendar-intermonth-spacing</code>.
To display text <em class="emph">between</em> the months, for example week numbers,
customize the variables <code class="code">calendar-intermonth-header</code> and
<code class="code">calendar-intermonth-text</code> as described in their documentation.
</p>
<a class="index-entry-id" id="index-calendar_002dmonth_002dheader"></a>
<a class="index-entry-id" id="index-calendar_002dday_002dheader_002darray"></a>
<p>The variable <code class="code">calendar-month-header</code> controls the text that
appears above each month in the calendar.  By default, it shows the
month and year.  The variable <code class="code">calendar-day-header-array</code>
controls the text that appears above each day&#8217;s column in every month.
By default, it shows the first two letters of each day&#8217;s name.
</p>
<a class="index-entry-id" id="index-calendar_002dholiday_002dmarker"></a>
<a class="index-entry-id" id="index-diary_002dentry_002dmarker"></a>
<a class="index-entry-id" id="index-calendar_002dtoday_002dmarker"></a>
<p>The variable <code class="code">calendar-holiday-marker</code> specifies how to mark a
date that is a holiday.  Its value may be a single-character string to
insert next to the date, or a face name to use for displaying the date.
Likewise, the variable <code class="code">diary-entry-marker</code> specifies how to mark a
date that has diary entries.  The function <code class="code">calendar-mark-today</code>
uses <code class="code">calendar-today-marker</code> to mark today&#8217;s date.  By default,
the calendar uses faces named <code class="code">holiday</code>, <code class="code">diary</code>, and
<code class="code">calendar-today</code> for these purposes.
</p>
<a class="index-entry-id" id="index-calendar_002dinitial_002dwindow_002dhook"></a>
<p>Starting the calendar runs the normal hook
<code class="code">calendar-initial-window-hook</code>.  Recomputation of the calendar
display does not run this hook.  But if you leave the calendar with the
<kbd class="kbd">q</kbd> command and reenter it, the hook runs again.
</p>
<a class="index-entry-id" id="index-calendar_002dtoday_002dvisible_002dhook"></a>
<a class="index-entry-id" id="index-calendar_002dstar_002ddate"></a>
<p>The variable <code class="code">calendar-today-visible-hook</code> is a normal hook run
after the calendar buffer has been prepared with the calendar, when the
current date is visible in the window.  One use of this hook is to
mark today&#8217;s date; to do that use either of the functions
<code class="code">calendar-mark-today</code> or <code class="code">calendar-star-date</code>:
</p>
<a class="index-entry-id" id="index-calendar_002dmark_002dtoday"></a>
<div class="example smallexample">
<pre class="example-preformatted">(add-hook 'calendar-today-visible-hook 'calendar-mark-today)
</pre></div>

<a class="index-entry-id" id="index-calendar_002dtoday_002dinvisible_002dhook"></a>
<p>A similar normal hook, <code class="code">calendar-today-invisible-hook</code> is run if
the current date is <em class="emph">not</em> visible in the window.
</p>
<a class="index-entry-id" id="index-calendar_002dmove_002dhook"></a>
<p>Each of the calendar cursor motion commands runs the hook
<code class="code">calendar-move-hook</code> after it moves the cursor.
</p>
</div>
<div class="subsection-level-extent" id="Holiday-Customizing">
<h4 class="subsection" id="Customizing-the-Holidays">32.13.2 Customizing the Holidays</h4>

<a class="index-entry-id" id="index-calendar_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002doriental_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dsolar_002dholidays"></a>
<p>There are several variables listing the default holidays that Emacs
knows about.  These are: <code class="code">holiday-general-holidays</code>,
<code class="code">holiday-local-holidays</code>, <code class="code">holiday-solar-holidays</code>,
<code class="code">holiday-bahai-holidays</code>, <code class="code">holiday-christian-holidays</code>,
<code class="code">holiday-hebrew-holidays</code>, <code class="code">holiday-islamic-holidays</code>,
<code class="code">holiday-oriental-holidays</code>, and <code class="code">holiday-other-holidays</code>.
The names should be self-explanatory; e.g., <code class="code">holiday-solar-holidays</code>
lists sun- and moon-related holidays.
</p>
<p>You can customize these lists of holidays to your own needs, deleting or
adding holidays as described below.  Set any of them to <code class="code">nil</code> to
not show the associated holidays.
</p>
<a class="index-entry-id" id="index-holiday_002dgeneral_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dlocal_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dother_002dholidays"></a>
<p>The general holidays are, by default, holidays common throughout the
United States.  In contrast, <code class="code">holiday-local-holidays</code> and
<code class="code">holiday-other-holidays</code> are both empty by default.  These are
intended for system-wide settings and your individual use,
respectively.
</p>
<a class="index-entry-id" id="index-holiday_002dbahai_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dchristian_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dhebrew_002dholidays"></a>
<a class="index-entry-id" id="index-holiday_002dislamic_002dholidays"></a>
<a class="index-entry-id" id="index-calendar_002dbahai_002dall_002dholidays_002dflag"></a>
<a class="index-entry-id" id="index-calendar_002dchristian_002dall_002dholidays_002dflag"></a>
<a class="index-entry-id" id="index-calendar_002dhebrew_002dall_002dholidays_002dflag"></a>
<a class="index-entry-id" id="index-calendar_002dislamic_002dall_002dholidays_002dflag"></a>
<p>By default, Emacs does not include all the holidays of the religions
that it knows, only those commonly found in secular calendars.  For a
more extensive collection of religious holidays, you can set any (or
all) of the variables <code class="code">calendar-bahai-all-holidays-flag</code>,
<code class="code">calendar-christian-all-holidays-flag</code>,
<code class="code">calendar-hebrew-all-holidays-flag</code>, or
<code class="code">calendar-islamic-all-holidays-flag</code> to <code class="code">t</code>.
</p>
<a class="index-entry-id" id="index-holiday-forms"></a>
<p>Each of the holiday variables is a list of <em class="dfn">holiday forms</em>, each
form describing a holiday (or sometimes a list of holidays).  Here is
a table of the possible kinds of holiday form.  Day numbers and month
numbers count starting from 1, but <em class="dfn">dayname</em> numbers count Sunday as
0.  The argument <var class="var">string</var> is always the description of the
holiday, as a string.
</p>
<dl class="table">
<dt><code class="code">(holiday-fixed <var class="var">month</var> <var class="var">day</var> <var class="var">string</var>)</code></dt>
<dd><p>A fixed date on the Gregorian calendar.
</p>
</dd>
<dt><code class="code">(holiday-float <var class="var">month</var> <var class="var">dayname</var> <var class="var">k</var> <var class="var">string</var></code></dt>
<dd><p>&amp;optional <var class="var">day</var>)
The <var class="var">k</var>th <var class="var">dayname</var> (<var class="var">dayname</var>=0 for Sunday, and so on)
after or before Gregorian date <var class="var">month</var>, <var class="var">day</var>.  Negative <var class="var">k</var>
means count back from the end of the month.  Optional <var class="var">day</var> defaults
to 1 if <var class="var">k</var> is positive, and the last day of <var class="var">month</var> otherwise.
</p>
</dd>
<dt><code class="code">(holiday-chinese <var class="var">month</var> <var class="var">day</var> <var class="var">string</var>)</code></dt>
<dd><p>A fixed date on the Chinese calendar.
</p>
</dd>
<dt><code class="code">(holiday-hebrew <var class="var">month</var> <var class="var">day</var> <var class="var">string</var>)</code></dt>
<dd><p>A fixed date on the Hebrew calendar.
</p>
</dd>
<dt><code class="code">(holiday-islamic <var class="var">month</var> <var class="var">day</var> <var class="var">string</var>)</code></dt>
<dd><p>A fixed date on the Islamic calendar.
</p>
</dd>
<dt><code class="code">(holiday-julian <var class="var">month</var> <var class="var">day</var> <var class="var">string</var>)</code></dt>
<dd><p>A fixed date on the Julian calendar.
</p>
</dd>
<dt><code class="code">(holiday-sexp <var class="var">sexp</var> <var class="var">string</var>)</code></dt>
<dd><p>A date calculated by the Lisp expression <var class="var">sexp</var>.  The expression
should use the variable <code class="code">year</code> to compute and return the date of a
holiday in the form of a list <code class="code">(<var class="var">month</var> <var class="var">day</var> <var class="var">year</var>)</code>,
or <code class="code">nil</code> if the holiday doesn&#8217;t happen this year.
</p>
</dd>
<dt><code class="code">(if <var class="var">condition</var> <var class="var">holiday-form</var>)</code></dt>
<dd><p>A holiday that happens only if <var class="var">condition</var> is true.
</p>
</dd>
<dt><code class="code">(<var class="var">function</var> <span class="r">[</span><var class="var">args</var><span class="r">]</span>)</code></dt>
<dd><p>A list of dates calculated by the function <var class="var">function</var>, called with
arguments <var class="var">args</var>.
</p></dd>
</dl>

<p>For example, suppose you want to add Bastille Day, celebrated in
France on July 14 (i.e., the fourteenth day of the seventh month).  You
can do this as follows:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(setq holiday-other-holidays '((holiday-fixed 7 14 &quot;Bastille Day&quot;)))
</pre></div>

<p>Many holidays occur on a specific day of the week, at a specific time
of month.  Here is a holiday form describing Hurricane Supplication Day,
celebrated in the Virgin Islands on the fourth Monday in July:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(holiday-float 7 1 4 &quot;Hurricane Supplication Day&quot;)
</pre></div>

<p>Here the 7 specifies July, the 1 specifies Monday (Sunday is 0,
Tuesday is 2, and so on), and the 4 specifies the fourth occurrence in
the month (1 specifies the first occurrence, 2 the second occurrence,
&#8722;1 the last occurrence, &#8722;2 the second-to-last occurrence, and
so on).
</p>
<p>You can specify holidays that occur on fixed days of the Bahá&#8217;í,
Chinese, Hebrew, Islamic, and Julian calendars too.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">(setq holiday-other-holidays
      '((holiday-hebrew 10 2 &quot;Last day of Hanukkah&quot;)
        (holiday-islamic 3 12 &quot;Mohammed's Birthday&quot;)
        (holiday-julian 4 2 &quot;Jefferson's Birthday&quot;)))
</pre></div>

<p>adds the last day of Hanukkah (since the Hebrew months are numbered with
1 starting from Nisan), the Islamic feast celebrating Mohammed&#8217;s
birthday (since the Islamic months are numbered from 1 starting with
Muharram), and Thomas Jefferson&#8217;s birthday, which is 2 April 1743 on the
Julian calendar.
</p>
<p>To include a holiday conditionally, use either Emacs Lisp&#8217;s <code class="code">if</code>
or the <code class="code">holiday-sexp</code> form.  For example, American presidential
elections occur on the first Tuesday after the first Monday in November
of years divisible by 4:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(holiday-sexp '(if (zerop (% year 4))
                   (calendar-gregorian-from-absolute
                    (1+ (calendar-dayname-on-or-before
                          1 (+ 6 (calendar-absolute-from-gregorian
                                  (list 11 1 year)))))))
              &quot;US Presidential Election&quot;)
</pre></div>

<p>or
</p>
<div class="example smallexample">
<pre class="example-preformatted">(if (zerop (% displayed-year 4))
    (holiday-fixed 11
           (calendar-extract-day
             (calendar-gregorian-from-absolute
               (1+ (calendar-dayname-on-or-before
                     1 (+ 6 (calendar-absolute-from-gregorian
                              (list 11 1 displayed-year)))))))
           &quot;US Presidential Election&quot;))
</pre></div>

<p>Some holidays just don&#8217;t fit into any of these forms because special
calculations are involved in their determination.  In such cases you
must write a Lisp function to do the calculation.  To include eclipses,
for example, add <code class="code">(eclipses)</code> to <code class="code">holiday-other-holidays</code>
and write an Emacs Lisp function <code class="code">eclipses</code> that returns a
(possibly empty) list of the relevant Gregorian dates among the range
visible in the calendar window, with descriptive strings, like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(((6 4 2012) &quot;Lunar Eclipse&quot;) ((11 13 2012) &quot;Solar Eclipse&quot;) ... )
</pre></div>

</div>
<div class="subsection-level-extent" id="Mayan-Calendar">
<h4 class="subsection" id="Converting-from-the-Mayan-Calendar">32.13.3 Converting from the Mayan Calendar</h4>
<a class="index-entry-id" id="index-Mayan-calendar"></a>

<p>Here are the commands to select dates based on the Mayan calendar:
</p>
<dl class="table">
<dt><kbd class="kbd">g m l</kbd></dt>
<dd><p>Move to a date specified by the long count calendar
(<code class="code">calendar-mayan-goto-long-count-date</code>).
</p></dd>
<dt><kbd class="kbd">g m n t</kbd></dt>
<dd><p>Move to the next occurrence of a place in the
tzolkin calendar (<code class="code">calendar-mayan-next-tzolkin-date</code>).
</p></dd>
<dt><kbd class="kbd">g m p t</kbd></dt>
<dd><p>Move to the previous occurrence of a place in the
tzolkin calendar (<code class="code">calendar-mayan-previous-tzolkin-date</code>).
</p></dd>
<dt><kbd class="kbd">g m n h</kbd></dt>
<dd><p>Move to the next occurrence of a place in the
haab calendar (<code class="code">calendar-mayan-next-haab-date</code>).
</p></dd>
<dt><kbd class="kbd">g m p h</kbd></dt>
<dd><p>Move to the previous occurrence of a place in the
haab calendar (<code class="code">calendar-mayan-previous-haab-date</code>).
</p></dd>
<dt><kbd class="kbd">g m n c</kbd></dt>
<dd><p>Move to the next occurrence of a place in the
calendar round (<code class="code">calendar-mayan-next-calendar-round-date</code>).
</p></dd>
<dt><kbd class="kbd">g m p c</kbd></dt>
<dd><p>Move to the previous occurrence of a place in the
calendar round (<code class="code">calendar-mayan-previous-calendar-round-date</code>).
</p></dd>
</dl>

<a class="index-entry-id" id="index-Mayan-long-count"></a>
<p>To understand these commands, you need to understand the Mayan calendars.
The <em class="dfn">long count</em> is a counting of days with these units:
</p>
<div class="display">
<pre class="display-preformatted">1 kin = 1 day&#160;&#160;&#160;1 uinal = 20 kin&#160;&#160;&#160;1 tun = 18 uinal
1 katun = 20 tun&#160;&#160;&#160;1 baktun = 20 katun
</pre></div>

<a class="index-entry-id" id="index-g-m-_0028Calendar-mode_0029"></a>
<a class="index-entry-id" id="index-calendar_002dmayan_002dgoto_002dlong_002dcount_002ddate"></a>
<p>Thus, the long count date 12.16.11.16.6 means 12 baktun, 16 katun, 11
tun, 16 uinal, and 6 kin.  The Emacs calendar can handle Mayan long
count dates as early as 7.17.18.13.3, but no earlier.  When you use the
<kbd class="kbd">g m l</kbd> command, type the Mayan long count date with the baktun,
katun, tun, uinal, and kin separated by periods.
</p>
<a class="index-entry-id" id="index-calendar_002dmayan_002dprevious_002dtzolkin_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dmayan_002dnext_002dtzolkin_002ddate"></a>
<a class="index-entry-id" id="index-Mayan-tzolkin-calendar"></a>
<p>The Mayan tzolkin calendar is a cycle of 260 days formed by a pair of
independent cycles of 13 and 20 days.  Since this cycle repeats
endlessly, Emacs provides commands to move backward and forward to the
previous or next point in the cycle.  Type <kbd class="kbd">g m p t</kbd> to go to the
previous tzolkin date; Emacs asks you for a tzolkin date and moves point
to the previous occurrence of that date.  Similarly, type <kbd class="kbd">g m n t</kbd>
to go to the next occurrence of a tzolkin date.
</p>
<a class="index-entry-id" id="index-calendar_002dmayan_002dprevious_002dhaab_002ddate"></a>
<a class="index-entry-id" id="index-calendar_002dmayan_002dnext_002dhaab_002ddate"></a>
<a class="index-entry-id" id="index-Mayan-haab-calendar"></a>
<p>The Mayan haab calendar is a cycle of 365 days arranged as 18 months
of 20 days each, followed by a 5-day monthless period.  Like the tzolkin
cycle, this cycle repeats endlessly, and there are commands to move
backward and forward to the previous or next point in the cycle.  Type
<kbd class="kbd">g m p h</kbd> to go to the previous haab date; Emacs asks you for a haab
date and moves point to the previous occurrence of that date.
Similarly, type <kbd class="kbd">g m n h</kbd> to go to the next occurrence of a haab
date.
</p>
<a class="index-entry-id" id="index-calendar_002dmayan_002dnext_002dcalendar_002dround_002ddate"></a>
<a class="index-entry-id" id="index-Mayan-calendar-round"></a>
<p>The Maya also used the combination of the tzolkin date and the haab
date.  This combination is a cycle of about 52 years called a
<em class="emph">calendar round</em>.  If you type <kbd class="kbd">g m p c</kbd>, Emacs asks you for
both a haab and a tzolkin date and then moves point to the previous
occurrence of that combination.  Use <kbd class="kbd">g m n c</kbd> to move point to the
next occurrence of a combination.  These commands signal an error if the
haab/tzolkin date combination you have typed is impossible.
</p>
<p>Emacs uses strict completion
(see <a class="pxref" href="Minibuffer.xhtml#Completion-Exit">Completion Exit</a>)
whenever it asks you to type a Mayan name, so you don&#8217;t have to worry
about spelling.
</p>
</div>
<div class="subsection-level-extent" id="Date-Display-Format">
<h4 class="subsection" id="Date-Display-Format-1">32.13.4 Date Display Format</h4>
<a class="index-entry-id" id="index-calendar_002ddate_002ddisplay_002dform"></a>

<p>You can customize the way dates are displayed in the diary, mode
lines, and messages by setting <code class="code">calendar-date-display-form</code>.
This variable holds a list of expressions that can involve the variables
<code class="code">month</code>, <code class="code">day</code>, and <code class="code">year</code>, which are all numbers in
string form, and <code class="code">monthname</code> and <code class="code">dayname</code>, which are both
alphabetic strings.  In the American style, the default value of this
list is as follows:
</p>
<div class="example smallexample">
<pre class="example-preformatted">((if dayname (concat dayname &quot;, &quot;)) monthname &quot; &quot; day &quot;, &quot; year)
</pre></div>

<p>while in the European style this value is the default:
</p>
<div class="example smallexample">
<pre class="example-preformatted">((if dayname (concat dayname &quot;, &quot;)) day &quot; &quot; monthname &quot; &quot; year)
</pre></div>

<p>The default ISO date representation is:
</p>
<div class="example smallexample">
<pre class="example-preformatted">((format &quot;%s-%.2d-%.2d&quot; year (string-to-number month)
         (string-to-number day)))
</pre></div>

<p>Another typical American format is:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(month &quot;/&quot; day &quot;/&quot; (substring year -2))
</pre></div>

</div>
<div class="subsection-level-extent" id="Time-Display-Format">
<h4 class="subsection" id="Time-Display-Format-1">32.13.5 Time Display Format</h4>
<a class="index-entry-id" id="index-calendar_002dtime_002ddisplay_002dform"></a>

<p>The calendar and diary by default display times of day in the
conventional American style with the hours from 1 through 12, minutes,
and either &#8216;<samp class="samp">am</samp>&#8217; or &#8216;<samp class="samp">pm</samp>&#8217;.  If you prefer the European style,
also known in the US as military, in which the hours go from 00 to 23,
you can alter the variable <code class="code">calendar-time-display-form</code>.  This
variable is a list of expressions that can involve the variables
<code class="code">12-hours</code>, <code class="code">24-hours</code>, and <code class="code">minutes</code>, which are all
numbers in string form, and <code class="code">am-pm</code> and <code class="code">time-zone</code>, which are
both alphabetic strings.  The default value is:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(12-hours &quot;:&quot; minutes am-pm
          (if time-zone &quot; (&quot;) time-zone (if time-zone &quot;)&quot;))
</pre></div>

<p>Here is a value that provides European style times:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(24-hours &quot;:&quot; minutes
          (if time-zone &quot; (&quot;) time-zone (if time-zone &quot;)&quot;))
</pre></div>

<p>Note that few calendar functions return a time of day (at present, only
solar functions).
</p>
</div>
<div class="subsection-level-extent" id="Diary-Customizing">
<h4 class="subsection" id="Customizing-the-Diary">32.13.6 Customizing the Diary</h4>

<a class="index-entry-id" id="index-diary_002dshow_002dholidays_002dflag"></a>
<p>Ordinarily, the diary window indicates any holidays that fall on the
date of the diary entries, either in the mode line or the buffer itself.
The process of checking for holidays can be slow, depending on the
defined holidays.  In that case, setting <code class="code">diary-show-holidays-flag</code>
to <code class="code">nil</code> will speed up the diary display.
</p>
<a class="index-entry-id" id="index-diary_002dnumber_002dof_002dentries"></a>
<p>The variable <code class="code">diary-number-of-entries</code> controls the number of
days of diary entries to be displayed at one time.  It affects the
initial display when <code class="code">calendar-view-diary-initially-flag</code> is
<code class="code">t</code>, as well as the command <kbd class="kbd">M-x diary</kbd>.  For example, a value
of 1 (the default) displays only the current day&#8217;s diary entries,
whereas a value of 2 will also show the next day&#8217;s entries.  The value
can also be a vector of seven integers: for example, if the value is
<code class="code">[0 2 2 2 2 4 1]</code> then no diary entries appear on Sunday, the
current date&#8217;s and the next day&#8217;s diary entries appear Monday through
Thursday, Friday through Monday&#8217;s entries appear on Friday, while on
Saturday only that day&#8217;s entries appear.
</p>
<a class="index-entry-id" id="index-diary_002ddate_002dforms"></a>
<p>You can customize the form of dates in your diary file by setting the
variable <code class="code">diary-date-forms</code>.  This variable is a list of patterns
for recognizing a date.  Each date pattern is a list whose elements may
be regular expressions (see <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Regular-Expressions.html#Regular-Expressions">Regular Expressions</a> in <cite class="cite">the Emacs
Lisp Reference Manual</cite>) or the symbols <code class="code">month</code>, <code class="code">day</code>,
<code class="code">year</code>, <code class="code">monthname</code>, and <code class="code">dayname</code>.  All these elements
serve as patterns that match certain kinds of text in the diary file.
In order for the date pattern as a whole to match, all of its elements
must match consecutively.
</p>
<p>A regular expression in a date pattern matches in its usual fashion,
using the standard syntax table altered so that &#8216;<samp class="samp">*</samp>&#8217; is a word
constituent.
</p>
<p>The symbols <code class="code">month</code>, <code class="code">day</code>, <code class="code">year</code>, <code class="code">monthname</code>,
and <code class="code">dayname</code> match the month number, day number, year number,
month name, and day name of the date being considered.  The symbols that
match numbers allow leading zeros; those that match names allow
capitalization and abbreviation (as specified by
<code class="code">calendar-month-abbrev-array</code> and
<code class="code">calendar-day-abbrev-array</code>).  All the symbols can match &#8216;<samp class="samp">*</samp>&#8217;;
since &#8216;<samp class="samp">*</samp>&#8217; in a diary entry means &#8220;any day&#8221;, &#8220;any month&#8221;, and so
on, it should match regardless of the date being considered.
</p>
<p>The default value of <code class="code">diary-date-forms</code> in the American style is
provided by <code class="code">diary-american-date-forms</code>:
</p>
<div class="example">
<pre class="example-preformatted">((month &quot;/&quot; day &quot;[^/0-9]&quot;)
 (month &quot;/&quot; day &quot;/&quot; year &quot;[^0-9]&quot;)
 (monthname &quot; *&quot; day &quot;[^,0-9]&quot;)
 (monthname &quot; *&quot; day &quot;, *&quot; year &quot;[^0-9]&quot;)
 (dayname &quot;\\W&quot;))
</pre></div>

<p>The variables <code class="code">diary-european-date-forms</code> and
<code class="code">diary-iso-date-forms</code> provide other default styles.
</p>
<p>The date patterns in the list must be <em class="emph">mutually exclusive</em> and
must not match any portion of the diary entry itself, just the date and
one character of whitespace.  If, to be mutually exclusive, the pattern
must match a portion of the diary entry text&#8212;beyond the whitespace
that ends the date&#8212;then the first element of the date pattern
<em class="emph">must</em> be <code class="code">backup</code>.  This causes the date recognizer to back
up to the beginning of the current word of the diary entry, after
finishing the match.  Even if you use <code class="code">backup</code>, the date pattern
must absolutely not match more than a portion of the first word of the
diary entry.  For example, the default value of
<code class="code">diary-european-date-forms</code> is:
</p>
<div class="example">
<pre class="example-preformatted">((day &quot;/&quot; month &quot;[^/0-9]&quot;)
 (day &quot;/&quot; month &quot;/&quot; year &quot;[^0-9]&quot;)
 (backup day &quot; *&quot; monthname &quot;\\W+\\&lt;\\([^*0-9]\\|\\([0-9]+[:aApP]\\)\\)&quot;)
 (day &quot; *&quot; monthname &quot; *&quot; year &quot;[^0-9]&quot;)
 (dayname &quot;\\W&quot;))
</pre></div>

<p>Notice the use of <code class="code">backup</code> in the third pattern, because it needs
to match part of a word beyond the date itself to distinguish it from
the fourth pattern.
</p>
</div>
<div class="subsection-level-extent" id="Non_002dGregorian-Diary">
<h4 class="subsection" id="Diary-Entries-Using-non_002dGregorian-Calendars">32.13.7 Diary Entries Using non-Gregorian Calendars</h4>

<p>As well as entries based on the standard Gregorian calendar, your
diary can have entries based on Bahá&#8217;í, Chinese, Hebrew, or Islamic dates.
Recognition of such entries can be time-consuming, however, and since
most people don&#8217;t use them, you must explicitly enable their use.  If
you want the diary to recognize Hebrew-date diary entries, for example,
you must do this:
</p>
<a class="index-entry-id" id="index-diary_002dnongregorian_002dlisting_002dhook"></a>
<a class="index-entry-id" id="index-diary_002dnongregorian_002dmarking_002dhook"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dlist_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dmark_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dlist_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dmark_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002dlist_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002dmark_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dlist_002dentries"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dmark_002dentries"></a>
<div class="example smallexample">
<pre class="example-preformatted">(add-hook 'diary-nongregorian-listing-hook 'diary-hebrew-list-entries)
(add-hook 'diary-nongregorian-marking-hook 'diary-hebrew-mark-entries)
</pre></div>

<p>Similarly, for Islamic, Bahá&#8217;í and Chinese entries, add
<code class="code">diary-islamic-list-entries</code> and <code class="code">diary-islamic-mark-entries</code>,
<code class="code">diary-bahai-list-entries</code> and <code class="code">diary-bahai-mark-entries</code>,
or <code class="code">diary-chinese-list-entries</code> and <code class="code">diary-chinese-mark-entries</code>.
</p>
<a class="index-entry-id" id="index-diary_002dbahai_002dentry_002dsymbol"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dentry_002dsymbol"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dentry_002dsymbol"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dentry_002dsymbol"></a>
<p>These diary entries have the same formats as Gregorian-date diary
entries; except that <code class="code">diary-bahai-entry-symbol</code> (default &#8216;<samp class="samp">B</samp>&#8217;)
must precede a Bahá&#8217;í date, <code class="code">diary-chinese-entry-symbol</code> (default
&#8216;<samp class="samp">C</samp>&#8217;) a Chinese date, <code class="code">diary-hebrew-entry-symbol</code> (default
&#8216;<samp class="samp">H</samp>&#8217;) a Hebrew date, and <code class="code">diary-islamic-entry-symbol</code> (default
&#8216;<samp class="samp">I</samp>&#8217;) an Islamic date.  Moreover, non-Gregorian month names may not
be abbreviated (because the first three letters are often not unique).
(Note also that you must use &#8220;Adar I&#8221; if you want Adar of a common
Hebrew year.)  For example, a diary entry for the Hebrew date Heshvan 25
could look like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">HHeshvan 25 Happy Hebrew birthday!
</pre></div>

<p>and would appear in the diary for any date that corresponds to Heshvan 25
on the Hebrew calendar.  And here is an Islamic-date diary entry that matches
Dhu al-Qada 25:
</p>
<div class="example smallexample">
<pre class="example-preformatted">IDhu al-Qada 25 Happy Islamic birthday!
</pre></div>

<p>As with Gregorian-date diary entries, non-Gregorian entries are
nonmarking if preceded by <code class="code">diary-nonmarking-symbol</code> (default
&#8216;<samp class="samp">&amp;</samp>&#8217;).
</p>
<p>Here is a table of commands used in the calendar to create diary
entries that match the selected date and other dates that are similar in
the Bahá&#8217;í, Chinese, Hebrew, or Islamic calendars:
</p>
<dl class="table">
<dt><kbd class="kbd">i h d</kbd></dt>
<dd><p><code class="code">diary-hebrew-insert-entry</code>
</p></dd>
<dt><kbd class="kbd">i h m</kbd></dt>
<dd><p><code class="code">diary-hebrew-insert-monthly-entry</code>
</p></dd>
<dt><kbd class="kbd">i h y</kbd></dt>
<dd><p><code class="code">diary-hebrew-insert-yearly-entry</code>
</p></dd>
<dt><kbd class="kbd">i i d</kbd></dt>
<dd><p><code class="code">diary-islamic-insert-entry</code>
</p></dd>
<dt><kbd class="kbd">i i m</kbd></dt>
<dd><p><code class="code">diary-islamic-insert-monthly-entry</code>
</p></dd>
<dt><kbd class="kbd">i i y</kbd></dt>
<dd><p><code class="code">diary-islamic-insert-yearly-entry</code>
</p></dd>
<dt><kbd class="kbd">i B d</kbd></dt>
<dd><p><code class="code">diary-bahai-insert-entry</code>
</p></dd>
<dt><kbd class="kbd">i B m</kbd></dt>
<dd><p><code class="code">diary-bahai-insert-monthly-entry</code>
</p></dd>
<dt><kbd class="kbd">i B y</kbd></dt>
<dd><p><code class="code">diary-bahai-insert-yearly-entry</code>
</p></dd>
<dt><kbd class="kbd">i C d</kbd></dt>
<dd><p><code class="code">diary-chinese-insert-entry</code>
</p></dd>
<dt><kbd class="kbd">i C m</kbd></dt>
<dd><p><code class="code">diary-chinese-insert-monthly-entry</code>
</p></dd>
<dt><kbd class="kbd">i C y</kbd></dt>
<dd><p><code class="code">diary-chinese-insert-yearly-entry</code>
</p></dd>
<dt><kbd class="kbd">i C a</kbd></dt>
<dd><p><code class="code">diary-chinese-insert-anniversary-entry</code>
</p></dd>
</dl>

<a class="index-entry-id" id="index-diary_002dhebrew_002dinsert_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dinsert_002dmonthly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dinsert_002dyearly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dinsert_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dinsert_002dmonthly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002dinsert_002dyearly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002dinsert_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002dinsert_002dmonthly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002dinsert_002dyearly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dinsert_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dinsert_002dmonthly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dinsert_002dyearly_002dentry"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002dinsert_002danniversary_002dentry"></a>

<p>These commands work much like the corresponding commands for ordinary
diary entries: they apply to the date that point is on in the calendar
window, and what they do is insert just the date portion of a diary
entry at the end of your diary file.  You must then insert the rest of
the diary entry.  The basic commands add an entry for the specific
non-Gregorian date, the &#8216;<samp class="samp">monthly</samp>&#8217; commands for the given
non-Gregorian day-within-month in every month, and the &#8216;<samp class="samp">yearly</samp>&#8217;
commands for the given non-Gregorian day and month in every year.
</p>
</div>
<div class="subsection-level-extent" id="Diary-Display">
<h4 class="subsection" id="Diary-Display-1">32.13.8 Diary Display</h4>
<a class="index-entry-id" id="index-diary_002ddisplay_002dfunction"></a>
<a class="index-entry-id" id="index-diary_002dsimple_002ddisplay"></a>
<a class="index-entry-id" id="index-diary_002dfancy_002ddisplay"></a>
<a class="index-entry-id" id="index-diary-buffer"></a>

<p>Diary display works by preparing the list of diary entries and then
running the function specified by the variable
<code class="code">diary-display-function</code>.  The default value
<code class="code">diary-fancy-display</code> displays diary entries and holidays by
copying them into a special buffer that exists only for the sake of
display.  Copying diary entries to a separate buffer provides an
opportunity to change the displayed text to make it prettier&#8212;for
example, to sort the entries by the dates they apply to.
</p>
<a class="index-entry-id" id="index-diary_002dlist_002dinclude_002dblanks"></a>
<p>Ordinarily, the fancy diary buffer does not show days for which there
are no diary entries, even if that day is a holiday.  If you want such
days to be shown in the fancy diary buffer, set the variable
<code class="code">diary-list-include-blanks</code> to <code class="code">t</code>.
</p>
<p>The fancy diary buffer enables View mode
(see <a class="pxref" href="Display.xhtml#View-Mode">View Mode</a>).
</p>
<p>The alternative display method <code class="code">diary-simple-display</code> shows the
actual diary buffer, and uses invisible text to hide entries that don&#8217;t
apply.  Holidays are shown in the mode line.  The advantage of this
method is that you can edit the buffer and save your changes directly to
the diary file.  This method is not as flexible as the fancy method,
however.  For example, it cannot sort entries.  Another disadvantage is
that invisible text can be confusing.  For example, if you copy a region
of text in order to paste it elsewhere, invisible text may be included.
Similarly, since the diary buffer as you see it is an illusion, simply
printing the buffer may not print what you see on your screen.
</p>
<a class="index-entry-id" id="index-diary_002dprint_002dentries_002dhook"></a>
<a class="index-entry-id" id="index-diary_002dprint_002dentries"></a>
<p>For this reason, there is a special command to print hard copy of the
diary buffer <em class="emph">as it appears</em>; this command is <kbd class="kbd">M-x
diary-print-entries</kbd>.  It works with either display method, although
with the fancy display you can also print the buffer like any other.  To
print a hard copy of a day-by-day diary for a week, position point on
the first day of the week, type <kbd class="kbd">7 d</kbd>, and then do <kbd class="kbd">M-x
diary-print-entries</kbd>.  As usual, the inclusion of the holidays slows
down the display slightly; you can speed things up by setting the
variable <code class="code">diary-show-holidays-flag</code> to <code class="code">nil</code>.
</p>
<p>This command prepares a temporary buffer that contains only the diary
entries currently visible in the diary buffer.  Unlike with the simple
display, the other irrelevant entries are really absent, not just
hidden.  After preparing the buffer, it runs the hook
<code class="code">diary-print-entries-hook</code>.  The default value of this hook sends
the data directly to the printer with the command <code class="code">lpr-buffer</code>
(see <a class="pxref" href="Printing.xhtml#Printing">Printing Hard Copies</a>).
If you want to use a different command to do the
printing, just change the value of this hook.  Other uses might include,
for example, rearranging the lines into order by day and time.
</p>
<p>You can edit the diary entries as they appear in the simple diary
window, but it is important to remember that the buffer displayed
contains the <em class="emph">entire</em> diary file, with portions of it concealed
from view.  This means, for instance, that the <kbd class="kbd">C-f</kbd>
(<code class="code">forward-char</code>) command can put point at what appears to be the
end of the line, but what is in reality the middle of some concealed
line.
</p>
<p><em class="emph">Be careful when editing the diary entries in the simple display!</em>
Inserting additional lines or adding/deleting characters in the middle
of a visible line cannot cause problems, but editing at the end of a
line may not do what you expect.  Deleting a line may delete other
invisible entries that follow it.  Before editing the simple diary
buffer, it is best to display the entire file with <kbd class="kbd">s</kbd>
(<code class="code">diary-show-all-entries</code>).
</p>
</div>
<div class="subsection-level-extent" id="Fancy-Diary-Display">
<h4 class="subsection" id="Fancy-Diary-Display-1">32.13.9 Fancy Diary Display</h4>

<p>The following features only work with the fancy diary display.
</p>
<a class="index-entry-id" id="index-sorting-diary-entries"></a>
<p>You can use the normal hook <code class="code">diary-list-entries-hook</code> to sort
each day&#8217;s diary entries by their time of day.  Here&#8217;s how:
</p>
<a class="index-entry-id" id="index-diary_002dsort_002dentries"></a>
<div class="example">
<pre class="example-preformatted">(add-hook 'diary-list-entries-hook 'diary-sort-entries t)
</pre></div>

<p>For each day, this sorts diary entries that begin with a recognizable
time of day according to their times.  Diary entries without times come
first within each day.  Note how the sort command is placed at the end
of the hook list, in case earlier members of the list change the order
of the diary entries, or add items.
</p>
<a class="index-entry-id" id="index-diary_002dcomment_002dstart"></a>
<p>You can write &#8216;<samp class="samp">comments</samp>&#8217; in diary entries, by setting the
variables <code class="code">diary-comment-start</code> and <code class="code">diary-comment-end</code> to
strings that delimit comments.  The fancy display does not print
comments.  You might want to put meta-data for the use of other packages
(e.g., the appointment package,
see <a class="pxref" href="#Appointments">Appointments</a>)
inside comments.
</p>
<a class="index-entry-id" id="index-diary_002dinclude_002dstring"></a>
<p>Your main diary file can include other files.  This permits a group of
people to share a diary file for events that apply to all of them.
Lines in the diary file starting with <code class="code">diary-include-string</code>:
</p>
<div class="example smallexample">
<pre class="example-preformatted">#include &quot;<var class="var">filename</var>&quot;
</pre></div>

<p>include the diary entries from the file <var class="var">filename</var> in the fancy
diary buffer.  The include mechanism is recursive, so that included
files can include other files, and so on (you must be careful not to
have a cycle of inclusions, of course).  Here is how to enable the
include facility:
</p>
<a class="index-entry-id" id="index-diary_002dlist_002dentries_002dhook"></a>
<a class="index-entry-id" id="index-diary_002dmark_002dentries_002dhook"></a>
<a class="index-entry-id" id="index-diary_002dinclude_002dother_002ddiary_002dfiles"></a>
<a class="index-entry-id" id="index-diary_002dmark_002dincluded_002ddiary_002dfiles"></a>
<div class="example smallexample">
<pre class="example-preformatted">(add-hook 'diary-list-entries-hook 'diary-include-other-diary-files)
(add-hook 'diary-mark-entries-hook 'diary-mark-included-diary-files)
</pre></div>

<p>The include mechanism works only with the fancy diary display, because
simple diary display shows the entries directly from your diary file.
</p>
</div>
<div class="subsection-level-extent" id="Sexp-Diary-Entries">
<h4 class="subsection" id="Sexp-Entries-and-the-Fancy-Diary-Display">32.13.10 Sexp Entries and the Fancy Diary Display</h4>
<a class="index-entry-id" id="index-sexp-diary-entries"></a>

<a class="index-entry-id" id="index-diary_002dsexp_002dentry_002dsymbol"></a>
<p>Sexp diary entries allow you to do more than just have complicated
conditions under which a diary entry applies.  Sexp entries should be
preceded by <code class="code">diary-sexp-entry-symbol</code> (default &#8216;<samp class="samp">%%</samp>&#8217;) in the
diary file.  With the fancy diary display, sexp entries can generate the
text of the entry depending on the date itself.
</p>
<p>For example, an anniversary diary entry can insert
the number of years since the anniversary date into the text of the
diary entry.  Thus the &#8216;<samp class="samp">%d</samp>&#8217; in this diary entry:
</p>
<a class="index-entry-id" id="index-diary_002danniversary_002c-and-sexp-diary-entries"></a>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-anniversary 10 31 1948) Arthur's birthday (%d years old)
</pre></div>

<p>gets replaced by the age, so on October 31, 1990 the entry appears in
the fancy diary buffer like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">Arthur's birthday (42 years old)
</pre></div>

<p>If the diary file instead contains this entry:
</p>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-anniversary 10 31 1948) Arthur's %d%s birthday
</pre></div>

<p>the entry in the fancy diary buffer for October 31, 1990 appears like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">Arthur's 42nd birthday
</pre></div>

<p>Similarly, cyclic diary entries can interpolate the number of repetitions
that have occurred:
</p>
<a class="index-entry-id" id="index-diary_002dcyclic_002c-and-sexp-diary-entries"></a>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-cyclic 50 1 1 2012) Renew medication (%d%s time)
</pre></div>

<p>looks like this:
</p>
<div class="example smallexample">
<pre class="example-preformatted">Renew medication (5th time)
</pre></div>

<p>in the fancy diary display on September 7, 2012.
</p>
<p>There is an early-reminder diary sexp that includes its entry in the
diary not only on the date of occurrence, but also on earlier dates.
For example, if you want a reminder a week before your anniversary, you
can use
</p>
<a class="index-entry-id" id="index-diary_002dremind"></a>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-remind '(diary-anniversary 12 22 1968) 7) Ed's anniversary
</pre></div>

<p>and the fancy diary will show &#8216;<samp class="samp">Ed's anniversary</samp>&#8217; both on December
15 and on December 22.
</p>
<a class="index-entry-id" id="index-diary_002ddate"></a>
<p>The function <code class="code">diary-date</code> applies to dates described by a month,
day, year combination, each of which can be an integer, a list of
integers, or <code class="code">t</code> (meaning all values).  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-date '(10 11 12) 22 t) Rake leaves
</pre></div>

<p>causes the fancy diary to show
</p>
<div class="example smallexample">
<pre class="example-preformatted">Rake leaves
</pre></div>

<p>on October 22, November 22, and December 22 of every year.
</p>
<a class="index-entry-id" id="index-diary_002dfloat_002c-and-sexp-diary-entries"></a>
<p>The function <code class="code">diary-float</code> allows you to describe diary entries
that apply to dates like the third Friday of November, or the last
Tuesday in April.  The parameters are the <var class="var">month</var>, <var class="var">dayname</var>,
and an index <var class="var">n</var>.  The entry appears on the <var class="var">n</var>th <var class="var">dayname</var>
after the first day of <var class="var">month</var>, where <var class="var">dayname</var>=0 means Sunday,
1 means Monday, and so on.  If <var class="var">n</var> is negative it counts backward
from the end of <var class="var">month</var>.  The value of <var class="var">month</var> can be a list of
months, a single month, or <code class="code">t</code> to specify all months.  You can also
use an optional parameter <var class="var">day</var> to specify the <var class="var">n</var>th
<var class="var">dayname</var> on or after/before <var class="var">day</var> of <var class="var">month</var>; the value of
<var class="var">day</var> defaults to 1 if <var class="var">n</var> is positive and to the last day of
<var class="var">month</var> if <var class="var">n</var> is negative.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">%%(diary-float t 1 -1) Pay rent
</pre></div>

<p>causes the fancy diary to show
</p>
<div class="example smallexample">
<pre class="example-preformatted">Pay rent
</pre></div>

<p>on the last Monday of every month.
</p>
<p>The generality of sexp diary entries lets you specify any diary
entry that you can describe algorithmically.  A sexp diary entry
contains an expression that computes whether the entry applies to any
given date.  If its value is non-<code class="code">nil</code>, the entry applies to that
date; otherwise, it does not.  The expression can use the variable
<code class="code">date</code> to find the date being considered; its value is a list
(<var class="var">month</var> <var class="var">day</var> <var class="var">year</var>) that refers to the Gregorian
calendar.
</p>
<p>The sexp diary entry applies to a date when the expression&#8217;s value
is non-<code class="code">nil</code>, but some values have more specific meanings.  If
the value is a string, that string is a description of the event which
occurs on that date.  The value can also have the form
<code class="code">(<var class="var">mark</var> . <var class="var">string</var>)</code>; then <var class="var">mark</var> specifies how to
mark the date in the calendar, and <var class="var">string</var> is the description of
the event.  If <var class="var">mark</var> is a single-character string, that character
appears next to the date in the calendar.  If <var class="var">mark</var> is a face
name, the date is displayed in that face.  If <var class="var">mark</var> is
<code class="code">nil</code>, that specifies no particular highlighting for the date.
</p>
<p>Suppose you get paid on the 21st of the month if it is a weekday, and
on the Friday before if the 21st is on a weekend.  Here is how to write
a sexp diary entry that matches those dates:
</p>
<div class="example smallexample">
<pre class="example-preformatted">&amp;%%(let ((dayname (calendar-day-of-week date))
         (day (cadr date)))
      (or (and (= day 21) (memq dayname '(1 2 3 4 5)))
          (and (memq day '(19 20)) (= dayname 5)))
         ) Pay check deposited
</pre></div>

<p>The following sexp diary entries take advantage of the ability (in the fancy
diary display) to concoct diary entries whose text varies based on the date:
</p>
<a class="index-entry-id" id="index-diary_002dsunrise_002dsunset"></a>
<a class="index-entry-id" id="index-diary_002dlunar_002dphases"></a>
<a class="index-entry-id" id="index-diary_002dday_002dof_002dyear"></a>
<a class="index-entry-id" id="index-diary_002diso_002ddate"></a>
<a class="index-entry-id" id="index-diary_002djulian_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dastro_002dday_002dnumber"></a>
<a class="index-entry-id" id="index-diary_002dbahai_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dchinese_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dcoptic_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dethiopic_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dislamic_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dfrench_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dmayan_002ddate"></a>
<a class="index-entry-id" id="index-diary_002dpersian_002ddate"></a>
<dl class="table">
<dt><code class="code">%%(diary-sunrise-sunset)</code></dt>
<dd><p>Make a diary entry for today&#8217;s local times of sunrise and sunset.
</p></dd>
<dt><code class="code">%%(diary-lunar-phases)</code></dt>
<dd><p>Make a diary entry for the phases (quarters) of the moon.
</p></dd>
<dt><code class="code">%%(diary-day-of-year)</code></dt>
<dd><p>Make a diary entry with today&#8217;s day number in the current year and the number
of days remaining in the current year.
</p></dd>
<dt><code class="code">%%(diary-iso-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent ISO commercial date.
</p></dd>
<dt><code class="code">%%(diary-julian-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Julian calendar date.
</p></dd>
<dt><code class="code">%%(diary-astro-day-number)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent astronomical (Julian) day number.
</p></dd>
<dt><code class="code">%%(diary-bahai-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Bahá&#8217;í calendar date.
</p></dd>
<dt><code class="code">%%(diary-chinese-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Chinese calendar date.
</p></dd>
<dt><code class="code">%%(diary-coptic-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Coptic calendar date.
</p></dd>
<dt><code class="code">%%(diary-ethiopic-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Ethiopic calendar date.
</p></dd>
<dt><code class="code">%%(diary-french-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent date on the French Revolutionary
calendar.
</p></dd>
<dt><code class="code">%%(diary-hebrew-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Hebrew calendar date.
</p></dd>
<dt><code class="code">%%(diary-islamic-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Islamic calendar date.
</p></dd>
<dt><code class="code">%%(diary-mayan-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Mayan calendar date.
</p></dd>
<dt><code class="code">%%(diary-persian-date)</code></dt>
<dd><p>Make a diary entry with today&#8217;s equivalent Persian calendar date.
</p></dd>
</dl>

<p>For example, including the diary entry
</p>
<div class="example smallexample">
<pre class="example-preformatted">&amp;%%(diary-hebrew-date)
</pre></div>

<p>causes every day&#8217;s diary display to contain the equivalent date on the
Hebrew calendar, if you are using the fancy diary display.  (With simple
diary display, the literal line &#8216;<samp class="samp">&amp;%%(diary-hebrew-date)</samp>&#8217; appears in
the diary for any date.)
</p>
<p>This function has been used to construct certain standard Hebrew sexp
diary entries:
</p>
<a class="index-entry-id" id="index-rosh-hodesh"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002drosh_002dhodesh"></a>
<a class="index-entry-id" id="index-parasha_002c-weekly"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dparasha"></a>
<a class="index-entry-id" id="index-candle-lighting-times"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dsabbath_002dcandles"></a>
<a class="index-entry-id" id="index-omer-count"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002domer"></a>
<a class="index-entry-id" id="index-yahrzeits_002c-and-sexp-diary-entries"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dyahrzeit"></a>
<a class="index-entry-id" id="index-diary_002dhebrew_002dbirthday"></a>
<dl class="table">
<dt><code class="code">%%(diary-hebrew-rosh-hodesh)</code></dt>
<dd><p>Make a diary entry that tells the occurrence and ritual announcement of each
new Hebrew month.
</p></dd>
<dt><code class="code">%%(diary-hebrew-parasha)</code></dt>
<dd><p>Make a Saturday diary entry that tells the weekly synagogue scripture reading.
</p></dd>
<dt><code class="code">%%(diary-hebrew-sabbath-candles)</code></dt>
<dd><p>Make a Friday diary entry that tells the <em class="emph">local time</em> of Sabbath
candle lighting.
</p></dd>
<dt><code class="code">%%(diary-hebrew-omer)</code></dt>
<dd><p>Make a diary entry that gives the omer count, when appropriate.
</p></dd>
<dt><code class="code">%%(diary-hebrew-yahrzeit <var class="var">month</var> <var class="var">day</var> <var class="var">year</var>) <var class="var">name</var></code></dt>
<dd><p>Make a diary entry marking the anniversary of a date of death.  The date
is the <em class="emph">Gregorian</em> (civil) date of death.  The diary entry appears
on the proper Hebrew calendar anniversary and on the day before.  (The
order of the parameters changes according to the calendar date style;
for example in the European style to <var class="var">day</var>, <var class="var">month</var>, <var class="var">year</var>.)
</p></dd>
<dt><code class="code">%%(diary-hebrew-birthday <var class="var">month</var> <var class="var">day</var> <var class="var">year</var>)</code></dt>
<dd><p>Make a diary entry for a birthday on the Hebrew calendar.
</p></dd>
</dl>

<p>All the functions documented above take an optional argument
<var class="var">mark</var> which specifies how to mark the date in the calendar display.
If one of these functions decides that it applies to a certain date,
it returns a value that contains <var class="var">mark</var>, as described above.
</p></div>
</div>
</div>



</body>
</html>
