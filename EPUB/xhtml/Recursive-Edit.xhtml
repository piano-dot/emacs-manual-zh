<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<!-- 这是 GNU Emacs 手册,
为 Emacs  29.2 更新

英文原版版权提示 - Original English version copyright note

Copyright © 1985-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."

中文翻译版版权提示 - Chinese translation revision copyright notice

版权所有 © 1985-2024 林羿轩(Ralph Lin).

您有在 Free Software Foundation发布的GNU Free Documentation License 第1.3版或之后版本的约束下对其进行再发布及修的权利。 恒定章节为 "The GNU Manifesto," "分发" "(中文版)GNU GENERAL PUBLIC LICENSE" 和
"GNU GENERAL PUBLIC LICENSE" , 前封面文字为 "A GNU
Manual,"后封面文字如下(a).  本书的FDL许可证可以在 "GNU Free Documentation
License."找到.

(a) FSF的后封面文字为: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom."
 -->
<title>46 Recursive Editing Levels (GNU Emacs Manual)</title>

<meta name="description" content="46 Recursive Editing Levels (GNU Emacs Manual)"/>
<meta name="keywords" content="46 Recursive Editing Levels (GNU Emacs Manual)"/>
<meta name="resource-type" content="document"/>
<meta name="distribution" content="global"/>
<meta name="Generator" content="texi2any"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>

<link href="emacs.xhtml" rel="start" title="Emacs 编辑器"/>
<link href="Key-Index.xhtml" rel="index" title="Key (Character) Index"/>
<link href="emacs.xhtml#SEC_Contents" rel="contents" title="Table of Contents"/>
<link href="emacs.xhtml" rel="up" title="Emacs 编辑器"/>
<link href="Hyperlinking.xhtml#Hyperlinking" rel="next" title="47 Hyperlinking and Web Navigation Features"/>
<link href="Saving-Emacs-Sessions.xhtml" rel="prev" title="45 Saving Emacs Sessions"/>
<style type="text/css">
<!--
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
-->
</style>


</head>

<body lang="zh_CN">
<div class="chapter-level-extent" id="Recursive-Edit">

<h2 class="chapter section-level-set-chapter" id="Recursive-Editing-Levels">46 Recursive Editing Levels</h2>
<a class="index-entry-id" id="index-recursive-editing-level"></a>
<a class="index-entry-id" id="index-editing-level_002c-recursive"></a>

<p>A <em class="dfn">recursive edit</em> is a situation in which you are using Emacs
commands to perform arbitrary editing while in the middle of another
Emacs command.  For example, when you type <kbd class="kbd">C-r</kbd> inside of a
<code class="code">query-replace</code>, you enter a recursive edit in which you can change
the current buffer.  On exiting from the recursive edit, you go back to
the <code class="code">query-replace</code>.  See <a class="xref" href="Search.xhtml#Query-Replace">Query Replace</a>.
</p>
<a class="index-entry-id" id="index-C_002dM_002dc"></a>
<a class="index-entry-id" id="index-exit_002drecursive_002dedit"></a>
<a class="index-entry-id" id="index-exiting-recursive-edit"></a>
<p><em class="dfn">Exiting</em> the recursive edit means returning to the unfinished
command, which continues execution.  The command to exit is <kbd class="kbd">C-M-c</kbd>
(<code class="code">exit-recursive-edit</code>).
</p>
<p>You can also <em class="dfn">abort</em> the recursive edit.  This is like exiting,
but also quits the unfinished command immediately.  Use the command
<kbd class="kbd">C-]</kbd> (<code class="code">abort-recursive-edit</code>) to do this.  See <a class="xref" href="Quitting.xhtml">Quitting and Aborting</a>.
</p>
<p>The mode line shows you when you are in a recursive edit by displaying
square brackets around the parentheses that always surround the major and
minor mode names.  Every window&#8217;s mode line shows this in the same way,
since being in a recursive edit is true of Emacs as a whole rather than
any particular window or buffer.
</p>
<p>It is possible to be in recursive edits within recursive edits.  For
example, after typing <kbd class="kbd">C-r</kbd> in a <code class="code">query-replace</code>, you may type a
command that enters the debugger.  This begins a recursive editing level
for the debugger, within the recursive editing level for <kbd class="kbd">C-r</kbd>.
Mode lines display a pair of square brackets for each recursive editing
level currently in progress.
</p>
<p>Exiting the inner recursive edit (such as with the debugger <kbd class="kbd">c</kbd>
command) resumes the command running in the next level up.  When that
command finishes, you can then use <kbd class="kbd">C-M-c</kbd> to exit another recursive
editing level, and so on.  Exiting applies to the innermost level only.
Aborting also gets out of only one level of recursive edit; it returns
immediately to the command level of the previous recursive edit.  If you
wish, you can then abort the next recursive editing level.
</p>
<p>Alternatively, the command <kbd class="kbd">M-x top-level</kbd> aborts all levels of
recursive edits, returning immediately to the top-level command
reader.  It also exits the minibuffer, if it is active.
</p>
<p>The text being edited inside the recursive edit need not be the same text
that you were editing at top level.  It depends on what the recursive edit
is for.  If the command that invokes the recursive edit selects a different
buffer first, that is the buffer you will edit recursively.  In any case,
you can switch buffers within the recursive edit in the normal manner (as
long as the buffer-switching keys have not been rebound).  You could
probably do all the rest of your editing inside the recursive edit,
visiting files and all.  But this could have surprising effects (such as
stack overflow) from time to time.  So remember to exit or abort the
recursive edit when you no longer need it.
</p>
<p>In general, we try to minimize the use of recursive editing levels in
GNU Emacs.  This is because they constrain you to go back in a
particular order&#8212;from the innermost level toward the top level.  When
possible, we present different activities in separate buffers so that
you can switch between them as you please.  Some commands switch to a
new major mode which provides a command to switch back.  These
approaches give you more flexibility to go back to unfinished tasks in
the order you choose.
</p>

</div>



</body>
</html>
